Changelog
=========

3.0.0a4 (2020-06-17)
--------------------

- Fix uninstall profile
  [ale-rt]


3.0.0a3 (2020-03-30)
--------------------

- Fix support for Plone5.1 and Plone5.2
  [ale-rt]


3.0.0a2 (2020-03-27)
--------------------

- Plone 5.2 / Zope 4 fixes.
  [thet]

3.0.0a1 (2018-10-12)
--------------------

- Drop hard dependency on plone.app.kss
- Drop compatibility with Plone 4


2.4b4 (2016-12-02)
------------------

- Avoid write on read when calling isSubscribedTo
- The import step to add the portlet looks for the marker file
  [ale-rt]


2.4b3 (2016-09-05)
------------------

- This is actually implementing what b2 claimed to do.


2.4b2 (2016-09-05)
------------------

- don't do registration on getUID, do it on subscribe, when we can protect
  it with a plone.procect token. CSRF [pilz]


2.4b1 (2016-09-02)
------------------

- Don't try to add the obsolete plone.rightcolumn portlet in plone 5
  [cillianderoiste]


2.3b4 (2016-08-25)
------------------

- Work around an error with installation and configuration via GS
  [cillianderoiste]


2.3b3 (2016-08-25)
------------------

- Complete uninstall profile.
  [thet]

- Add plone.app.kss for Plone 4.3+ compatiblity.
  [thet]

- Add dexterity support [cillianderoiste]

- Fix installation on Plone 5 [cillianderoiste]


2.3b2 (2012-07-02)
------------------

- try reading changenote from request, it's not written to history yet
  [reinhardt]

- filter out some cases to avoid sending triple notifications for
  OnObjectRemovedEvent [reinhardt]

- Replaced PersistentMapping with IOBTree/OOBTree. PersistentMapping
  does not scale well at all. [pysailor]


2.3b1 (2012-03-29)
------------------

- Added a confliglet to allow admins to see the list of users
  that are subscribed and to be able to unsubscribe whoever
  they want easily [lucielejard]

- The actual notification process, namely sending an email to interested
  users, has been split into a named utility. You can register your own
  notification methods in the same way, and CMFNotification will be able
  to use them. This allows for other distribution methods than just email.
  [izakburger]


2.2 (29 March 2011)
-------------------

- Minor tweaks to the README and the setup.py files. [dbaty]


2.2 release candidate 2 (6 January 2011)
----------------------------------------

- fixed a bug that made impossible to subscribe to the default
  "Events" and "News" collections and, more generally, to any
  folderish item that was selected as the default page of its
  parent. [dbaty] (`issue #32`_)

- added translation in Catalan [sneridagh]

.. _issue #32: http://plone.org/products/cmfnotification/issues/32


2.2 release candidate 1 (30 December 2010)
------------------------------------------

- worked around a nasty bug that caused the portal to be broken when
  CMFNotification was uninstalled and a subscription portlet was still
  configured somewhere;

- cleaned uninstallation through a GenericSetup profile. [kurt]

- updated tests for Plone 4. [dbaty]

- fixed default notification templates to have them work in Plone 4
  (and still in Plone 3) [dbaty]


2.2a1 (21 April 2010)
---------------------

- Registered the permission in zcml and call setDefaultRoles in __init__.py. [jcbrand]


2.2dev1 (25 February 2010)
--------------------------

- The svn repository for the new eggified package has changed:
  http://svn.plone.org/svn/collective/Products.CMFNotification [jcbrand]

- Made CMFNotification a setuptools/distribute Python egg package [jcbrand]

- Remove the creation/registration of the PTSTranslationDomain utility. It has
  been deprecated in favour of zope.18n.translationdomain.TranslationDomain
  [jcbrand]


2.1 (4 July 2008)
-----------------

- added notification on object removal

- added safety belts for perverted usage;

- added AJAX features in the subscription portlet: if the user has
  enabled Javascrpt, the page is not refreshed when (s)he presses the
  subscribe/unsubscribe button;

- rewrote overly complicated ``_getPreviousVersion()`` method.


2.0 (24 June 2008)
------------------

- finally provided an implementation for the ``previous`` binding that
  will let integrators display changes in notification template when
  an item is modified;

- added handler for item copy/paste, which now triggers "item
  creation" rules;

- moved installation code to Generic Setup steps;

- added an old Brazilian Portuguese translation contributed by Julio
  Monteiro;

- added labels on users selection rules so that different e-mails can
  be sent on the same action;

- added ``previous_state`` binding on workflow notification;

- fixed an i18n bug in the portal status messages generated by the
  subscribe/unsubscribe buttons in the portlet;

- added import/export mechanism for Generic Setup;

- changed the method that retrieves the mail template: by using
  ``restrictedTraverse()`` instead of ``getattr()``, we now allow the
  template to be a browser view;

- replaced ``title`` by ``Title`` in default mail templates (thanks to
  Martin Stadler for his bug report);

- fixed link (added ``/view``) in default mail templates;

- added safety belt when we cannot fetch an user's e-mail address
  (thanks to Laurence Pawling for his bug report);

- header encoding function is now more robust and handles more fields
  (including ``From``, which it did not handle);

- header encoding function now encodes only headers. It used to be a
  bit greedy and could possibly encode the message itself, leading to
  funny text, though not really readable;

- fixed uninstallation issues (CMFNotification used to leave remnants
  of itself);

- fixed a bug that caused bindings not to be included in mail
  templates options;

- added ``current_state`` binding for all rules and mail templates;

- "Mail subscription" portlet is now automatically added when the
  product is installed;

- minor changes in tests and documentation.


2.0 release candidate 1 (unknown release date)
----------------------------------------------

- CMFNotification now **requires** Plone 3. It is **not** compatible
  with prior versions of Plone anymore;

- new, simplified, text-only notification mail templates. If you have
  a CMFNotification 1.x notification templates, they may still work,
  though.


1.1 (14 September 2007)
-----------------------

- added how-to's, arranged documentation and converted it to reST.

- fixed a bug which caused CMFNotification to ask the user to download
  a file when (s)he subscribes or unsubscribes to it. Thanks to
  Christophe Sauthier for the patch.

- added translation in German, thanks to Gunter Vasold.


1.0 (28 August 2007)
--------------------

- added debug properties to the configuration.

- added Maildrop Host in list of recognized mailhost types.

- removed useless ``sendTemplateTo()`` method from notification tool.

- stripped rule components so that we can now write rules which are
  readable, like ``* :: *`` instead of the ugly ``*::*``.


0.9.0 (4 June 2006)
-------------------

First public release.
