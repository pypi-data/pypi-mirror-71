(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"DtL+":function(e,n,t){"use strict";(function(e){var r=t("OnzC"),o=t("ERkP"),i=t.n(o),c=t("r8eb"),a=t("roxr"),u=t("JBtm"),l=t.n(u),s=t("j/s1"),d=t("RbC2"),b=t("O1Fn"),f=t("9bu8"),m=i.a.createElement,p=function(){return t.e(10).then(t.bind(null,"ppfC")).then((function(e){var n=e.high_dimensional_divide;return function(e){var t;return n(e.points,e.labels,!!e.visibility,null!==(t=e.keyword)&&void 0!==t?t:"")}}))},v=function(){return new Worker(e,void 0)},g=Object(s.c)(a.a).withConfig({displayName:"HighDimensionalChart__StyledScatterChart",componentId:"i3h5jz-0"})(["height:",";"],c.k),h=s.c.div.withConfig({displayName:"HighDimensionalChart__Empty",componentId:"i3h5jz-1"})(["display:flex;justify-content:center;align-items:center;font-size:",";height:",";"],Object(c.G)(20),c.k),j={show:!0,position:"top",formatter:function(e){return e.data.showing?e.data.name:""}};n.a=function(e){var n=e.run,t=e.tag,i=e.running,a=e.labelVisibility,u=e.keyword,s=e.reduction,O=e.dimension,y=Object(f.g)("common").t,k=Object(b.b)(n&&t?"/embeddings/embedding?".concat(l.a.stringify({run:n,tag:t,dimension:Number.parseInt(O,10),reduction:s})):null,!!i),w=k.data,C=k.error,x=k.loading,E=Object(o.useMemo)((function(){var e,n;return{points:null!==(e=null===w||void 0===w?void 0:w.embedding)&&void 0!==e?e:[],keyword:u,labels:null!==(n=null===w||void 0===w?void 0:w.labels)&&void 0!==n?n:[],visibility:a}}),[w,a,u]),_=Object(d.a)(p,v,r.divide,E),S=Object(o.useMemo)((function(){var e,n;return[{name:"highlighted",data:null!==(e=null===_||void 0===_?void 0:_[0])&&void 0!==e?e:[],label:j},{name:"others",data:null!==(n=null===_||void 0===_?void 0:_[1])&&void 0!==n?n:[],label:j,color:c.E}]}),[_]);return!w&&C?m(h,null,y("common:error")):w||x?m(g,{loading:x,data:S,gl:"3d"===O}):m(h,null,y("common:empty"))}}).call(this,t("dDaE"))},FvZk:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/high-dimensional",function(){return t("ioac")}])},IMpY:function(e,n){},OnzC:function(e,n,t){"use strict";t.d(n,"divide",(function(){return r}));t("IMpY");var r=function(e){var n=e.points,t=e.keyword;return function(e,n){if(!n)return[[],e];var t=[],r=[];return e.forEach((function(e){e.name.includes(n)?t.push(e):r.push(e)})),[t,r]}(function(e,n,t){return e.map((function(e,r){return{name:n[r]||"",showing:!!t,value:e}}))}(n,e.labels,e.visibility),t)}},RbC2:function(e,n,t){"use strict";var r=t("ERkP");n.a=function(e,n,t,o){var i=Object(r.useRef)(null),c=Object(r.useRef)(null),a=Object(r.useState)(void 0),u=a[0],l=a[1],s=Object(r.useCallback)((function(e){return t&&l(t(e))}),[t]);return Object(r.useEffect)((function(){try{var t,r,a,u;if(e&&"undefined"!==typeof WebAssembly)return i.current||(i.current=e()),void(null===(t=i.current)||void 0===t||t.then((function(e){return l(e(o))})).catch((function(){return s(o)})));if(n&&"undefined"!==typeof Worker)return c.current||(c.current=n()),null===(r=c.current)||void 0===r||r.postMessage(o),null===(a=c.current)||void 0===a||a.addEventListener("message",(function(e){var n=e.data;return l(n)})),void(null===(u=c.current)||void 0===u||u.addEventListener("error",(function(){return s(o)})))}catch(d){0,s(o)}s(o)}),[e,n,s,o]),u}},"X+YX":function(e,n,t){var r=t("JBn+"),o=t("OfKG"),i=t("sCL+"),c=t("H87J"),a=t("SU8Q"),u=t("S0iI"),l=200;e.exports=function(e,n,t,s){var d=-1,b=o,f=!0,m=e.length,p=[],v=n.length;if(!m)return p;t&&(n=c(n,a(t))),s?(b=i,f=!1):n.length>=l&&(b=u,f=!1,n=new r(n));e:for(;++d<m;){var g=e[d],h=null==t?g:t(g);if(g=s||0!==g?g:0,f&&h===h){for(var j=v;j--;)if(n[j]===h)continue e;p.push(g)}else b(n,h,s)||p.push(g)}return p}},dDaE:function(e,n,t){e.exports=t.p+"static/chunks/2.122ffbf8225089464caf.worker.js"},gI5n:function(e,n,t){"use strict";var r=t("fGyu"),o=t("KD1n"),i=t("ERkP"),c=t.n(i),a=t("r8eb"),u=t("PKwP"),l=t("TpTG"),s=t("j/s1"),d=function(e){var n=Object(i.useRef)(null),t=Object(i.useCallback)((function(n){"Escape"===n.key&&e()}),[e]),r=Object(i.useCallback)((function(t){n.current&&!n.current.contains(t.target)&&e()}),[e]);return Object(i.useEffect)((function(){return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),document.addEventListener("keyup",t),function(){document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r),document.removeEventListener("keyup",t)}}),[r,t]),n},b=t("9bu8"),f=t("uUTq"),m=t.n(f),p=c.a.createElement;function v(){var e=Object(o.a)(["\n    display: block;\n    cursor: pointer;\n    padding: 0 ",";\n    ","\n    line-height: ",";\n    ","\n\n    &:hover {\n        background-color: ",";\n    }\n"]);return v=function(){return e},e}var g=Object(a.s)(10),h=Object(a.s)(36),j=s.c.div.withConfig({displayName:"Select__Wrapper",componentId:"gp8kp0-0"})(["height:",";line-height:calc("," - 2px);max-width:100%;display:inline-block;position:relative;background-color:",";"," "," "," &:hover{border-color:",";}"],h,h,a.c,Object(a.H)({radius:!0}),(function(e){return e.opened?Object(a.j)("bottom","0"):""}),Object(a.O)("border-color"),a.h),O=s.c.div.withConfig({displayName:"Select__Trigger",componentId:"gp8kp0-1"})(["padding:",";display:inline-flex;"," justify-content:space-between;align-items:center;cursor:pointer;",""],g,Object(a.J)("100%"),(function(e){return e.selected?"":"color: ".concat(a.N)})),y=Object(s.c)(l.a).withConfig({displayName:"Select__TriggerIcon",componentId:"gp8kp0-2"})([""," text-align:center;display:block;flex-shrink:0;transform:rotate(","deg) scale(",");",""],Object(a.J)(Object(a.s)(14)),(function(e){return e.opened?"180":"0"}),10/14,Object(a.O)("transform")),k=s.c.span.withConfig({displayName:"Select__Label",componentId:"gp8kp0-3"})(["flex-grow:1;padding-right:",";",""],Object(a.s)(10),Object(a.r)()),w=s.c.div.withConfig({displayName:"Select__List",componentId:"gp8kp0-4"})(["position:absolute;top:100%;width:calc(100% + 2px);max-height:",";overflow-x:hidden;overflow-y:auto;left:-1px;padding:"," 0;border:inherit;border-top-color:",";"," display:",";z-index:9999;line-height:1;background-color:inherit;box-shadow:0 5px 6px 0 rgba(0,0,0,0.05);",""],Object(a.y)("4.35 * ".concat(h," + 2 * ").concat(g)),g,a.g,Object(a.j)("bottom",a.i),(function(e){return e.opened?"block":"none"}),(function(e){return e.empty?{color:a.N,textAlign:"center"}:""})),C=Object(a.m)(v(),g,Object(a.J)(h,"100%"),h,Object(a.O)(["color","background-color"]),a.d),x=s.c.div.withConfig({displayName:"Select__ListItem",componentId:"gp8kp0-5"})([""," "," ",""],Object(a.r)(),C,(function(e){return e.selected?"color: ".concat(a.I,";"):""})),E=Object(s.c)(u.a).withConfig({displayName:"Select__MultipleListItem",componentId:"gp8kp0-6"})([""," display:flex;align-items:center;"],C);n.a=function(e){var n=e.list,t=e.value,o=e.placeholder,c=e.multiple,a=e.className,u=e.onChange,l=Object(b.g)("common").t,s=Object(i.useState)(!1),f=s[0],v=s[1],g=Object(i.useCallback)((function(){return v(!f)}),[f]),h=Object(i.useCallback)((function(){return v(!1)}),[]),C=Object(i.useState)(c?Array.isArray(t)?t:[]:t),_=C[0],S=C[1];Object(i.useEffect)((function(){return S(c?Array.isArray(t)?t:[]:t)}),[c,t,S]);var I=Object(i.useMemo)((function(){return!!(c?_&&0!==_.length:_)}),[c,_]),N=Object(i.useCallback)((function(e){var n;S(e),null===(n=u)||void 0===n||n(e),h()}),[h,u]),P=Object(i.useCallback)((function(e,n){var t,o=_;n?o.includes(e)||(o=[].concat(Object(r.a)(o),[e])):o.includes(e)&&(o=m()(o,e)),S(o),null===(t=u)||void 0===t||t(o)}),[_,u]),R=d(h),A=Object(i.useMemo)((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.map((function(e){return["string","number"].includes(typeof e)?{value:e,label:e+""}:e})))&&void 0!==e?e:[]}),[n]),z=Object(i.useMemo)((function(){return 0===A.length}),[A]),L=Object(i.useCallback)((function(e){var n,t;return null!==(n=null===(t=A.find((function(n){return n.value===e})))||void 0===t?void 0:t.label)&&void 0!==n?n:""}),[A]),M=Object(i.useMemo)((function(){return I?c?_.map(L).join(" / "):L(_):o||l("common:select")}),[c,_,L,I,o,l]);return p(j,{ref:R,opened:f,className:a},p(O,{onClick:g,selected:I,title:I&&M?String(M):""},p(k,null,M),p(y,{opened:f,type:"chevron-down"})),p(w,{opened:f,empty:z},z?l("common:empty"):A.map((function(e,n){return c?p(E,{value:_.includes(e.value),key:n,title:e.label,size:"small",onChange:function(n){return P(e.value,n)}},e.label):p(x,{selected:e.value===_,key:n,title:e.label,onClick:function(){return N(e.value)}},e.label)}))))}},ioac:function(e,n,t){"use strict";t.r(n);var r=t("fGyu"),o=t("0jAH"),i=t("9bu8"),c=t("ERkP"),a=t.n(c),u=t("gI5n"),l=t("r8eb"),s=t("PKwP"),d=t("QRo2"),b=t("E67T"),f=t("wK9i"),m=t("DtL+"),p=t("TpTG"),v=t("1HTM"),g=t("s+3g"),h=t("jd94"),j=t("Obvh"),O=t("bbjh"),y=t("C34g"),k=t("j/s1"),w=t("7xIC"),C=t("O1Fn"),x=t("XPj2"),E=a.a.createElement,_=["2d","3d"],S=["pca","tsne"],I=Object(k.c)(u.a).withConfig({displayName:"high-dimensional__StyledSelect",componentId:"sc-1mk5cn7-0"})(["min-width:",";"],Object(l.s)(160)),N=Object(k.c)(p.a).withConfig({displayName:"high-dimensional__StyledIcon",componentId:"sc-1mk5cn7-1"})(["margin-right:",";vertical-align:middle;"],Object(l.s)(4)),P=k.c.div.withConfig({displayName:"high-dimensional__AsideTitle",componentId:"sc-1mk5cn7-2"})(["font-size:",";line-height:",";font-weight:700;margin-bottom:",";"],Object(l.G)(16),Object(l.G)(16),Object(l.G)(10)),R=function(){var e=Object(i.g)(["high-dimensional","common"]).t,n=Object(c.useState)(!0),t=n[0],u=n[1],l=Object(C.b)("/runs",t),p=l.data,k=l.error,R=l.loading,A=Object(C.b)("/embeddings/tags",t),z=A.data,L=A.error,M=A.loading,D=Object(c.useMemo)((function(){return k||L}),[k,L]),T=Object(c.useMemo)((function(){return R||M}),[R,M]),F=Object(c.useMemo)((function(){return p&&z?p.reduce((function(e,n){var t,o;return[].concat(Object(r.a)(e),Object(r.a)(null!==(t=null===(o=z[n])||void 0===o?void 0:o.map((function(e){return{run:n,tag:e,label:"".concat(n,"/").concat(e)}})))&&void 0!==t?t:[]))}),[]):[]}),[p,z]),G=Object(c.useMemo)((function(){return F.map((function(e){return e.label}))}),[F]),J=Object(w.useRouter)().query,H=Object(c.useMemo)((function(){var e,n,t,r=Array.isArray(J.run)?J.run[0]:J.run;return null!==(e=r&&(null===(n=F.find((function(e){return e.run===r})))||void 0===n?void 0:n.label))&&void 0!==e?e:null===(t=F[0])||void 0===t?void 0:t.label}),[J.run,F]),X=Object(c.useState)(H),K=X[0],q=X[1];Object(c.useEffect)((function(){return q(H)}),[H]);var W=Object(c.useMemo)((function(){var e;return null!==(e=F.find((function(e){return e.label===K})))&&void 0!==e?e:{run:"",tag:"",label:""}}),[F,K]),B=Object(c.useState)(""),U=B[0],Z=B[1],Q=Object(x.a)(U),Y=Object(c.useState)(_[0]),V=Y[0],$=Y[1],ee=Object(c.useState)(S[0]),ne=ee[0],te=ee[1],re=Object(c.useState)(!0),oe=re[0],ie=re[1],ce=Object(c.useMemo)((function(){return E(j.a,{running:t,onToggle:u})}),[t,u]),ae=Object(c.useMemo)((function(){return G.length?E(o.b,{bottom:ce},E(o.a,null,E(P,null,e("common:select-runs")),E(I,{list:G,value:K,onChange:q})),E(o.a,null,E(f.a,null,E(O.a,{placeholder:e("common:search"),value:U,onChange:Z})),E(f.a,null,E(s.a,{value:oe,onChange:ie},e("high-dimensional:display-all-label")))),E(o.a,null,E(P,null,E(N,{type:"dimension"}),e("high-dimensional:dimension")),E(f.a,null,E(h.c,{value:V,onChange:function(e){return $(e)}},_.map((function(n){return E(g.a,{key:n,value:n},e(n))}))))),E(o.a,null,E(P,null,E(N,{type:"reduction"}),e("high-dimensional:reduction-method")),E(f.a,null,E(h.c,{value:ne,onChange:function(e){return te(e)}},S.map((function(n){return E(g.a,{key:n,value:n},e(n))})))))):null}),[e,ce,V,K,G,oe,ne,U]);return E(a.a.Fragment,null,E(v.a,{url:"/runs"}),E(y.a,null,e("common:high-dimensional")),E(d.a,{aside:ae,loading:T},T||F.length?D?E("div",null,e("common:error")):T?null:E(m.a,{dimension:V,keyword:Q,run:W.run,tag:W.tag,running:t,labelVisibility:oe,reduction:ne}):E(b.a,null)))};R.getInitialProps=function(){return{namespacesRequired:["high-dimensional","common"]}},n.default=R},jd94:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return l}));var r=t("ERkP"),o=t.n(r),i=t("j/s1"),c=o.a.createElement,a=i.c.div.withConfig({displayName:"RadioGroup__Wrapper",componentId:"u4ef1v-0"})(["display:inline-flex;> *{flex-shrink:0;align-items:flex-start;}"]),u=Object(r.createContext)((function(){})),l=Object(r.createContext)(null);n.c=function(e){var n=e.value,t=e.onChange,o=e.children,i=e.className,s=Object(r.useState)(n),d=s[0],b=s[1],f=Object(r.useCallback)((function(e){b(e),null===t||void 0===t||t(e)}),[t]);return c(u.Provider,{value:function(e){return f(e)}},c(l.Provider,{value:d},c(a,{className:i},o)))}},kF6i:function(e,n,t){"use strict";var r=t("VtSi"),o=t.n(r),i=t("QsI/"),c=t("ERkP"),a=t("r8eb");var u=t("etrl");n.a=function(e){var n=Object(c.useRef)(null),r=Object(c.useRef)(null),l=Object(c.useState)(null),s=l[0],d=l[1],b=Object(c.useCallback)((function(){Object(i.a)(o.a.mark((function i(){var c;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.e(15).then(t.t.bind(null,"Ckg4",7));case 2:if(c=o.sent,!e.gl){o.next=6;break}return o.next=6,Promise.all([t.e(16),t.e(15)]).then(t.t.bind(null,"CGrq",7));case 6:if(n.current){o.next=8;break}return o.abrupt("return");case 8:r.current=c.init(n.current),e.zoom&&setTimeout((function(){var e;null===(e=r.current)||void 0===e||e.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0})}),0),d(r.current);case 11:case"end":return o.stop()}}),i)})))()}),[e.gl,e.zoom]),f=Object(c.useCallback)((function(){var e;null===(e=r.current)||void 0===e||e.dispose(),d(null)}),[]);Object(c.useEffect)((function(){return b(),f}),[b,f]),Object(c.useEffect)((function(){var n,t;e.loading?null===(n=r.current)||void 0===n||n.showLoading("default",{text:"",color:a.E,textColor:a.K,maskColor:a.x,zlevel:0}):null===(t=r.current)||void 0===t||t.hideLoading()}),[e.loading]);var m=Object(c.useRef)(null);Object(c.useLayoutEffect)((function(){if(e.autoFit){var n=m.current;if(n){var t=new ResizeObserver((function(){var e;null===(e=r.current)||void 0===e||e.resize()}));return t.observe(n),function(){return t.unobserve(n)}}}}),[e.autoFit]);var p=Object(c.useCallback)((function(e){if(s){var n=function(e){for(var n=e.split(";base64,"),t=n[0].split(":")[1],r=window.atob(n[1]),o=r.length,i=new Uint8Array(o),c=0;c<o;++c)i[c]=r.charCodeAt(c);return new Blob([i],{type:t})}(s.getDataURL({type:"png",pixelRatio:2,backgroundColor:"#FFF"}));Object(u.saveAs)(n,"".concat((null===e||void 0===e?void 0:e.replace(/[/\\?%*:|"<>]/g,"_"))||"chart",".png"))}}),[s]);return{ref:n,echart:s,wrapper:m,saveAsImage:p}}},roxr:function(e,n,t){"use strict";var r=t("zjfJ"),o=t("ERkP"),i=t.n(o),c=t("r8eb"),a=t("zqQH"),u=t.n(a),l=t("j/s1"),s=t("kF6i"),d=i.a.createElement;function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){Object(r.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m=l.c.div.withConfig({displayName:"ScatterChart__Wrapper",componentId:"nafbih-0"})(["position:relative;background-color:",";> .echarts{height:100%;}> .loading{"," "," display:flex;justify-content:center;align-items:center;}"],c.c,Object(c.C)("absolute",0,null,null,0),Object(c.J)("100%")),p={xAxis:{},yAxis:{},toolbox:{show:!0,showTitle:!1,itemSize:0,feature:{dataZoom:{},restore:{},saveAsImage:{}}}},v={grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{}},g={symbolSize:12,type:"scatter"},h={symbolSize:12,type:"scatter3D"};n.a=function(e){var n=e.data,t=e.loading,r=e.gl,i=e.className,a=Object(s.a)({loading:t,gl:r,autoFit:!0}),l=a.ref,b=a.echart,j=a.wrapper,O=Object(o.useMemo)((function(){var e;return f(f({},r?v:p),{},{series:null!==(e=null===n||void 0===n?void 0:n.map((function(e){return f(f({},r?h:g),e)})))&&void 0!==e?e:[]})}),[r,n]);return Object(o.useEffect)((function(){null===b||void 0===b||b.setOption(O)}),[O,b]),d(m,{ref:j,className:i},!b&&d("div",{className:"loading"},d(u.a,{color:c.E,size:"10px"})),d("div",{className:"echarts",ref:l}))}},"s+3g":function(e,n,t){"use strict";var r=t("jd94"),o=t("ERkP"),i=t.n(o),c=t("r8eb"),a=t("j/s1"),u=i.a.createElement,l=Object(c.s)(36),s=Object(c.s)(72),d=Object(c.s)(144),b=a.c.a.withConfig({displayName:"RadioButton__Button",componentId:"sc-1e983se-0"})(["cursor:pointer;background-color:",";color:",";height:",";line-height:calc("," - 2px);min-width:",";padding:0 ",";text-align:center;"," ",";"," "," &:hover{border-color:",";}&:first-of-type{","}&:last-of-type{","}& + &{margin-left:-1px;}"],(function(e){return e.selected?c.E:c.c}),(function(e){return e.selected?c.L:c.K}),l,l,s,Object(c.s)(8),Object(c.r)(d),(function(e){return Object(c.H)({color:e.selected?c.E:c.g})}),Object(c.O)(["color","border-color","background-color"]),(function(e){return e.selected?"position: relative;":""}),(function(e){return e.selected?c.E:c.h}),Object(c.j)("left",c.i),Object(c.j)("right",c.i));n.a=function(e){var n=e.className,t=e.value,i=e.selected,c=e.title,a=e.children,l=Object(o.useContext)(r.b),s=Object(o.useContext)(r.a),d=Object(o.useCallback)((function(){t&&s&&l!==t&&s(t)}),[t,s,l]);return u(b,{className:n,title:c,selected:l===t||i,onClick:d},a)}},uUTq:function(e,n,t){var r=t("X+YX"),o=t("R3TX"),i=t("Ndl3"),c=o((function(e,n){return i(e)?r(e,n):[]}));e.exports=c}},[["FvZk",1,2,3,4,0,5,6,7,8,9]]]);