(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{ISTv:function(t,e,n){"use strict";n.r(e);var a=n("cxan"),r=n("HbGN"),o=n("fGyu"),i=n("s8Q3"),c=n("mvvT"),u=n("9bu8"),l=n("ERkP"),s=n.n(l),m=n("0jAH"),f=n("QRo2"),p=n("E67T"),d=n("wK9i"),g=n("XhvR"),b=n("1HTM"),O=n("s+3g"),v=n("jd94"),h=n("0KuU"),j=n("C34g"),y=n("t2fH"),x=s.a.createElement,w=function(){var t=Object(u.g)(["histogram","common"]).t,e=Object(l.useState)(!0),n=e[0],w=e[1],k=Object(y.a)("histogram",n),C=k.runs,S=k.tags,M=k.selectedRuns,P=k.onChangeRuns,_=k.loadingRuns,I=k.loadingTags,R=Object(l.useMemo)((function(){return S.reduce((function(t,e){return t.push.apply(t,Object(o.a)(e.runs.map((function(t){return{id:"".concat(e.label,"-").concat(t.label),label:e.label,run:t}})))),t}),[])}),[S]),E=Object(l.useState)(c.a.Offset),N=E[0],T=E[1],z=Object(l.useMemo)((function(){return C.length?x(h.a,{runs:C,selectedRuns:M,onChangeRuns:P,running:n,onToggleRunning:w},x(m.a,null,x(d.a,{label:t("histogram:mode")},x(v.c,{value:N,onChange:T},c.b.map((function(e){return x(O.a,{key:e,value:e},t("histogram:mode-value.".concat(e)))})))))):null}),[t,N,P,n,C,M]),A=Object(l.useCallback)((function(t){var e=t.label,o=t.run,i=Object(r.a)(t,["label","run"]);return x(g.a,Object(a.a)({run:o,tag:e},i,{mode:N,running:n}))}),[n,N]);return x(s.a.Fragment,null,x(b.a,{url:"/runs"}),x(b.a,{url:"/histogram/tags"}),x(j.a,null,t("common:histogram")),x(f.a,{aside:z,loading:_},_||C.length?x(i.a,{items:R,withChart:A,loading:_||I}):x(p.a,null)))};w.getInitialProps=function(){return{namespacesRequired:["histogram","common"]}},e.default=w},K0wL:function(t,e,n){"use strict";var a=n("HbGN"),r=n("VB3B"),o=n("ERkP"),i=n.n(o),c=n("r8eb"),u=n("zqQH"),l=n.n(u),s=n("ySZr"),m=n.n(s),f=n("j/s1"),p=n("kF6i"),d=n("9bu8"),g=i.a.createElement,b=f.c.div.withConfig({displayName:"StackChart__Wrapper",componentId:"sc-74xsi8-0"})(["position:relative;> .echarts{height:100%;}> .loading{"," "," display:flex;justify-content:center;align-items:center;}"],Object(c.J)("100%"),Object(c.C)("absolute",0,null,null,0)),O=i.a.forwardRef((function(t,e){var n,i=t.options,u=t.data,s=t.title,f=t.loading,O=t.zoom,v=t.className,h=Object(d.g)().i18n,j=Object(p.a)({loading:!!f,zoom:O,autoFit:!0}),y=j.ref,x=j.echart,w=j.wrapper,k=j.saveAsImage;Object(o.useImperativeHandle)(e,(function(){return{saveAsImage:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){k(s)}))}}));var C=null!==u&&void 0!==u?u:{minZ:0,maxZ:0,minStep:0,maxStep:0,minX:0,maxX:0,data:null},S=C.minZ,M=C.maxZ,P=C.minStep,_=C.maxStep,I=C.minX,R=C.maxX,E=null!==(n=Object(a.a)(C,["minZ","maxZ","minStep","maxStep","minX","maxX"]).data)&&void 0!==n?n:[],N=Object(o.useCallback)((function(t,e,n,a,r){var o=a([t,e]);return o[1]-=(n-S)/(M-S)*r,o}),[S,M]),T=Object(o.useCallback)((function(t,e,n,a){for(var r=[],o=0;E[t]&&o<E[t].length;){var i=e(o++),c=e(o++),u=e(o++);r.push(N(i,c,u,n,a))}return r}),[N,E]);return Object(o.useEffect)((function(){r.color,r.colorAlt;var t=Object(a.a)(r,["color","colorAlt"]),e=m()({title:{text:null!==s&&void 0!==s?s:""},visualMap:{min:P,max:_},xAxis:{min:I,max:R},grid:{top:"40%"},tooltip:{axisPointer:{axis:"y",snap:!1}},series:[{type:"custom",dimensions:["x","y"],data:E,renderItem:function(t,e){return{type:"polygon",silent:!0,shape:{points:T(t.dataIndex,e.value,e.coord,t.coordSys.y-10)},style:e.style({stroke:r.xAxis.axisLine.lineStyle.color,lineWidth:1})}}}]},i,t);null===x||void 0===x||x.setOption(e,{notMerge:!0})}),[i,u,s,h.language,x,E,I,R,P,_,T]),g(b,{ref:w,className:v},!x&&g("div",{className:"loading"},g(l.a,{color:c.E,size:"10px"})),g("div",{className:"echarts",ref:y}))}));e.a=O},LyUj:function(t,e,n){t.exports=n.p+"static/chunks/3.e96e1582e711351af5ff.worker.js"},XhvR:function(t,e,n){"use strict";(function(t){var a=n("zjfJ"),r=n("mvvT"),o=n("wje0"),i=n("ERkP"),c=n.n(i),u=n("K0wL"),l=n("r8eb"),s=n("Ns5m"),m=n("90Fk"),f=n("JBtm"),p=n.n(f),d=n("j/s1"),g=n("RbC2"),b=n("O1Fn"),O=n("9bu8"),v=c.a.createElement;function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(a.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y=function(){return n.e(10).then(n.bind(null,"ppfC")).then((function(t){var e=t.histogram_transform;return function(t){return e(t.data,t.mode)}}))},x=function(){return new Worker(t,void 0)},w=d.c.div.withConfig({displayName:"HistogramChart__Wrapper",componentId:"w4kqct-0"})([""," display:flex;flex-direction:column;align-items:stretch;justify-content:space-between;"],Object(l.J)("100%","100%")),k=Object(d.c)(o.a).withConfig({displayName:"HistogramChart__StyledLineChart",componentId:"w4kqct-1"})(["flex-grow:1;"]),C=Object(d.c)(u.a).withConfig({displayName:"HistogramChart__StyledStackChart",componentId:"w4kqct-2"})(["flex-grow:1;"]),S=Object(d.c)(s.a).withConfig({displayName:"HistogramChart__Toolbox",componentId:"w4kqct-3"})(["margin-left:",";margin-right:",";margin-bottom:",";"],Object(l.G)(20),Object(l.G)(20),Object(l.G)(18)),M=d.c.div.withConfig({displayName:"HistogramChart__Error",componentId:"w4kqct-4"})([""," display:flex;justify-content:center;align-items:center;"],Object(l.J)("100%","100%"));e.a=function(t){var e=t.cid,n=t.run,a=t.tag,o=t.mode,c=t.running,u=Object(O.g)(["histogram","common"]).t,l=Object(i.useRef)(null),s=Object(b.b)("/histogram/list?".concat(p.a.stringify({run:n.label,tag:a})),!!c),f=s.data,d=s.error,h=s.loading,P=Object(i.useState)(!1),_=P[0],I=P[1],R=Object(i.useCallback)((function(){m.a.emit("toggle-chart-size",e,!_),I((function(t){return!t}))}),[e,_]),E=Object(i.useMemo)((function(){return"".concat(a," (").concat(n.label,")")}),[a,n.label]),N=Object(i.useMemo)((function(){return{data:null!==f&&void 0!==f?f:[],mode:o}}),[f,o]),T=Object(g.a)(y,x,r.d,N),z=Object(i.useMemo)((function(){var t,e;return o===r.a.Overlay?null===(t=T)||void 0===t?void 0:t.data.map((function(t){return{name:"step".concat(t[0][1]),data:t,encode:{x:[2],y:[3]}}})):o===r.a.Offset?j({},null!==(e=T)&&void 0!==e?e:{}):void 0}),[T,o]),A=Object(i.useMemo)((function(){return j(j({},r.c[o]),{},{color:[n.colors[0]]})}),[o,n]),H=Object(i.useMemo)((function(){return o===r.a.Overlay?v(k,{ref:l,title:E,data:z,options:A,loading:h}):o===r.a.Offset?v(C,{ref:l,title:E,data:z,options:A,loading:h}):null}),[z,h,o,A,E]);return!T&&d?v(M,null,u("common:error")):v(w,null,H,v(S,{items:[{icon:"maximize",activeIcon:"minimize",tooltip:u("histogram:maximize"),activeTooltip:u("histogram:minimize"),toggle:!0,onClick:R},{icon:"download",tooltip:u("histogram:download-image"),onClick:function(){var t;return null===(t=l.current)||void 0===t?void 0:t.saveAsImage()}}]}))}}).call(this,n("LyUj"))},mvvT:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return m})),function(t){t.Offset="offset",t.Overlay="overlay"}(a||(a={}));var r=n("zjfJ");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c={legend:{data:[]},tooltip:{showContent:!1}},u={overlay:i(i({},c),{},{axisPointer:{link:[{xAxisIndex:"all"}],show:!0,snap:!0,triggerTooltip:!0},yAxis:{axisLine:{onZero:!1}}}),offset:i(i({},c),{},{visualMap:{type:"continuous",show:!1,dimension:1,inRange:{colorLightness:[.5,.8],colorSaturation:[.5,.8]}},xAxis:{axisLine:{onZero:!1}},yAxis:{axisLine:{onZero:!1},inverse:!0,splitLine:{show:!1}}})},l=n("fGyu"),s=n("zygG");function m(t){var e=t.data,n=t.mode,r=e.map((function(t){var e=Object(s.a)(t,3),n=e[0],a=e[1],r=e[2];return{time:n,step:a,min:Math.min.apply(Math,Object(l.a)(r.map((function(t){return t[0]})))),max:Math.max.apply(Math,Object(l.a)(r.map((function(t){return t[1]})))),items:r.map((function(t){var e=Object(s.a)(t,3);return{left:e[0],right:e[1],count:e[2]}}))}})),o=Math.min.apply(Math,Object(l.a)(r.map((function(t){return t.min})))),i=Math.max.apply(Math,Object(l.a)(r.map((function(t){return t.max})))),c=r.map((function(t){var e=t.time,n=t.step;return function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;e===n&&(n=1.1*e+1,e=e/1.1-1);for(var r=(n-e)/a,o=[],i=e;i<n;i+=r)o.push(i);var c=0;return o.map((function(a){for(var o=a+r,i=0;c<t.length;){var u=Math.min(n,t[c].right),l=Math.max(e,t[c].left),s=Math.min(u,o)-Math.max(l,a),m=s/(u-l)*t[c].count;if(s>0&&(i+=m),u>o)break;c++}return{x:a,dx:r,y:i}}))}(t.items,o,i).map((function(t){var a=t.x,r=t.dx,o=t.y;return[e,n,a+r/2,Math.floor(o)]}))}));if(n===a.Overlay)return{min:o,max:i,data:c};if(n===a.Offset){var u=1/0,m=-1/0,f=1/0,p=-1/0,d=c.map((function(t){var e=t[0][1];return e>m&&(m=e),e<u&&(u=e),t.reduce((function(t,n){var a=Object(s.a)(n,4),r=a[2],o=a[3];return o>p&&(p=o),o<f&&(f=o),[].concat(Object(l.a)(t),[r,e,o])}),[])}));return{minX:o,maxX:i,minZ:f,maxZ:p,minStep:u,maxStep:m,data:d}}}var f=[a.Offset,a.Overlay]},skj5:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/histogram",function(){return n("ISTv")}])}},[["skj5",1,2,3,4,0,5,6,7,8,9,11,13]]]);