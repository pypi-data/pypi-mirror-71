!function(e){"use strict";var t,o,a=e.Reader,r=e.util,n=e.roots.cntk||(e.roots.cntk={});n.CNTK=((o={}).proto=((t={}).NDShape=function(){function e(e){if(this.shape_dim=[],e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.shape_dim=r.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new n.CNTK.proto.NDShape;e.pos<o;){var u=e.uint32();switch(u>>>3){case 1:if(r.shape_dim&&r.shape_dim.length||(r.shape_dim=[]),2==(7&u))for(var i=e.uint32()+e.pos;e.pos<i;)r.shape_dim.push(e.uint64());else r.shape_dim.push(e.uint64());break;default:e.skipType(7&u)}}return r},e}(),t.Axis=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.static_axis_idx=0,e.prototype.name="",e.prototype.is_ordered_dynamic_axis=!1,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new n.CNTK.proto.Axis;e.pos<o;){var u=e.uint32();switch(u>>>3){case 1:r.static_axis_idx=e.int32();break;case 2:r.name=e.string();break;case 3:r.is_ordered_dynamic_axis=e.bool();break;default:e.skipType(7&u)}}return r},e}(),t.NDArrayView=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}var t,o,u;return e.prototype.data_type=0,e.prototype.storage_format=0,e.prototype.shape=null,e.prototype.float_values=null,e.prototype.double_values=null,e.prototype.bytes_value=null,e.prototype.sint32_values=null,Object.defineProperty(e.prototype,"values",{get:r.oneOfGetter(t=["float_values","double_values","bytes_value","sint32_values"]),set:r.oneOfSetter(t)}),e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new n.CNTK.proto.NDArrayView;e.pos<o;){var u=e.uint32();switch(u>>>3){case 1:r.data_type=e.int32();break;case 2:r.storage_format=e.int32();break;case 3:r.shape=n.CNTK.proto.NDShape.decode(e,e.uint32());break;case 4:r.float_values=n.CNTK.proto.NDArrayView.FloatValues.decode(e,e.uint32());break;case 5:r.double_values=n.CNTK.proto.NDArrayView.DoubleValues.decode(e,e.uint32());break;case 6:r.bytes_value=n.CNTK.proto.NDArrayView.BytesValue.decode(e,e.uint32());break;case 7:r.sint32_values=n.CNTK.proto.NDArrayView.IntValues.decode(e,e.uint32());break;default:e.skipType(7&u)}}return r},e.DataType=(o={},(u=Object.create(o))[o[0]="Unknown"]=0,u[o[1]="Float"]=1,u[o[2]="Double"]=2,u[o[4]="Float16"]=4,u[o[5]="Int8"]=5,u[o[6]="Int16"]=6,u),e.StorageFormat=function(){var e={},t=Object.create(e);return t[e[0]="Dense"]=0,t[e[1]="SparseCSC"]=1,t[e[2]="SparseBlockCol"]=2,t}(),e.FloatValues=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.value=r.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new n.CNTK.proto.NDArrayView.FloatValues;e.pos<o;){var u=e.uint32();switch(u>>>3){case 1:if(r.value&&r.value.length||(r.value=[]),2==(7&u)){var i=e.uint32()+e.pos;if(0==r.value.length&&i-e.pos>1048576){var s=i-e.pos,l=new DataView(e.buf.buffer,e.buf.byteOffset+e.pos,s);s>>>=2;for(var p=new Float32Array(s),c=0;c<s;c++)p[c]=l.getFloat32(c<<2,!0);r.value=p,e.pos=i}else for(;e.pos<i;)r.value.push(e.float())}else r.value.push(e.float());break;default:e.skipType(7&u)}}return r},e}(),e.DoubleValues=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.value=r.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new n.CNTK.proto.NDArrayView.DoubleValues;e.pos<o;){var u=e.uint32();switch(u>>>3){case 1:if(r.value&&r.value.length||(r.value=[]),2==(7&u))for(var i=e.uint32()+e.pos;e.pos<i;)r.value.push(e.double());else r.value.push(e.double());break;default:e.skipType(7&u)}}return r},e}(),e.BytesValue=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.value=r.newBuffer([]),e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new n.CNTK.proto.NDArrayView.BytesValue;e.pos<o;){var u=e.uint32();switch(u>>>3){case 1:r.value=e.bytes();break;default:e.skipType(7&u)}}return r},e}(),e.IntValues=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.value=r.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new n.CNTK.proto.NDArrayView.IntValues;e.pos<o;){var u=e.uint32();switch(u>>>3){case 1:if(r.value&&r.value.length||(r.value=[]),2==(7&u))for(var i=e.uint32()+e.pos;e.pos<i;)r.value.push(e.sint32());else r.value.push(e.sint32());break;default:e.skipType(7&u)}}return r},e}(),e}(),t.Vector=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.value=r.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new n.CNTK.proto.Vector;e.pos<o;){var u=e.uint32();switch(u>>>3){case 1:r.value&&r.value.length||(r.value=[]),r.value.push(n.CNTK.proto.DictionaryValue.decode(e,e.uint32()));break;default:e.skipType(7&u)}}return r},e}(),t.Dictionary=function(){function e(e){if(this.data={},e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.version=r.Long?r.Long.fromBits(0,0,!0):0,e.prototype.data=r.emptyObject,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var o,u=void 0===t?e.len:e.pos+t,i=new n.CNTK.proto.Dictionary;e.pos<u;){var s=e.uint32();switch(s>>>3){case 1:i.version=e.uint64();break;case 2:e.skip().pos++,i.data===r.emptyObject&&(i.data={}),o=e.string(),e.pos++,i.data[o]=n.CNTK.proto.DictionaryValue.decode(e,e.uint32());break;default:e.skipType(7&s)}}return i},e}(),t.DictionaryValue=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}var t,o,u;return e.prototype.version=r.Long?r.Long.fromBits(0,0,!0):0,e.prototype.value_type=0,e.prototype.bool_value=!1,e.prototype.int_value=0,e.prototype.size_t_value=r.Long?r.Long.fromBits(0,0,!0):0,e.prototype.float_value=0,e.prototype.double_value=0,e.prototype.string_value="",e.prototype.nd_shape_value=null,e.prototype.axis_value=null,e.prototype.vector_value=null,e.prototype.dictionary_value=null,e.prototype.nd_array_view_value=null,Object.defineProperty(e.prototype,"value",{get:r.oneOfGetter(t=["bool_value","int_value","size_t_value","float_value","double_value","string_value","nd_shape_value","axis_value","vector_value","dictionary_value","nd_array_view_value"]),set:r.oneOfSetter(t)}),e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new n.CNTK.proto.DictionaryValue;e.pos<o;){var u=e.uint32();switch(u>>>3){case 1:r.version=e.uint64();break;case 2:r.value_type=e.int32();break;case 3:r.bool_value=e.bool();break;case 4:r.int_value=e.int32();break;case 5:r.size_t_value=e.uint64();break;case 6:r.float_value=e.float();break;case 7:r.double_value=e.double();break;case 8:r.string_value=e.string();break;case 9:r.nd_shape_value=n.CNTK.proto.NDShape.decode(e,e.uint32());break;case 10:r.axis_value=n.CNTK.proto.Axis.decode(e,e.uint32());break;case 11:r.vector_value=n.CNTK.proto.Vector.decode(e,e.uint32());break;case 12:r.dictionary_value=n.CNTK.proto.Dictionary.decode(e,e.uint32());break;case 13:r.nd_array_view_value=n.CNTK.proto.NDArrayView.decode(e,e.uint32());break;default:e.skipType(7&u)}}return r},e.Type=(o={},(u=Object.create(o))[o[0]="None"]=0,u[o[1]="Bool"]=1,u[o[2]="Int"]=2,u[o[3]="SizeT"]=3,u[o[4]="Float"]=4,u[o[5]="Double"]=5,u[o[6]="String"]=6,u[o[7]="NDShape"]=7,u[o[8]="Axis"]=8,u[o[9]="Vector"]=9,u[o[10]="Dictionary"]=10,u[o[11]="NDArrayView"]=11,u),e}(),t),o)}(protobuf);