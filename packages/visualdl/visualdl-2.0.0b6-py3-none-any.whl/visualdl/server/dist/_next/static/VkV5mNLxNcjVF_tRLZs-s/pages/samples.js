(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{Fb3U:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/samples",function(){return n("aMnP")}])},MwrP:function(e,t,n){var r=n("4uJK"),a=n("kkM+"),c=n("bvyN"),o=n("wxYD"),i=n("9y2L"),s=n("3ajY"),u=n("CbIe"),l=n("Qd2C"),f="[object Map]",p="[object Set]",b=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(i(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||l(e)||c(e)))return!e.length;var t=a(e);if(t==f||t==p)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(b.call(e,n))return!1;return!0}},aJyk:function(e,t,n){"use strict";var r=n("crdw"),a=n("oNVP").extname,c=/^\s*([^;\s]*)(?:;|\s|$)/,o=/^text\//i;function i(e){if(!e||"string"!==typeof e)return!1;var t=c.exec(e),n=t&&r[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!o.test(t[1]))&&"UTF-8"}t.charset=i,t.charsets={lookup:i},t.contentType=function(e){if(!e||"string"!==typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var r=t.charset(n);r&&(n+="; charset="+r.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!==typeof e)return!1;var n=c.exec(e),r=n&&t.extensions[n[1].toLowerCase()];if(!r||!r.length)return!1;return r[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!==typeof e)return!1;var n=a("x."+e).toLowerCase().substr(1);if(!n)return!1;return t.types[n]||!1},t.types=Object.create(null),function(e,t){var n=["nginx","apache",void 0,"iana"];Object.keys(r).forEach((function(a){var c=r[a],o=c.extensions;if(o&&o.length){e[a]=o;for(var i=0;i<o.length;i++){var s=o[i];if(t[s]){var u=n.indexOf(r[t[s]].source),l=n.indexOf(c.source);if("application/octet-stream"!==t[s]&&(u>l||u===l&&"application/"===t[s].substr(0,12)))continue}t[s]=a}}}))}(t.extensions,t.types)},aMnP:function(e,t,n){"use strict";n.r(t);var r=n("zjfJ"),a=n("HbGN"),c=n("s8Q3"),o=n("9bu8"),i=n("ERkP"),s=n.n(i),u=n("0jAH"),l=n("PKwP"),f=n("QRo2"),p=n("E67T"),b=n("wK9i"),g=n("1HTM"),m=n("0KuU"),d=n("Uqjl"),O=n("zqQH"),j=n.n(O),h=n("aJyk"),v=n.n(h),w=n("r8eb"),y=n("etrl"),x=n("O1Fn"),C=s.a.createElement,k=s.a.forwardRef((function(e,t){var n=e.src,r=e.cache,a=Object(o.g)("common").t,c=Object(i.useState)(""),s=c[0],u=c[1],l=Object(x.a)(null!==n&&void 0!==n?n:null,d.a,{dedupingInterval:null!==r&&void 0!==r?r:2e3}),f=l.data,p=l.error,b=l.loading;return Object(i.useImperativeHandle)(t,(function(){return{save:function(e){if(f){var t=f.type?v.a.extension(f.type):null;Object(y.saveAs)(f.data,e.replace(/[/\\?%*:|"<>]/g,"_")+(t?".".concat(t):""))}}}})),Object(i.useLayoutEffect)((function(){if(f){var e;return e=URL.createObjectURL(f.data),u(e),function(){e&&URL.revokeObjectURL(e)}}}),[f]),b?C(j.a,{color:w.E,size:"10px"}):p?C("div",null,a("common:error")):C("img",{src:s})})),S=n("Ns5m"),R=n("lXyp"),E=n("j/s1"),P=s.a.createElement,_=E.c.div.withConfig({displayName:"StepSlider__Label",componentId:"sc-1er4gsv-0"})(["display:flex;justify-content:space-between;color:",";font-size:",";margin-bottom:",";>:not(:first-child){flex-grow:0;}"],w.M,Object(w.s)(12),Object(w.s)(5)),T=Object(E.c)(R.a).withConfig({displayName:"StepSlider__FullWidthRangeSlider",componentId:"sc-1er4gsv-1"})(["width:100%;"]),M=function(e){var t,n=e.onChange,r=e.onChangeComplete,a=e.value,c=e.steps,u=e.children,l=Object(o.g)("samples").t,f=Object(i.useState)(a),p=f[0],b=f[1];Object(i.useEffect)((function(){return b(a)}),[a]);var g=Object(i.useCallback)((function(e){b(e),null===n||void 0===n||n(e)}),[n]);return P(s.a.Fragment,null,P(_,null,P("span",null,"".concat(l("samples:step"),": ").concat(null!==(t=c[p])&&void 0!==t?t:"...")),u&&P("span",null,u)),P(T,{min:0,max:c.length?c.length-1:0,step:1,value:p,onChange:g,onChangeComplete:r}))},N=n("cBaE"),I=n("MwrP"),L=n.n(I),z=n("JBtm"),U=n.n(z),J=s.a.createElement,q=E.c.div.withConfig({displayName:"SampleChart__Wrapper",componentId:"sc-1gq2xxh-0"})(["height:100%;padding:",";padding-bottom:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;> *{flex-grow:0;flex-shrink:0;}"],Object(w.s)(20)),F=E.c.div.withConfig({displayName:"SampleChart__Title",componentId:"sc-1gq2xxh-1"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:",";> h4{font-size:",";font-weight:700;flex-shrink:1;flex-grow:1;padding:0;margin:0;","}> span{font-size:",";flex-shrink:0;flex-grow:0;color:",";}"],Object(w.s)(20),Object(w.s)(16),Object(w.r)(),Object(w.s)(14),w.M),H=E.c.div.withConfig({displayName:"SampleChart__Container",componentId:"sc-1gq2xxh-2"})(["flex-grow:1;flex-shrink:1;margin:"," 0;display:flex;justify-content:center;align-items:center;overflow:hidden;> img{"," filter:brightness(",") contrast(",");"," object-fit:",";flex-shrink:1;}"],Object(w.s)(20),Object(w.J)("100%"),(function(e){var t;return null!==(t=e.brightness)&&void 0!==t?t:1}),(function(e){var t;return null!==(t=e.contrast)&&void 0!==t?t:1}),Object(w.O)("filter"),(function(e){return e.fit?"contain":"scale-down"})),D=Object(E.c)(S.a).withConfig({displayName:"SampleChart__Toolbox",componentId:"sc-1gq2xxh-3"})(["margin-bottom:",";"],Object(w.G)(18)),K=function(e){var t=e.run,n=e.tag,r=e.brightness,a=e.contrast,c=e.fit,s=e.running,u=Object(o.g)(["samples","common"]),l=u.t,f=u.i18n,p=Object(i.useRef)(null),b=Object(x.b)("/images/list?".concat(U.a.stringify({run:t,tag:n})),!!s),g=b.data,m=b.error,d=b.loading,O=Object(i.useMemo)((function(){var e;return null!==(e=null===g||void 0===g?void 0:g.map((function(e){return e.step})))&&void 0!==e?e:[]}),[g]),h=Object(i.useState)(0),v=h[0],y=h[1],C=Object(i.useState)(),S=C[0],R=C[1],E=Object(i.useRef)({}),P=Object(i.useRef)(null);Object(i.useEffect)((function(){Object.values(E.current).forEach((function(e){var t=e.timer;return clearTimeout(t)})),E.current={}}),[n,t]);var _=Object(i.useMemo)((function(){var e;return null!==(e=null===g||void 0===g?void 0:g[v].wallTime)&&void 0!==e?e:0}),[g,v]),T=Object(i.useCallback)((function(){if(g){var e=function(e,t,n,r){return"/images/image?".concat(U.a.stringify({index:e,ts:r,run:t,tag:n}))}(v,t,n,_);E.current[v]={src:e,timer:setTimeout((function(){var e;e=v,delete E.current[e]}),3e5)},R(e)}}),[v,t,n,_,g]),I=Object(i.useCallback)((function(){var e;null===(e=p.current)||void 0===e||e.save("".concat(t,"-").concat(n,"-").concat(O[v],"-").concat(_.toString().replace(/\./,"_")))}),[t,n,O,v,_]);Object(i.useEffect)((function(){if(E.current[v])R(E.current[v].src);else{if(!L()(E.current))return P.current=setTimeout(T,500),function(){P.current&&clearTimeout(P.current)};T()}}),[v,T]);var z=Object(i.useState)(!1),K=z[0],Q=z[1],A=Object(i.useRef)(null),G=Object(i.useRef)(new IntersectionObserver((function(e){var t;e[0].intersectionRatio>0&&(Q(!0),null===(t=G.current)||void 0===t||t.disconnect())})));Object(i.useEffect)((function(){var e=G.current;if(A.current&&e)return e.observe(A.current),function(){return e.disconnect()}}),[]);var X=Object(i.useMemo)((function(){return!d&&E.current[v]&&K?!g&&m?J("span",null,l("common:error")):L()(g)?J("span",null,l("common:empty")):J(k,{ref:p,src:S,cache:3e5}):J(j.a,{color:w.E,size:"10px"})}),[K,d,m,g,v,S,l]);return J(q,null,J(F,null,J("h4",null,n),J("span",null,t)),J(M,{value:v,steps:O,onChange:y,onChangeComplete:T},Object(N.a)(1e3*_,f.language)),J(H,{ref:A,brightness:r,contrast:a,fit:c},X),J(D,{items:[{icon:"download",tooltip:l("samples:download-image"),onClick:I}]}))},Q=n("ypiw"),A=n("C34g"),G=n("t2fH"),X=s.a.createElement;function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y={height:Object(w.G)(406)},V=function(){var e=Object(o.g)(["samples","common"]).t,t=Object(i.useState)(!0),n=t[0],r=t[1],d=Object(G.a)("images",n),O=d.runs,j=d.tags,h=d.selectedRuns,v=d.onChangeRuns,w=d.loadingRuns,y=d.loadingTags,x=Object(i.useMemo)((function(){return j.reduce((function(e,t){var n=t.runs,r=Object(a.a)(t,["runs"]);return Array.prototype.push.apply(e,n.map((function(e){return W(W({},r),{},{run:e.label,id:"".concat(r.label,"-").concat(e.label)})}))),e}),[])}),[j]),C=Object(i.useState)(!1),k=C[0],S=C[1],R=Object(i.useState)(1),E=R[0],P=R[1],_=Object(i.useState)(1),T=_[0],M=_[1],N=Object(i.useMemo)((function(){return O.length?X(m.a,{runs:O,selectedRuns:h,onChangeRuns:v,running:n,onToggleRunning:r},X(u.a,null,X(l.a,{value:k,onChange:S},e("samples:show-actual-size"))),X(u.a,null,X(b.a,{label:e("samples:brightness")},X(Q.a,{min:0,max:2,step:.01,value:E,onChange:P}))),X(u.a,null,X(b.a,{label:e("samples:contrast")},X(Q.a,{min:0,max:2,step:.01,value:T,onChange:M})))):null}),[e,E,T,v,n,O,h,k]),I=Object(i.useCallback)((function(e){var t=e.run,r=e.label;return X(K,{run:t,tag:r,fit:!k,running:n,brightness:E,contrast:T})}),[k,n,E,T]);return X(s.a.Fragment,null,X(g.a,{url:"/runs"}),X(g.a,{url:"/images/tags"}),X(A.a,null,e("common:samples")),X(f.a,{aside:N,loading:w},w||O.length?X(c.a,{items:x,chartSize:Y,withChart:I,loading:w||y}):X(p.a,null)))};V.getInitialProps=function(){return{namespacesRequired:["samples","common"]}};t.default=V},crdw:function(e,t,n){e.exports=n("fgl5")}},[["Fb3U",1,2,3,4,16,0,5,6,7,8,9,11]]]);