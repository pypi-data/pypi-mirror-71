!function(e){"use strict";var t,a,o,r,i,s,n,l,p=e.Reader,u=e.util,c=e.roots.bigdl||(e.roots.bigdl={});c.com=((n={}).intel=((s={}).analytics=((i={}).bigdl=((r={}).serialization=((o={}).BigDLModule=function(){function e(e){if(this.subModules=[],this.preModules=[],this.nextModules=[],this.attr={},this.parameters=[],this.inputScales=[],this.outputScales=[],this.weightScales=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.name="",e.prototype.subModules=u.emptyArray,e.prototype.weight=null,e.prototype.bias=null,e.prototype.preModules=u.emptyArray,e.prototype.nextModules=u.emptyArray,e.prototype.moduleType="",e.prototype.attr=u.emptyObject,e.prototype.version="",e.prototype.train=!1,e.prototype.namePostfix="",e.prototype.id=0,e.prototype.inputShape=null,e.prototype.outputShape=null,e.prototype.hasParameters=!1,e.prototype.parameters=u.emptyArray,e.prototype.isMklInt8Enabled=!1,e.prototype.inputDimMasks=0,e.prototype.inputScales=u.emptyArray,e.prototype.outputDimMasks=0,e.prototype.outputScales=u.emptyArray,e.prototype.weightDimMasks=0,e.prototype.weightScales=u.emptyArray,e.decode=function(e,t){e instanceof p||(e=p.create(e));for(var a,o=void 0===t?e.len:e.pos+t,r=new c.com.intel.analytics.bigdl.serialization.BigDLModule;e.pos<o;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.subModules&&r.subModules.length||(r.subModules=[]),r.subModules.push(c.com.intel.analytics.bigdl.serialization.BigDLModule.decode(e,e.uint32()));break;case 3:r.weight=c.com.intel.analytics.bigdl.serialization.BigDLTensor.decode(e,e.uint32());break;case 4:r.bias=c.com.intel.analytics.bigdl.serialization.BigDLTensor.decode(e,e.uint32());break;case 5:r.preModules&&r.preModules.length||(r.preModules=[]),r.preModules.push(e.string());break;case 6:r.nextModules&&r.nextModules.length||(r.nextModules=[]),r.nextModules.push(e.string());break;case 7:r.moduleType=e.string();break;case 8:e.skip().pos++,r.attr===u.emptyObject&&(r.attr={}),a=e.string(),e.pos++,r.attr[a]=c.com.intel.analytics.bigdl.serialization.AttrValue.decode(e,e.uint32());break;case 9:r.version=e.string();break;case 10:r.train=e.bool();break;case 11:r.namePostfix=e.string();break;case 12:r.id=e.int32();break;case 13:r.inputShape=c.com.intel.analytics.bigdl.serialization.Shape.decode(e,e.uint32());break;case 14:r.outputShape=c.com.intel.analytics.bigdl.serialization.Shape.decode(e,e.uint32());break;case 15:r.hasParameters=e.bool();break;case 16:r.parameters&&r.parameters.length||(r.parameters=[]),r.parameters.push(c.com.intel.analytics.bigdl.serialization.BigDLTensor.decode(e,e.uint32()));break;case 17:r.isMklInt8Enabled=e.bool();break;case 18:r.inputDimMasks=e.int32();break;case 19:r.inputScales&&r.inputScales.length||(r.inputScales=[]),r.inputScales.push(c.com.intel.analytics.bigdl.serialization.AttrValue.decode(e,e.uint32()));break;case 20:r.outputDimMasks=e.int32();break;case 21:r.outputScales&&r.outputScales.length||(r.outputScales=[]),r.outputScales.push(c.com.intel.analytics.bigdl.serialization.AttrValue.decode(e,e.uint32()));break;case 22:r.weightDimMasks=e.int32();break;case 23:r.weightScales&&r.weightScales.length||(r.weightScales=[]),r.weightScales.push(c.com.intel.analytics.bigdl.serialization.AttrValue.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e}(),o.VarFormat=(t={},(a=Object.create(t))[t[0]="EMPTY_FORMAT"]=0,a[t[1]="DEFAULT"]=1,a[t[2]="ONE_D"]=2,a[t[3]="IN_OUT"]=3,a[t[4]="OUT_IN"]=4,a[t[5]="IN_OUT_KW_KH"]=5,a[t[6]="OUT_IN_KW_KH"]=6,a[t[7]="GP_OUT_IN_KW_KH"]=7,a[t[8]="GP_IN_OUT_KW_KH"]=8,a[t[9]="OUT_IN_KT_KH_KW"]=9,a),o.InitMethodType=function(){var e={},t=Object.create(e);return t[e[0]="EMPTY_INITIALIZATION"]=0,t[e[1]="RANDOM_UNIFORM"]=1,t[e[2]="RANDOM_UNIFORM_PARAM"]=2,t[e[3]="RANDOM_NORMAL"]=3,t[e[4]="ZEROS"]=4,t[e[5]="ONES"]=5,t[e[6]="CONST"]=6,t[e[7]="XAVIER"]=7,t[e[8]="BILINEARFILLER"]=8,t}(),o.RegularizerType=function(){var e={},t=Object.create(e);return t[e[0]="L1L2Regularizer"]=0,t[e[1]="L1Regularizer"]=1,t[e[2]="L2Regularizer"]=2,t}(),o.InputDataFormat=function(){var e={},t=Object.create(e);return t[e[0]="NCHW"]=0,t[e[1]="NHWC"]=1,t}(),o.TensorType=function(){var e={},t=Object.create(e);return t[e[0]="DENSE"]=0,t[e[1]="QUANT"]=1,t}(),o.InitMethod=function(){function e(e){if(this.data=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.methodType=0,e.prototype.data=u.emptyArray,e.decode=function(e,t){e instanceof p||(e=p.create(e));for(var a=void 0===t?e.len:e.pos+t,o=new c.com.intel.analytics.bigdl.serialization.InitMethod;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:o.methodType=e.int32();break;case 2:if(o.data&&o.data.length||(o.data=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.data.push(e.double());else o.data.push(e.double());break;default:e.skipType(7&r)}}return o},e}(),o.BigDLTensor=function(){function e(e){if(this.size=[],this.stride=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.datatype=0,e.prototype.size=u.emptyArray,e.prototype.stride=u.emptyArray,e.prototype.offset=0,e.prototype.dimension=0,e.prototype.nElements=0,e.prototype.isScalar=!1,e.prototype.storage=null,e.prototype.id=0,e.prototype.tensorType=0,e.decode=function(e,t){e instanceof p||(e=p.create(e));for(var a=void 0===t?e.len:e.pos+t,o=new c.com.intel.analytics.bigdl.serialization.BigDLTensor;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:o.datatype=e.int32();break;case 2:if(o.size&&o.size.length||(o.size=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.size.push(e.int32());else o.size.push(e.int32());break;case 3:if(o.stride&&o.stride.length||(o.stride=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.stride.push(e.int32());else o.stride.push(e.int32());break;case 4:o.offset=e.int32();break;case 5:o.dimension=e.int32();break;case 6:o.nElements=e.int32();break;case 7:o.isScalar=e.bool();break;case 8:o.storage=c.com.intel.analytics.bigdl.serialization.TensorStorage.decode(e,e.uint32());break;case 9:o.id=e.int32();break;case 10:o.tensorType=e.int32();break;default:e.skipType(7&r)}}return o},e}(),o.TensorStorage=function(){function e(e){if(this.float_data=[],this.double_data=[],this.bool_data=[],this.string_data=[],this.int_data=[],this.long_data=[],this.bytes_data=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.datatype=0,e.prototype.float_data=u.emptyArray,e.prototype.double_data=u.emptyArray,e.prototype.bool_data=u.emptyArray,e.prototype.string_data=u.emptyArray,e.prototype.int_data=u.emptyArray,e.prototype.long_data=u.emptyArray,e.prototype.bytes_data=u.emptyArray,e.prototype.id=0,e.decode=function(e,t){e instanceof p||(e=p.create(e));for(var a=void 0===t?e.len:e.pos+t,o=new c.com.intel.analytics.bigdl.serialization.TensorStorage;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:o.datatype=e.int32();break;case 2:if(o.float_data&&o.float_data.length||(o.float_data=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.float_data.push(e.float());else o.float_data.push(e.float());break;case 3:if(o.double_data&&o.double_data.length||(o.double_data=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.double_data.push(e.double());else o.double_data.push(e.double());break;case 4:if(o.bool_data&&o.bool_data.length||(o.bool_data=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.bool_data.push(e.bool());else o.bool_data.push(e.bool());break;case 5:o.string_data&&o.string_data.length||(o.string_data=[]),o.string_data.push(e.string());break;case 6:if(o.int_data&&o.int_data.length||(o.int_data=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.int_data.push(e.int32());else o.int_data.push(e.int32());break;case 7:if(o.long_data&&o.long_data.length||(o.long_data=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.long_data.push(e.int64());else o.long_data.push(e.int64());break;case 8:o.bytes_data&&o.bytes_data.length||(o.bytes_data=[]),o.bytes_data.push(e.bytes());break;case 9:o.id=e.int32();break;default:e.skipType(7&r)}}return o},e}(),o.Regularizer=function(){function e(e){if(this.regularData=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.regularizerType=0,e.prototype.regularData=u.emptyArray,e.decode=function(e,t){e instanceof p||(e=p.create(e));for(var a=void 0===t?e.len:e.pos+t,o=new c.com.intel.analytics.bigdl.serialization.Regularizer;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:o.regularizerType=e.int32();break;case 2:if(o.regularData&&o.regularData.length||(o.regularData=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.regularData.push(e.double());else o.regularData.push(e.double());break;default:e.skipType(7&r)}}return o},e}(),o.DataType=function(){var e={},t=Object.create(e);return t[e[0]="INT32"]=0,t[e[1]="INT64"]=1,t[e[2]="FLOAT"]=2,t[e[3]="DOUBLE"]=3,t[e[4]="STRING"]=4,t[e[5]="BOOL"]=5,t[e[6]="CHAR"]=6,t[e[7]="SHORT"]=7,t[e[8]="BYTES"]=8,t[e[9]="REGULARIZER"]=9,t[e[10]="TENSOR"]=10,t[e[11]="VARIABLE_FORMAT"]=11,t[e[12]="INITMETHOD"]=12,t[e[13]="MODULE"]=13,t[e[14]="NAME_ATTR_LIST"]=14,t[e[15]="ARRAY_VALUE"]=15,t[e[16]="DATA_FORMAT"]=16,t[e[17]="CUSTOM"]=17,t[e[18]="SHAPE"]=18,t}(),o.AttrValue=function(){function e(e){if(e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}var t;return e.prototype.dataType=0,e.prototype.subType="",e.prototype.int32Value=0,e.prototype.int64Value=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.floatValue=0,e.prototype.doubleValue=0,e.prototype.stringValue="",e.prototype.boolValue=!1,e.prototype.regularizerValue=null,e.prototype.tensorValue=null,e.prototype.variableFormatValue=0,e.prototype.initMethodValue=null,e.prototype.bigDLModuleValue=null,e.prototype.nameAttrListValue=null,e.prototype.arrayValue=null,e.prototype.dataFormatValue=0,e.prototype.customValue=null,e.prototype.shape=null,Object.defineProperty(e.prototype,"value",{get:u.oneOfGetter(t=["int32Value","int64Value","floatValue","doubleValue","stringValue","boolValue","regularizerValue","tensorValue","variableFormatValue","initMethodValue","bigDLModuleValue","nameAttrListValue","arrayValue","dataFormatValue","customValue","shape"]),set:u.oneOfSetter(t)}),e.decode=function(e,t){e instanceof p||(e=p.create(e));for(var a=void 0===t?e.len:e.pos+t,o=new c.com.intel.analytics.bigdl.serialization.AttrValue;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:o.dataType=e.int32();break;case 2:o.subType=e.string();break;case 3:o.int32Value=e.int32();break;case 4:o.int64Value=e.int64();break;case 5:o.floatValue=e.float();break;case 6:o.doubleValue=e.double();break;case 7:o.stringValue=e.string();break;case 8:o.boolValue=e.bool();break;case 9:o.regularizerValue=c.com.intel.analytics.bigdl.serialization.Regularizer.decode(e,e.uint32());break;case 10:o.tensorValue=c.com.intel.analytics.bigdl.serialization.BigDLTensor.decode(e,e.uint32());break;case 11:o.variableFormatValue=e.int32();break;case 12:o.initMethodValue=c.com.intel.analytics.bigdl.serialization.InitMethod.decode(e,e.uint32());break;case 13:o.bigDLModuleValue=c.com.intel.analytics.bigdl.serialization.BigDLModule.decode(e,e.uint32());break;case 14:o.nameAttrListValue=c.com.intel.analytics.bigdl.serialization.NameAttrList.decode(e,e.uint32());break;case 15:o.arrayValue=c.com.intel.analytics.bigdl.serialization.AttrValue.ArrayValue.decode(e,e.uint32());break;case 16:o.dataFormatValue=e.int32();break;case 17:o.customValue=c.google.protobuf.Any.decode(e,e.uint32());break;case 18:o.shape=c.com.intel.analytics.bigdl.serialization.Shape.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},e.ArrayValue=function(){function e(e){if(this.i32=[],this.i64=[],this.flt=[],this.dbl=[],this.str=[],this.boolean=[],this.Regularizer=[],this.tensor=[],this.variableFormat=[],this.initMethod=[],this.bigDLModule=[],this.nameAttrList=[],this.dataFormat=[],this.custom=[],this.shape=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.size=0,e.prototype.datatype=0,e.prototype.i32=u.emptyArray,e.prototype.i64=u.emptyArray,e.prototype.flt=u.emptyArray,e.prototype.dbl=u.emptyArray,e.prototype.str=u.emptyArray,e.prototype.boolean=u.emptyArray,e.prototype.Regularizer=u.emptyArray,e.prototype.tensor=u.emptyArray,e.prototype.variableFormat=u.emptyArray,e.prototype.initMethod=u.emptyArray,e.prototype.bigDLModule=u.emptyArray,e.prototype.nameAttrList=u.emptyArray,e.prototype.dataFormat=u.emptyArray,e.prototype.custom=u.emptyArray,e.prototype.shape=u.emptyArray,e.decode=function(e,t){e instanceof p||(e=p.create(e));for(var a=void 0===t?e.len:e.pos+t,o=new c.com.intel.analytics.bigdl.serialization.AttrValue.ArrayValue;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:o.size=e.int32();break;case 2:o.datatype=e.int32();break;case 3:if(o.i32&&o.i32.length||(o.i32=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.i32.push(e.int32());else o.i32.push(e.int32());break;case 4:if(o.i64&&o.i64.length||(o.i64=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.i64.push(e.int64());else o.i64.push(e.int64());break;case 5:if(o.flt&&o.flt.length||(o.flt=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.flt.push(e.float());else o.flt.push(e.float());break;case 6:if(o.dbl&&o.dbl.length||(o.dbl=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.dbl.push(e.double());else o.dbl.push(e.double());break;case 7:o.str&&o.str.length||(o.str=[]),o.str.push(e.string());break;case 8:if(o.boolean&&o.boolean.length||(o.boolean=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.boolean.push(e.bool());else o.boolean.push(e.bool());break;case 9:o.Regularizer&&o.Regularizer.length||(o.Regularizer=[]),o.Regularizer.push(c.com.intel.analytics.bigdl.serialization.Regularizer.decode(e,e.uint32()));break;case 10:o.tensor&&o.tensor.length||(o.tensor=[]),o.tensor.push(c.com.intel.analytics.bigdl.serialization.BigDLTensor.decode(e,e.uint32()));break;case 11:if(o.variableFormat&&o.variableFormat.length||(o.variableFormat=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.variableFormat.push(e.int32());else o.variableFormat.push(e.int32());break;case 12:o.initMethod&&o.initMethod.length||(o.initMethod=[]),o.initMethod.push(c.com.intel.analytics.bigdl.serialization.InitMethod.decode(e,e.uint32()));break;case 13:o.bigDLModule&&o.bigDLModule.length||(o.bigDLModule=[]),o.bigDLModule.push(c.com.intel.analytics.bigdl.serialization.BigDLModule.decode(e,e.uint32()));break;case 14:o.nameAttrList&&o.nameAttrList.length||(o.nameAttrList=[]),o.nameAttrList.push(c.com.intel.analytics.bigdl.serialization.NameAttrList.decode(e,e.uint32()));break;case 15:if(o.dataFormat&&o.dataFormat.length||(o.dataFormat=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.dataFormat.push(e.int32());else o.dataFormat.push(e.int32());break;case 16:o.custom&&o.custom.length||(o.custom=[]),o.custom.push(c.google.protobuf.Any.decode(e,e.uint32()));break;case 17:o.shape&&o.shape.length||(o.shape=[]),o.shape.push(c.com.intel.analytics.bigdl.serialization.Shape.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},e}(),e}(),o.NameAttrList=function(){function e(e){if(this.attr={},e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.name="",e.prototype.attr=u.emptyObject,e.decode=function(e,t){e instanceof p||(e=p.create(e));for(var a,o=void 0===t?e.len:e.pos+t,r=new c.com.intel.analytics.bigdl.serialization.NameAttrList;e.pos<o;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:e.skip().pos++,r.attr===u.emptyObject&&(r.attr={}),a=e.string(),e.pos++,r.attr[a]=c.com.intel.analytics.bigdl.serialization.AttrValue.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e}(),o.Shape=function(){function e(e){if(this.shapeValue=[],this.shape=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.shapeType=0,e.prototype.ssize=0,e.prototype.shapeValue=u.emptyArray,e.prototype.shape=u.emptyArray,e.decode=function(e,t){e instanceof p||(e=p.create(e));for(var a=void 0===t?e.len:e.pos+t,o=new c.com.intel.analytics.bigdl.serialization.Shape;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:o.shapeType=e.int32();break;case 2:o.ssize=e.int32();break;case 3:if(o.shapeValue&&o.shapeValue.length||(o.shapeValue=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.shapeValue.push(e.int32());else o.shapeValue.push(e.int32());break;case 4:o.shape&&o.shape.length||(o.shape=[]),o.shape.push(c.com.intel.analytics.bigdl.serialization.Shape.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},e.ShapeType=function(){var e={},t=Object.create(e);return t[e[0]="SINGLE"]=0,t[e[1]="MULTI"]=1,t}(),e}(),o),r),i),s),n),c.google=((l={}).protobuf=function(){var e={};return e.Any=function(){function e(e){if(e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.type_url="",e.prototype.value=u.newBuffer([]),e.decode=function(e,t){e instanceof p||(e=p.create(e));for(var a=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.Any;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:o.type_url=e.string();break;case 2:o.value=e.bytes();break;default:e.skipType(7&r)}}return o},e}(),e}(),l)}(protobuf);