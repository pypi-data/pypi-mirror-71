!function(e){"use strict";var t,r,n,a=e.Reader,s=e.util,o=e.roots.caffe2||(e.roots.caffe2={});o.caffe2=((n={}).ExternalDataProto=function(){function e(e){if(this.strides=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.source_type=0,e.prototype.record_id="",e.prototype.record_size=s.Long?s.Long.fromBits(0,0,!0):0,e.prototype.offset=s.Long?s.Long.fromBits(0,0,!1):0,e.prototype.strides=s.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.ExternalDataProto;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.source_type=e.int32();break;case 2:n.record_id=e.string();break;case 5:n.record_size=e.uint64();break;case 3:n.offset=e.int64();break;case 4:if(n.strides&&n.strides.length||(n.strides=[]),2==(7&s))for(var i=e.uint32()+e.pos;e.pos<i;)n.strides.push(e.int64());else n.strides.push(e.int64());break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.ExternalDataProto;for(e.start();!e.end();){var r=e.tag();switch(r){case"source_type":t.source_type=e.enum(o.caffe2.ExternalDataProto.SourceType);break;case"record_id":t.record_id=e.string();break;case"record_size":t.record_size=e.uint64();break;case"offset":t.offset=e.int64();break;case"strides":if(t.strides&&t.strides.length||(t.strides=[]),e.first())for(;!e.last();)t.strides.push(e.int64()),e.next();else t.strides.push(e.int64());break;default:e.field(r,t)}}return t},e.SourceType=(t={},(r=Object.create(t))[t[0]="INLINE_CONTAINER"]=0,r[t[1]="SIMPLE_FILE"]=1,r),e}(),n.TensorProto=function(){function e(e){if(this.dims=[],this.float_data=[],this.int32_data=[],this.string_data=[],this.double_data=[],this.int64_data=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.dims=s.emptyArray,e.prototype.data_type=1,e.prototype.storage_type=1,e.prototype.float_data=s.emptyArray,e.prototype.int32_data=s.emptyArray,e.prototype.byte_data=s.newBuffer([]),e.prototype.string_data=s.emptyArray,e.prototype.double_data=s.emptyArray,e.prototype.int64_data=s.emptyArray,e.prototype.raw_data=s.newBuffer([]),e.prototype.external_data=null,e.prototype.name="",e.prototype.device_detail=null,e.prototype.segment=null,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.TensorProto;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:if(n.dims&&n.dims.length||(n.dims=[]),2==(7&s))for(var i=e.uint32()+e.pos;e.pos<i;)n.dims.push(e.int64());else n.dims.push(e.int64());break;case 2:n.data_type=e.int32();break;case 12:n.storage_type=e.int32();break;case 3:if(n.float_data&&n.float_data.length||(n.float_data=[]),2==(7&s))for(i=e.uint32()+e.pos;e.pos<i;)n.float_data.push(e.float());else n.float_data.push(e.float());break;case 4:if(n.int32_data&&n.int32_data.length||(n.int32_data=[]),2==(7&s))for(i=e.uint32()+e.pos;e.pos<i;)n.int32_data.push(e.int32());else n.int32_data.push(e.int32());break;case 5:n.byte_data=e.bytes();break;case 6:n.string_data&&n.string_data.length||(n.string_data=[]),n.string_data.push(e.bytes());break;case 9:if(n.double_data&&n.double_data.length||(n.double_data=[]),2==(7&s))for(i=e.uint32()+e.pos;e.pos<i;)n.double_data.push(e.double());else n.double_data.push(e.double());break;case 10:if(n.int64_data&&n.int64_data.length||(n.int64_data=[]),2==(7&s))for(i=e.uint32()+e.pos;e.pos<i;)n.int64_data.push(e.int64());else n.int64_data.push(e.int64());break;case 13:n.raw_data=e.bytes();break;case 14:n.external_data=o.caffe2.ExternalDataProto.decode(e,e.uint32());break;case 7:n.name=e.string();break;case 8:n.device_detail=o.caffe2.DeviceOption.decode(e,e.uint32());break;case 11:n.segment=o.caffe2.TensorProto.Segment.decode(e,e.uint32());break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.TensorProto;for(e.start();!e.end();){var r=e.tag();switch(r){case"dims":if(t.dims&&t.dims.length||(t.dims=[]),e.first())for(;!e.last();)t.dims.push(e.int64()),e.next();else t.dims.push(e.int64());break;case"data_type":t.data_type=e.enum(o.caffe2.TensorProto.DataType);break;case"storage_type":t.storage_type=e.enum(o.caffe2.TensorProto.StorageType);break;case"float_data":if(t.float_data&&t.float_data.length||(t.float_data=[]),e.first())for(;!e.last();)t.float_data.push(e.float()),e.next();else t.float_data.push(e.float());break;case"int32_data":if(t.int32_data&&t.int32_data.length||(t.int32_data=[]),e.first())for(;!e.last();)t.int32_data.push(e.int32()),e.next();else t.int32_data.push(e.int32());break;case"byte_data":t.byte_data=e.bytes();break;case"string_data":if(t.string_data&&t.string_data.length||(t.string_data=[]),e.first())for(;!e.last();)t.string_data.push(e.bytes()),e.next();else t.string_data.push(e.bytes());break;case"double_data":if(t.double_data&&t.double_data.length||(t.double_data=[]),e.first())for(;!e.last();)t.double_data.push(e.double()),e.next();else t.double_data.push(e.double());break;case"int64_data":if(t.int64_data&&t.int64_data.length||(t.int64_data=[]),e.first())for(;!e.last();)t.int64_data.push(e.int64()),e.next();else t.int64_data.push(e.int64());break;case"raw_data":t.raw_data=e.bytes();break;case"external_data":t.external_data=o.caffe2.ExternalDataProto.decodeText(e,!0);break;case"name":t.name=e.string();break;case"device_detail":t.device_detail=o.caffe2.DeviceOption.decodeText(e,!0);break;case"segment":t.segment=o.caffe2.TensorProto.Segment.decodeText(e,!0);break;default:e.field(r,t)}}return t},e.DataType=(t={},(r=Object.create(t))[t[0]="UNDEFINED"]=0,r[t[1]="FLOAT"]=1,r[t[2]="INT32"]=2,r[t[3]="BYTE"]=3,r[t[4]="STRING"]=4,r[t[5]="BOOL"]=5,r[t[6]="UINT8"]=6,r[t[7]="INT8"]=7,r[t[8]="UINT16"]=8,r[t[9]="INT16"]=9,r[t[10]="INT64"]=10,r[t[12]="FLOAT16"]=12,r[t[13]="DOUBLE"]=13,r[t[14]="ZERO_COLLISION_HASH"]=14,r),e.StorageType=function(){var e={},t=Object.create(e);return t[e[1]="TYPED"]=1,t[e[2]="RAW"]=2,t[e[3]="EXTERNAL"]=3,t[e[4]="NO_CONTENT"]=4,t}(),e.Segment=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.begin=s.Long?s.Long.fromBits(0,0,!1):0,e.prototype.end=s.Long?s.Long.fromBits(0,0,!1):0,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.TensorProto.Segment;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.begin=e.int64();break;case 2:n.end=e.int64();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("begin"))throw s.ProtocolError("missing required 'begin'",{instance:n});if(!n.hasOwnProperty("end"))throw s.ProtocolError("missing required 'end'",{instance:n});return n},e.decodeText=function(e){var t=new o.caffe2.TensorProto.Segment;for(e.start();!e.end();){var r=e.tag();switch(r){case"begin":t.begin=e.int64();break;case"end":t.end=e.int64();break;default:e.field(r,t)}}if(!t.hasOwnProperty("begin"))throw s.ProtocolError("missing required 'begin'",{instance:t});if(!t.hasOwnProperty("end"))throw s.ProtocolError("missing required 'end'",{instance:t});return t},e}(),e}(),n.QTensorProto=function(){function e(e){if(this.dims=[],this.data=[],this.scales=[],this.biases=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dims=s.emptyArray,e.prototype.precision=0,e.prototype.scale=0,e.prototype.bias=0,e.prototype.is_signed=!1,e.prototype.data=s.emptyArray,e.prototype.name="",e.prototype.data_type=2,e.prototype.scales=s.emptyArray,e.prototype.biases=s.emptyArray,e.prototype.axis=0,e.prototype.is_multiparam=!1,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.QTensorProto;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:if(n.dims&&n.dims.length||(n.dims=[]),2==(7&i))for(var c=e.uint32()+e.pos;e.pos<c;)n.dims.push(e.int64());else n.dims.push(e.int64());break;case 2:n.precision=e.int32();break;case 3:n.scale=e.double();break;case 4:n.bias=e.double();break;case 5:n.is_signed=e.bool();break;case 6:if(n.data&&n.data.length||(n.data=[]),2==(7&i))for(c=e.uint32()+e.pos;e.pos<c;)n.data.push(e.int32());else n.data.push(e.int32());break;case 7:n.name=e.string();break;case 8:n.data_type=e.int32();break;case 9:if(n.scales&&n.scales.length||(n.scales=[]),2==(7&i))for(c=e.uint32()+e.pos;e.pos<c;)n.scales.push(e.double());else n.scales.push(e.double());break;case 10:if(n.biases&&n.biases.length||(n.biases=[]),2==(7&i))for(c=e.uint32()+e.pos;e.pos<c;)n.biases.push(e.double());else n.biases.push(e.double());break;case 11:n.axis=e.int32();break;case 12:n.is_multiparam=e.bool();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("precision"))throw s.ProtocolError("missing required 'precision'",{instance:n});if(!n.hasOwnProperty("scale"))throw s.ProtocolError("missing required 'scale'",{instance:n});if(!n.hasOwnProperty("bias"))throw s.ProtocolError("missing required 'bias'",{instance:n});if(!n.hasOwnProperty("is_signed"))throw s.ProtocolError("missing required 'is_signed'",{instance:n});return n},e.decodeText=function(e){var t=new o.caffe2.QTensorProto;for(e.start();!e.end();){var r=e.tag();switch(r){case"dims":if(t.dims&&t.dims.length||(t.dims=[]),e.first())for(;!e.last();)t.dims.push(e.int64()),e.next();else t.dims.push(e.int64());break;case"precision":t.precision=e.int32();break;case"scale":t.scale=e.double();break;case"bias":t.bias=e.double();break;case"is_signed":t.is_signed=e.bool();break;case"data":if(t.data&&t.data.length||(t.data=[]),e.first())for(;!e.last();)t.data.push(e.int32()),e.next();else t.data.push(e.int32());break;case"name":t.name=e.string();break;case"data_type":t.data_type=e.enum(o.caffe2.TensorProto.DataType);break;case"scales":if(t.scales&&t.scales.length||(t.scales=[]),e.first())for(;!e.last();)t.scales.push(e.double()),e.next();else t.scales.push(e.double());break;case"biases":if(t.biases&&t.biases.length||(t.biases=[]),e.first())for(;!e.last();)t.biases.push(e.double()),e.next();else t.biases.push(e.double());break;case"axis":t.axis=e.int32();break;case"is_multiparam":t.is_multiparam=e.bool();break;default:e.field(r,t)}}if(!t.hasOwnProperty("precision"))throw s.ProtocolError("missing required 'precision'",{instance:t});if(!t.hasOwnProperty("scale"))throw s.ProtocolError("missing required 'scale'",{instance:t});if(!t.hasOwnProperty("bias"))throw s.ProtocolError("missing required 'bias'",{instance:t});if(!t.hasOwnProperty("is_signed"))throw s.ProtocolError("missing required 'is_signed'",{instance:t});return t},e}(),n.TensorProtos=function(){function e(e){if(this.protos=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.protos=s.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.TensorProtos;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.protos&&n.protos.length||(n.protos=[]),n.protos.push(o.caffe2.TensorProto.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.TensorProtos;for(e.start();!e.end();){var r=e.tag();switch(r){case"protos":t.protos&&t.protos.length||(t.protos=[]),t.protos.push(o.caffe2.TensorProto.decodeText(e,!0));break;default:e.field(r,t)}}return t},e}(),n.TensorShape=function(){function e(e){if(this.dims=[],this.unknown_dims=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dims=s.emptyArray,e.prototype.data_type=1,e.prototype.unknown_dims=s.emptyArray,e.prototype.unknown_shape=!1,e.prototype.name="",e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.TensorShape;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:if(n.dims&&n.dims.length||(n.dims=[]),2==(7&s))for(var i=e.uint32()+e.pos;e.pos<i;)n.dims.push(e.int64());else n.dims.push(e.int64());break;case 2:n.data_type=e.int32();break;case 3:if(n.unknown_dims&&n.unknown_dims.length||(n.unknown_dims=[]),2==(7&s))for(i=e.uint32()+e.pos;e.pos<i;)n.unknown_dims.push(e.int32());else n.unknown_dims.push(e.int32());break;case 4:n.unknown_shape=e.bool();break;case 5:n.name=e.string();break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.TensorShape;for(e.start();!e.end();){var r=e.tag();switch(r){case"dims":if(t.dims&&t.dims.length||(t.dims=[]),e.first())for(;!e.last();)t.dims.push(e.int64()),e.next();else t.dims.push(e.int64());break;case"data_type":t.data_type=e.enum(o.caffe2.TensorProto.DataType);break;case"unknown_dims":if(t.unknown_dims&&t.unknown_dims.length||(t.unknown_dims=[]),e.first())for(;!e.last();)t.unknown_dims.push(e.int32()),e.next();else t.unknown_dims.push(e.int32());break;case"unknown_shape":t.unknown_shape=e.bool();break;case"name":t.name=e.string();break;default:e.field(r,t)}}return t},e}(),n.TensorShapes=function(){function e(e){if(this.shapes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.shapes=s.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.TensorShapes;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.shapes&&n.shapes.length||(n.shapes=[]),n.shapes.push(o.caffe2.TensorShape.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.TensorShapes;for(e.start();!e.end();){var r=e.tag();switch(r){case"shapes":t.shapes&&t.shapes.length||(t.shapes=[]),t.shapes.push(o.caffe2.TensorShape.decodeText(e,!0));break;default:e.field(r,t)}}return t},e}(),n.TensorBoundShape=function(){function e(e){if(this.dim_type=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.shape=null,e.prototype.dim_type=s.emptyArray,e.prototype.name="",e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.TensorBoundShape;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.shape=o.caffe2.TensorShape.decode(e,e.uint32());break;case 2:if(n.dim_type&&n.dim_type.length||(n.dim_type=[]),2==(7&s))for(var i=e.uint32()+e.pos;e.pos<i;)n.dim_type.push(e.int32());else n.dim_type.push(e.int32());break;case 3:n.name=e.string();break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.TensorBoundShape;for(e.start();!e.end();){var r=e.tag();switch(r){case"shape":t.shape=o.caffe2.TensorShape.decodeText(e,!0);break;case"dim_type":if(t.dim_type&&t.dim_type.length||(t.dim_type=[]),e.first())for(;!e.last();)t.dim_type.push(e.enum(o.caffe2.TensorBoundShape.DimType)),e.next();else t.dim_type.push(e.enum(o.caffe2.TensorBoundShape.DimType));break;case"name":t.name=e.string();break;default:e.field(r,t)}}return t},e.DimType=(t={},(r=Object.create(t))[t[0]="UNKNOWN"]=0,r[t[1]="CONSTANT"]=1,r[t[2]="BATCH"]=2,r[t[3]="BATCH_OF_FEATURE_MAX"]=3,r[t[4]="BATCH_OF_FEATURE_MAX_DEFAULT"]=4,r[t[5]="FEATURE_MAX"]=5,r[t[6]="FEATURE_MAX_DEFAULT"]=6,r),e}(),n.TensorBoundShapes=function(){function e(e){if(this.shapes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.shapes=s.emptyArray,e.prototype.max_batch_size=s.Long?s.Long.fromBits(0,0,!1):0,e.prototype.max_feature_len=s.Long?s.Long.fromBits(0,0,!1):0,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.TensorBoundShapes;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.shapes&&n.shapes.length||(n.shapes=[]),n.shapes.push(o.caffe2.TensorBoundShape.decode(e,e.uint32()));break;case 2:n.max_batch_size=e.int64();break;case 3:n.max_feature_len=e.int64();break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.TensorBoundShapes;for(e.start();!e.end();){var r=e.tag();switch(r){case"shapes":t.shapes&&t.shapes.length||(t.shapes=[]),t.shapes.push(o.caffe2.TensorBoundShape.decodeText(e,!0));break;case"max_batch_size":t.max_batch_size=e.int64();break;case"max_feature_len":t.max_feature_len=e.int64();break;default:e.field(r,t)}}return t},e}(),n.Argument=function(){function e(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.nets=[],this.qtensors=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name="",e.prototype.f=0,e.prototype.i=s.Long?s.Long.fromBits(0,0,!1):0,e.prototype.s=s.newBuffer([]),e.prototype.t=null,e.prototype.n=null,e.prototype.floats=s.emptyArray,e.prototype.ints=s.emptyArray,e.prototype.strings=s.emptyArray,e.prototype.tensors=s.emptyArray,e.prototype.nets=s.emptyArray,e.prototype.qtensors=s.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.Argument;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.name=e.string();break;case 2:n.f=e.float();break;case 3:n.i=e.int64();break;case 4:n.s=e.bytes();break;case 10:n.t=o.caffe2.TensorProto.decode(e,e.uint32());break;case 8:n.n=o.caffe2.NetDef.decode(e,e.uint32());break;case 5:if(n.floats&&n.floats.length||-1!=n.floats&&(n.floats=[],n.floatsCount=0),n.floatsCount<1e6)if(2==(7&s))for(var i=e.uint32()+e.pos;e.pos<i;)n.floats.push(e.float()),n.floatsCount++;else n.floats.push(e.float()),n.floatsCount++;else if(n.floats=-1,2==(7&s))for(var c=e.uint32()+e.pos;e.pos<c;)e.float();else e.float();break;case 6:if(n.ints&&n.ints.length||(n.ints=[]),2==(7&s))for(i=e.uint32()+e.pos;e.pos<i;)n.ints.push(e.int64());else n.ints.push(e.int64());break;case 7:n.strings&&n.strings.length||(n.strings=[]),n.strings.push(e.bytes());break;case 11:n.tensors&&n.tensors.length||(n.tensors=[]),n.tensors.push(o.caffe2.TensorProto.decode(e,e.uint32()));break;case 9:n.nets&&n.nets.length||(n.nets=[]),n.nets.push(o.caffe2.NetDef.decode(e,e.uint32()));break;case 12:n.qtensors&&n.qtensors.length||(n.qtensors=[]),n.qtensors.push(o.caffe2.QTensorProto.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.Argument;for(e.start();!e.end();){var r=e.tag();switch(r){case"name":t.name=e.string();break;case"f":t.f=e.float();break;case"i":t.i=e.int64();break;case"s":t.s=e.bytes();break;case"t":t.t=o.caffe2.TensorProto.decodeText(e,!0);break;case"n":t.n=o.caffe2.NetDef.decodeText(e,!0);break;case"floats":if(t.floats&&t.floats.length||(t.floats=[]),e.first())for(;!e.last();)t.floats.push(e.float()),e.next();else t.floats.push(e.float());break;case"ints":if(t.ints&&t.ints.length||(t.ints=[]),e.first())for(;!e.last();)t.ints.push(e.int64()),e.next();else t.ints.push(e.int64());break;case"strings":if(t.strings&&t.strings.length||(t.strings=[]),e.first())for(;!e.last();)t.strings.push(e.bytes()),e.next();else t.strings.push(e.bytes());break;case"tensors":t.tensors&&t.tensors.length||(t.tensors=[]),t.tensors.push(o.caffe2.TensorProto.decodeText(e,!0));break;case"nets":t.nets&&t.nets.length||(t.nets=[]),t.nets.push(o.caffe2.NetDef.decodeText(e,!0));break;case"qtensors":t.qtensors&&t.qtensors.length||(t.qtensors=[]),t.qtensors.push(o.caffe2.QTensorProto.decodeText(e,!0));break;default:e.field(r,t)}}return t},e}(),n.DeviceTypeProto=(t={},(r=Object.create(t))[t[0]="PROTO_CPU"]=0,r[t[1]="PROTO_CUDA"]=1,r[t[2]="PROTO_MKLDNN"]=2,r[t[3]="PROTO_OPENGL"]=3,r[t[4]="PROTO_OPENCL"]=4,r[t[5]="PROTO_IDEEP"]=5,r[t[6]="PROTO_HIP"]=6,r[t[7]="PROTO_FPGA"]=7,r[t[8]="PROTO_MSNPU"]=8,r[t[9]="PROTO_XLA"]=9,r[t[10]="PROTO_COMPILE_TIME_MAX_DEVICE_TYPES"]=10,r[t[20901]="PROTO_ONLY_FOR_TEST"]=20901,r),n.DeviceOption=function(){function e(e){if(this.extra_info=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.device_type=0,e.prototype.device_id=0,e.prototype.random_seed=0,e.prototype.node_name="",e.prototype.numa_node_id=0,e.prototype.extra_info=s.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.DeviceOption;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.device_type=e.int32();break;case 2:n.device_id=e.int32();break;case 3:n.random_seed=e.uint32();break;case 4:n.node_name=e.string();break;case 5:n.numa_node_id=e.int32();break;case 6:n.extra_info&&n.extra_info.length||(n.extra_info=[]),n.extra_info.push(e.string());break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.DeviceOption;for(e.start();!e.end();){var r=e.tag();switch(r){case"device_type":t.device_type=e.int32();break;case"device_id":t.device_id=e.int32();break;case"random_seed":t.random_seed=e.uint32();break;case"node_name":t.node_name=e.string();break;case"numa_node_id":t.numa_node_id=e.int32();break;case"extra_info":if(t.extra_info&&t.extra_info.length||(t.extra_info=[]),e.first())for(;!e.last();)t.extra_info.push(e.string()),e.next();else t.extra_info.push(e.string());break;default:e.field(r,t)}}return t},e}(),n.OperatorDef=function(){function e(e){if(this.input=[],this.output=[],this.arg=[],this.control_input=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.input=s.emptyArray,e.prototype.output=s.emptyArray,e.prototype.name="",e.prototype.type="",e.prototype.arg=s.emptyArray,e.prototype.device_option=null,e.prototype.engine="",e.prototype.control_input=s.emptyArray,e.prototype.is_gradient_op=!1,e.prototype.debug_info="",e.prototype.domain="",e.prototype.op_version=s.Long?s.Long.fromBits(0,0,!1):0,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.OperatorDef;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.input&&n.input.length||(n.input=[]),n.input.push(e.string());break;case 2:n.output&&n.output.length||(n.output=[]),n.output.push(e.string());break;case 3:n.name=e.string();break;case 4:n.type=e.string();break;case 5:n.arg&&n.arg.length||(n.arg=[]),n.arg.push(o.caffe2.Argument.decode(e,e.uint32()));break;case 6:n.device_option=o.caffe2.DeviceOption.decode(e,e.uint32());break;case 7:n.engine=e.string();break;case 8:n.control_input&&n.control_input.length||(n.control_input=[]),n.control_input.push(e.string());break;case 9:n.is_gradient_op=e.bool();break;case 10:n.debug_info=e.string();break;case 11:n.domain=e.string();break;case 12:n.op_version=e.int64();break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.OperatorDef;for(e.start();!e.end();){var r=e.tag();switch(r){case"input":if(t.input&&t.input.length||(t.input=[]),e.first())for(;!e.last();)t.input.push(e.string()),e.next();else t.input.push(e.string());break;case"output":if(t.output&&t.output.length||(t.output=[]),e.first())for(;!e.last();)t.output.push(e.string()),e.next();else t.output.push(e.string());break;case"name":t.name=e.string();break;case"type":t.type=e.string();break;case"arg":t.arg&&t.arg.length||(t.arg=[]),t.arg.push(o.caffe2.Argument.decodeText(e,!0));break;case"device_option":t.device_option=o.caffe2.DeviceOption.decodeText(e,!0);break;case"engine":t.engine=e.string();break;case"control_input":if(t.control_input&&t.control_input.length||(t.control_input=[]),e.first())for(;!e.last();)t.control_input.push(e.string()),e.next();else t.control_input.push(e.string());break;case"is_gradient_op":t.is_gradient_op=e.bool();break;case"debug_info":t.debug_info=e.string();break;case"domain":t.domain=e.string();break;case"op_version":t.op_version=e.int64();break;default:e.field(r,t)}}return t},e}(),n.MapFieldEntry=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.key="",e.prototype.val="",e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.MapFieldEntry;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.key=e.string();break;case 2:n.val=e.string();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("key"))throw s.ProtocolError("missing required 'key'",{instance:n});if(!n.hasOwnProperty("val"))throw s.ProtocolError("missing required 'val'",{instance:n});return n},e.decodeText=function(e){var t=new o.caffe2.MapFieldEntry;for(e.start();!e.end();){var r=e.tag();switch(r){case"key":t.key=e.string();break;case"val":t.val=e.string();break;default:e.field(r,t)}}if(!t.hasOwnProperty("key"))throw s.ProtocolError("missing required 'key'",{instance:t});if(!t.hasOwnProperty("val"))throw s.ProtocolError("missing required 'val'",{instance:t});return t},e}(),n.BackendOptions=function(){function e(e){if(this.option=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.backend_name="",e.prototype.option=s.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.BackendOptions;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.backend_name=e.string();break;case 2:n.option&&n.option.length||(n.option=[]),n.option.push(o.caffe2.MapFieldEntry.decode(e,e.uint32()));break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("backend_name"))throw s.ProtocolError("missing required 'backend_name'",{instance:n});return n},e.decodeText=function(e){var t=new o.caffe2.BackendOptions;for(e.start();!e.end();){var r=e.tag();switch(r){case"backend_name":t.backend_name=e.string();break;case"option":t.option&&t.option.length||(t.option=[]),t.option.push(o.caffe2.MapFieldEntry.decodeText(e,!0));break;default:e.field(r,t)}}if(!t.hasOwnProperty("backend_name"))throw s.ProtocolError("missing required 'backend_name'",{instance:t});return t},e}(),n.PartitionInfo=function(){function e(e){if(this.device_id=[],this.backend_options=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name="",e.prototype.device_id=s.emptyArray,e.prototype.extra_info="",e.prototype.backend_options=s.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.PartitionInfo;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.name=e.string();break;case 2:if(n.device_id&&n.device_id.length||(n.device_id=[]),2==(7&i))for(var c=e.uint32()+e.pos;e.pos<c;)n.device_id.push(e.int32());else n.device_id.push(e.int32());break;case 3:n.extra_info=e.string();break;case 4:n.backend_options&&n.backend_options.length||(n.backend_options=[]),n.backend_options.push(o.caffe2.BackendOptions.decode(e,e.uint32()));break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("name"))throw s.ProtocolError("missing required 'name'",{instance:n});return n},e.decodeText=function(e){var t=new o.caffe2.PartitionInfo;for(e.start();!e.end();){var r=e.tag();switch(r){case"name":t.name=e.string();break;case"device_id":if(t.device_id&&t.device_id.length||(t.device_id=[]),e.first())for(;!e.last();)t.device_id.push(e.int32()),e.next();else t.device_id.push(e.int32());break;case"extra_info":t.extra_info=e.string();break;case"backend_options":t.backend_options&&t.backend_options.length||(t.backend_options=[]),t.backend_options.push(o.caffe2.BackendOptions.decodeText(e,!0));break;default:e.field(r,t)}}if(!t.hasOwnProperty("name"))throw s.ProtocolError("missing required 'name'",{instance:t});return t},e}(),n.NetDef=function(){function e(e){if(this.op=[],this.arg=[],this.external_input=[],this.external_output=[],this.partition_info=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name="",e.prototype.op=s.emptyArray,e.prototype.type="",e.prototype.num_workers=0,e.prototype.device_option=null,e.prototype.arg=s.emptyArray,e.prototype.external_input=s.emptyArray,e.prototype.external_output=s.emptyArray,e.prototype.partition_info=s.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.NetDef;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.name=e.string();break;case 2:n.op&&n.op.length||(n.op=[]),n.op.push(o.caffe2.OperatorDef.decode(e,e.uint32()));break;case 3:n.type=e.string();break;case 4:n.num_workers=e.int32();break;case 5:n.device_option=o.caffe2.DeviceOption.decode(e,e.uint32());break;case 6:n.arg&&n.arg.length||(n.arg=[]),n.arg.push(o.caffe2.Argument.decode(e,e.uint32()));break;case 7:n.external_input&&n.external_input.length||(n.external_input=[]),n.external_input.push(e.string());break;case 8:n.external_output&&n.external_output.length||(n.external_output=[]),n.external_output.push(e.string());break;case 9:n.partition_info&&n.partition_info.length||(n.partition_info=[]),n.partition_info.push(o.caffe2.PartitionInfo.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.NetDef;for(e.start();!e.end();){var r=e.tag();switch(r){case"name":t.name=e.string();break;case"op":t.op&&t.op.length||(t.op=[]),t.op.push(o.caffe2.OperatorDef.decodeText(e,!0));break;case"type":t.type=e.string();break;case"num_workers":t.num_workers=e.int32();break;case"device_option":t.device_option=o.caffe2.DeviceOption.decodeText(e,!0);break;case"arg":t.arg&&t.arg.length||(t.arg=[]),t.arg.push(o.caffe2.Argument.decodeText(e,!0));break;case"external_input":if(t.external_input&&t.external_input.length||(t.external_input=[]),e.first())for(;!e.last();)t.external_input.push(e.string()),e.next();else t.external_input.push(e.string());break;case"external_output":if(t.external_output&&t.external_output.length||(t.external_output=[]),e.first())for(;!e.last();)t.external_output.push(e.string()),e.next();else t.external_output.push(e.string());break;case"partition_info":t.partition_info&&t.partition_info.length||(t.partition_info=[]),t.partition_info.push(o.caffe2.PartitionInfo.decodeText(e,!0));break;default:e.field(r,t)}}return t},e}(),n.ExecutionStep=function(){function e(e){if(this.substep=[],this.network=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name="",e.prototype.substep=s.emptyArray,e.prototype.network=s.emptyArray,e.prototype.num_iter=s.Long?s.Long.fromBits(0,0,!1):0,e.prototype.criteria_network="",e.prototype.report_net="",e.prototype.report_interval=0,e.prototype.run_every_ms=s.Long?s.Long.fromBits(0,0,!1):0,e.prototype.concurrent_substeps=!1,e.prototype.should_stop_blob="",e.prototype.only_once=!1,e.prototype.create_workspace=!1,e.prototype.num_concurrent_instances=0,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.ExecutionStep;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.name=e.string();break;case 2:n.substep&&n.substep.length||(n.substep=[]),n.substep.push(o.caffe2.ExecutionStep.decode(e,e.uint32()));break;case 3:n.network&&n.network.length||(n.network=[]),n.network.push(e.string());break;case 4:n.num_iter=e.int64();break;case 5:n.criteria_network=e.string();break;case 7:n.report_net=e.string();break;case 8:n.report_interval=e.int32();break;case 11:n.run_every_ms=e.int64();break;case 6:n.concurrent_substeps=e.bool();break;case 9:n.should_stop_blob=e.string();break;case 10:n.only_once=e.bool();break;case 12:n.create_workspace=e.bool();break;case 13:n.num_concurrent_instances=e.int32();break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.ExecutionStep;for(e.start();!e.end();){var r=e.tag();switch(r){case"name":t.name=e.string();break;case"substep":t.substep&&t.substep.length||(t.substep=[]),t.substep.push(o.caffe2.ExecutionStep.decodeText(e,!0));break;case"network":if(t.network&&t.network.length||(t.network=[]),e.first())for(;!e.last();)t.network.push(e.string()),e.next();else t.network.push(e.string());break;case"num_iter":t.num_iter=e.int64();break;case"criteria_network":t.criteria_network=e.string();break;case"report_net":t.report_net=e.string();break;case"report_interval":t.report_interval=e.int32();break;case"run_every_ms":t.run_every_ms=e.int64();break;case"concurrent_substeps":t.concurrent_substeps=e.bool();break;case"should_stop_blob":t.should_stop_blob=e.string();break;case"only_once":t.only_once=e.bool();break;case"create_workspace":t.create_workspace=e.bool();break;case"num_concurrent_instances":t.num_concurrent_instances=e.int32();break;default:e.field(r,t)}}return t},e}(),n.PlanDef=function(){function e(e){if(this.network=[],this.execution_step=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name="",e.prototype.network=s.emptyArray,e.prototype.execution_step=s.emptyArray,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.PlanDef;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.name=e.string();break;case 2:n.network&&n.network.length||(n.network=[]),n.network.push(o.caffe2.NetDef.decode(e,e.uint32()));break;case 3:n.execution_step&&n.execution_step.length||(n.execution_step=[]),n.execution_step.push(o.caffe2.ExecutionStep.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.PlanDef;for(e.start();!e.end();){var r=e.tag();switch(r){case"name":t.name=e.string();break;case"network":t.network&&t.network.length||(t.network=[]),t.network.push(o.caffe2.NetDef.decodeText(e,!0));break;case"execution_step":t.execution_step&&t.execution_step.length||(t.execution_step=[]),t.execution_step.push(o.caffe2.ExecutionStep.decodeText(e,!0));break;default:e.field(r,t)}}return t},e}(),n.BlobProto=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name="",e.prototype.type="",e.prototype.tensor=null,e.prototype.content=s.newBuffer([]),e.prototype.qtensor=null,e.prototype.content_num_chunks=0,e.prototype.content_chunk_id=0,e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.BlobProto;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.name=e.string();break;case 2:n.type=e.string();break;case 3:n.tensor=o.caffe2.TensorProto.decode(e,e.uint32());break;case 4:n.content=e.bytes();break;case 5:n.qtensor=o.caffe2.QTensorProto.decode(e,e.uint32());break;case 6:n.content_num_chunks=e.int32();break;case 7:n.content_chunk_id=e.int32();break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.BlobProto;for(e.start();!e.end();){var r=e.tag();switch(r){case"name":t.name=e.string();break;case"type":t.type=e.string();break;case"tensor":t.tensor=o.caffe2.TensorProto.decodeText(e,!0);break;case"content":t.content=e.bytes();break;case"qtensor":t.qtensor=o.caffe2.QTensorProto.decodeText(e,!0);break;case"content_num_chunks":t.content_num_chunks=e.int32();break;case"content_chunk_id":t.content_chunk_id=e.int32();break;default:e.field(r,t)}}return t},e}(),n.DBReaderProto=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name="",e.prototype.source="",e.prototype.db_type="",e.prototype.key="",e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new o.caffe2.DBReaderProto;e.pos<r;){var s=e.uint32();switch(s>>>3){case 1:n.name=e.string();break;case 2:n.source=e.string();break;case 3:n.db_type=e.string();break;case 4:n.key=e.string();break;default:e.skipType(7&s)}}return n},e.decodeText=function(e){var t=new o.caffe2.DBReaderProto;for(e.start();!e.end();){var r=e.tag();switch(r){case"name":t.name=e.string();break;case"source":t.source=e.string();break;case"db_type":t.db_type=e.string();break;case"key":t.key=e.string();break;default:e.field(r,t)}}return t},e}(),n)}(protobuf);