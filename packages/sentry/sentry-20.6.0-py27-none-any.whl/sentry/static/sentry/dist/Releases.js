(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[178],{1639:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r(8),a=r.n(n),i=r(9),s=r.n(i),c=r(11),o=r.n(c),l=r(12),u=r.n(l),f=r(6),d=r.n(f),p=r(283),b=r.n(p),h=(r(2),r(1640)),g=r(0);function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var j=function(e){o()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(m()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){return a()(this,n),r.apply(this,arguments)}return s()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(g.f)(b.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(h.a);j.displayName="AsyncView"},1669:function(e,t,r){"use strict";var n=r(8),a=r.n(n),i=r(9),s=r.n(i),c=r(11),o=r.n(c),l=r(12),u=r.n(l),f=r(6),d=r.n(f),p=r(4),b=r(2),h=r.n(b),g=r(45),m=r.n(g),j=r(62),O=r(0);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){o()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(y()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){var e;a()(this,n);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(e=r.call.apply(r,[this].concat(i))).state={query:e.props.query||e.props.defaultQuery,dropdownVisible:!1},e.searchInputRef=h.a.createRef(),e.blur=function(){e.searchInputRef.current&&e.searchInputRef.current.blur()},e.onSubmit=function(t){t.preventDefault(),e.blur(),e.props.onSearch(e.state.query)},e.clearSearch=function(){e.setState({query:e.props.defaultQuery},(function(){e.props.onSearch(e.state.query),Object(j.a)(e.props.onChange,e.state.query)}))},e.onQueryFocus=function(){e.setState({dropdownVisible:!0})},e.onQueryBlur=function(){e.setState({dropdownVisible:!1})},e.onQueryChange=function(t){var r=t.target.value;e.setState({query:r}),Object(j.a)(e.props.onChange,r)},e}return s()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.query!==this.props.query&&this.setState({query:e.query})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.width;return Object(O.f)("div",{className:m()("search",t)},Object(O.f)("form",{className:"form-horizontal",onSubmit:this.onSubmit},Object(O.f)("div",null,Object(O.f)(w,{type:"text",className:"search-input form-control",placeholder:this.props.placeholder,name:"query",ref:this.searchInputRef,autoComplete:"off",value:this.state.query,onBlur:this.onQueryBlur,onChange:this.onQueryChange,width:r}),Object(O.f)("span",{className:"icon-search"}),this.state.query!==this.props.defaultQuery&&Object(O.f)("div",null,Object(O.f)("a",{className:"search-clear-form",onClick:this.clearSearch},Object(O.f)("span",{className:"icon-circle-cross"}))))))}}]),n}(h.a.PureComponent);v.displayName="SearchBar",v.defaultProps={query:"",defaultQuery:"",onSearch:function(){}};var w=Object(p.a)("input",{target:"e5a9jdx0",label:"Input"})("width:",(function(e){return e.width?e.width:void 0}),";");t.a=v},1730:function(e,t,r){"use strict";r.d(t,"b",(function(){return y})),r.d(t,"a",(function(){return v}));var n=r(8),a=r.n(n),i=r(9),s=r.n(i),c=r(11),o=r.n(c),l=r(12),u=r.n(l),f=r(6),d=r.n(f),p=r(4),b=r(2),h=r.n(b),g=r(0),m=r(189),j=r(38);function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){o()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(O()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){return a()(this,n),r.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.users,n=e.avatarSize,a=e.maxVisibleAvatars,i=e.renderTooltip,s=e.typeMembers,c=e.tooltipOptions,o=r.slice(0,a),l=r.length-o.length;return c.position||(c.position="top"),Object(g.f)(v,{className:t},!!l&&Object(g.f)(j.a,{title:"".concat(l," other ").concat(s)},Object(g.f)(S,{size:n},l<99&&Object(g.f)(k,null,"+"),l)),o.map((function(e){return Object(g.f)(x,{key:"".concat(e.id,"-").concat(e.email),user:e,size:n,renderTooltip:i,tooltipOptions:c,hasTooltip:!0})})))}}]),n}(h.a.Component);y.displayName="AvatarList",y.defaultProps={avatarSize:28,maxVisibleAvatars:5,typeMembers:"users",tooltipOptions:{}};var v=Object(p.a)("div",{target:"e1mtf41h0",label:"AvatarListWrapper"})({name:"l256j9",styles:"display:flex;flex-direction:row-reverse;"}),w={name:"1truf70-Circle",styles:"border-radius:50%;border:2px solid white;margin-left:-8px;cursor:default;&:hover{z-index:1;};label:Circle;"},x=Object(p.a)(m.a,{target:"e1mtf41h1",label:"StyledAvatar"})("overflow:hidden;",w,";"),S=Object(p.a)("div",{target:"e1mtf41h2",label:"CollapsedUsers"})("display:flex;align-items:center;justify-content:center;position:relative;text-align:center;font-weight:600;background-color:",(function(e){return e.theme.borderLight}),";color:",(function(e){return e.theme.gray500}),";font-size:",(function(e){return Math.floor(e.size/2.3)}),"px;width:",(function(e){return e.size}),"px;height:",(function(e){return e.size}),"px;",w,";"),k=Object(p.a)("span",{target:"e1mtf41h3",label:"Plus"})({name:"3427wc",styles:"font-size:10px;margin-left:1px;margin-right:-1px;"})},1858:function(e,t,r){"use strict";function n(e,t){return e.requestPromise("/promptsactivity/",{method:"PUT",data:{organization_id:t.organizationId,project_id:t.projectId,feature:t.feature,status:t.status}})}r.d(t,"a",(function(){return n}))},1859:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(47),a=r.n(n);function i(e){var t=a.a.utc(),r=a.a.unix(e).utc();return t.diff(r,"days")}},1860:function(e,t,r){"use strict";var n=r(4),a=r(86),i=Object(n.a)("span",{target:"e7g7u6w0",label:"RepoLabel"})("font-weight:700;color:",(function(e){return e.theme.white}),";text-align:center;white-space:nowrap;border-radius:0.25em;",a.a,";display:inline-block;vertical-align:text-bottom;line-height:1;background:",(function(e){return e.theme.gray400}),";padding:3px;max-width:86px;font-size:",(function(e){return e.theme.fontSizeSmall}),";");t.a=i},1865:function(e,t,r){"use strict";r(2);var n=r(3),a=r(32),i=r(27),s=r(200),c=r(0),o=function(e){var t=e.orgId,r=e.version,o=function(){Object(s.f)(r,t)};return"2"===r?Object(c.f)(a.a,{priority:"primary",size:"small",icon:Object(c.f)(i.ab,{size:"sm"}),onClick:o},Object(n.b)("Go to New Releases")):Object(c.f)("div",null,Object(c.f)(a.a,{priority:"link",size:"small",onClick:o},Object(n.b)("Go to Legacy Releases")))};o.displayName="SwitchReleasesButton",t.a=o},1951:function(e,t,r){"use strict";var n=r(4),a=(r(2),r(205)),i=r(10),s=r(0);function c(e){var t=e.className,r=e.image,n=e.children;return Object(s.f)(a.a,{className:t},Object(s.f)(o,null,Object(s.f)(u,null,r),Object(s.f)(l,null,n)))}c.displayName="OnboardingPanel";var o=Object(n.a)("div",{target:"eipqko00",label:"Container"})("display:flex;align-items:center;justify-content:center;flex-wrap:wrap;min-height:450px;padding:",Object(i.a)(1)," ",Object(i.a)(4),";"),l=Object(n.a)("div",{target:"eipqko01",label:"StyledBox"})("flex:1;padding:",Object(i.a)(3),";"),u=Object(n.a)(l,{target:"eipqko02",label:"IllustrationContainer"})({name:"gmuwbf",styles:"display:flex;align-items:center;justify-content:center;"});t.a=c},1952:function(e,t,r){"use strict";var n=r(4),a=(r(2),r(1730)),i=r(3),s=r(10),c=r(0),o=function(e){var t=e.release,r=e.withHeading,n=void 0===r||r,s=t.commitCount||0,o=t.authors&&t.authors.length||0;if(0===s)return null;var u=[Object(i.d)("%s commit","%s commits",s),Object(i.b)("by"),Object(i.d)("%s author","%s authors",o)].join(" ");return Object(c.f)("div",{className:"release-stats"},n&&Object(c.f)(l,null,u),Object(c.f)("span",{style:{display:"inline-block"}},Object(c.f)(a.b,{users:t.authors,avatarSize:25,typeMembers:"authors"})))};o.displayName="ReleaseStats";var l=Object(n.a)("div",{target:"e1j648yn0",label:"ReleaseSummaryHeading"})("color:",(function(e){return e.theme.gray500}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";line-height:1.2;font-weight:600;text-transform:uppercase;margin-bottom:",Object(s.a)(.5),";");t.a=o},2082:function(e,t,r){e.exports=r.p+"minified.29ee83.svg"},2083:function(e,t,r){e.exports=r.p+"emails.eb5155.svg"},2084:function(e,t,r){e.exports=r.p+"issues.0b04e0.svg"},2085:function(e,t,r){e.exports=r.p+"suggested-assignees.300f33.svg"},2086:function(e,t,r){e.exports=r.p+"contributors.d10b1a.svg"},2125:function(e,t,r){"use strict";var n=r(8),a=r.n(n),i=r(9),s=r.n(i),c=r(11),o=r.n(c),l=r(12),u=r.n(l),f=r(6),d=r.n(f),p=r(4),b=r(2),h=r.n(b),g=r(2082),m=r.n(g),j=r(2083),O=r.n(j),y=r(2084),v=r.n(y),w=r(2085),x=r.n(w),S=r(2086),k=r.n(S),R=r(3),z=r(33),C=r(81),N=r(644),P=r(1951),I=r(10),q=r(32),D=r(0);function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var _=function(e){o()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(L()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){var e;a()(this,n);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(e=r.call.apply(r,[this].concat(i))).getMessage=function(){var t=e.props,r=t.cardsLength,n=t.step;return 0===n?Object(R.b)("Tell Me More"):n<r-1?Object(R.b)("Next"):Object(R.b)("See Docs for Setup")},e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.card,r=e.cardsLength,n=e.step===r-1;return Object(D.f)(P.a,{image:Object(D.f)(A,null,t.svg)},Object(D.f)("h3",null,t.title),t.disclaimer&&Object(D.f)(B,null,t.disclaimer),Object(D.f)("p",null,t.message),n?Object(D.f)(q.a,{href:"https://docs.sentry.io/learn/releases/",onClick:this.props.onClick},this.getMessage()):Object(D.f)(q.a,{onClick:this.props.onClick},this.getMessage()))}}]),n}(h.a.Component);_.displayName="ReleaseLandingCard";var A=Object(p.a)("div",{target:"e1wqji5c0",label:"CardComponentContainer"})({name:"19ctah0",styles:"width:550px;height:340px;img{vertical-align:baseline;}@media (max-width:1150px){font-size:14px;width:450px;}@media (max-width:1000px){font-size:12px;width:320px;max-height:180px;}"}),B=Object(p.a)("small",{target:"e1wqji5c1",label:"Disclaimer"})("display:block;margin-top:-",Object(I.a)(3),";margin-bottom:",Object(I.a)(3),";font-size:",(function(e){return e.theme.fontSizeSmall}),";"),M=_;function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Q=Object(p.a)((function(e){var t=e.data,r=e.className;return Object(D.f)("object",{data:t,className:r},Object(D.f)("img",{src:t,className:r}))}),{target:"ecpzmjl0",label:"Illustration"})({name:"uwwqev",styles:"width:100%;height:100%;"}),T=[{title:Object(R.b)("You Haven't Set Up Releases!"),disclaimer:Object(R.b)("(you made no releases in 30 days)"),message:Object(R.b)("Releases provide additional context, with rich commits, so you know which errors were addressed and which were introduced in a release"),svg:Object(D.f)(Q,{data:k.a})},{title:Object(R.b)("Suspect Commits"),message:Object(R.b)("Sentry suggests which commit caused an issue and who is likely responsible so you can triage"),svg:Object(D.f)(Q,{data:x.a})},{title:Object(R.b)("Release Stats"),message:Object(R.b)("See the commits in each release, and which issues were introduced or fixed in the release"),svg:Object(D.f)(Q,{data:v.a})},{title:Object(R.b)("Easy Resolution"),message:Object(R.b)("Automatically resolve issues by including the issue number in your commit message"),svg:Object(D.f)(Q,{data:m.a})},{title:Object(R.b)("Deploy Emails"),message:Object(R.b)("Receive email notifications when your code gets deployed"),svg:Object(D.f)(Q,{data:O.a})}],W=Object(C.a)(Object(N.a)(function(e){o()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(E()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(e){var t;return a()(this,n),(t=r.call(this,e)).handleClick=function(){var e=t.state.stepId,r=t.props,n=r.organization,a=r.project,i=T[e].title;e>=T.length-1||(t.setState((function(e){return{stepId:e.stepId+1}})),Object(z.a)("releases.landing_card_clicked",{org_id:parseInt(n.id,10),project_id:a&&parseInt(a.id,10),step_id:e,step_title:i}))},t.getCard=function(e){return T[e]},t.state={stepId:0},t}return s()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.organization,r=e.project;Object(z.a)("releases.landing_card_viewed",{org_id:parseInt(t.id,10),project_id:r&&parseInt(r.id,10)})}},{key:"render",value:function(){var e=this.state.stepId,t=this.getCard(e);return Object(D.f)(M,{onClick:this.handleClick,card:t,step:e,cardsLength:T.length})}}]),n}(h.a.Component)));t.a=W},2861:function(e,t,r){"use strict";r.r(t);var n=r(8),a=r.n(n),i=r(9),s=r.n(i),c=r(11),o=r.n(c),l=r(12),u=r.n(l),f=r(6),d=r.n(f),p=r(4),b=r(7),h=r(2),g=r.n(h),m=r(74),j=r(224),O=r(205),y=r(3),v=r(1639),w=r(286),x=r(643),S=r(50),k=r(646),R=r(388),z=r(632),C=r(1669),N=r(296),P=r(389),I=r(81),q=r(188),D=r(1865),L=r(25),_=r(10),A=r(17),B=r.n(A),M=r(29),E=r.n(M),Q=r(337),T=r.n(Q);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){var t=[].concat(E()(Object.values(m.e)),["cursor","query"]);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){B()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},T()(e,t),{per_page:50})}var F=r(2125),H=r(400),U=r.n(H),G=r(882),J=r.n(G),Y=r(385),K=r(1952),X=r(250),Z=r(638),$=r(86),ee=r(290),te=Object(p.a)("div",{target:"e12souvn0",label:"Layout"})("display:grid;grid-template-columns:1.25fr 1fr minmax(0,1fr) 1fr 1fr;grid-column-gap:",Object(_.a)(1.5),";width:100%;align-items:center;grid-template-areas:'release-name stats projects new-count last-event';@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){grid-template-columns:2fr minmax(0,2fr) 1fr;grid-template-areas:'release-name projects new-count';}"),re=Object(p.a)("div",{target:"e12souvn1",label:"VersionColumn"})({name:"1x0mzj0",styles:"grid-area:release-name;overflow:hidden;"}),ne=Object(p.a)("div",{target:"e12souvn2",label:"ProjectsColumn"})("grid-area:projects;font-size:",(function(e){return e.theme.fontSizeMedium}),";"),ae=Object(p.a)("div",{target:"e12souvn3",label:"StatsColumn"})("grid-area:stats;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){display:none;}"),ie=Object(p.a)("div",{target:"e12souvn4",label:"CountColumn"})({name:"afjs7u",styles:"grid-area:new-count;"}),se=Object(p.a)("div",{target:"e12souvn5",label:"LastEventColumn"})("grid-area:last-event;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){display:none;}"),ce=r(15),oe=r.n(ce),le=r(1860),ue=r(38),fe=r(0),de=function(e){var t=e.release,r=t.totalDeploys-1,n=t.lastDeploy;return Object(fe.f)("div",null,n&&n.dateFinished?Object(fe.f)("div",{className:"deploy"},Object(fe.f)("p",{className:"m-b-0 text-light"},Object(fe.f)(be,{style:{padding:3,width:70,maxWidth:86,fontSize:12}},n.environment+" ")," ",Object(fe.f)(he,{date:n.dateFinished}),r>0&&Object(fe.f)(ue.a,{title:Object(y.b)("%s earlier deploys",r)},Object(fe.f)("span",{className:"badge"},r)))):Object(fe.f)(he,{date:t.dateCreated}))};de.displayName="LatestDeployOrReleaseTime";var pe=de,be=Object(p.a)(le.a,{target:"e14ei9yo0",label:"ReleaseRepoLabel"})({name:"1eqmq6c",styles:"width:70px;"}),he=Object(p.a)((function(e){var t=e.date,r=oe()(e,["date"]);return Object(fe.f)("span",r,Object(fe.f)(ge,{className:"icon icon-clock"}),Object(fe.f)(X.a,{date:t}))}),{target:"e14ei9yo1",label:"TimeWithIcon"})("display:inline-flex;align-items:center;color:",(function(e){return e.theme.gray500}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";"),ge=Object(p.a)("span",{target:"e14ei9yo2",label:"ClockIcon"})("margin-right:",Object(_.a)(.25),";"),me=r(394),je=r(392),Oe=r(340),ye=function e(t){var r,n,a=t.projects,i=t.orgId,s=t.version,c=t.maxLines,o=void 0===c?2:c;a.length<=o?(r=a,n=[]):(r=a.slice(0,o-1),n=a.slice(o-1,a.length));var l=Object(y.b)("Release Projects"),u=Object(fe.f)(xe,null,Object(fe.f)(e,{projects:n,orgId:i,version:s,maxLines:5}));return Object(fe.f)(g.a.Fragment,null,r.map((function(e){return Object(fe.f)(ve,{project:e,avatarSize:14,key:e.slug})})),n.length>0&&Object(fe.f)(we,{header:l,body:u,show:n.length<=5&&void 0},Object(fe.f)(je.a,{to:"/organizations/".concat(i,"/releases/").concat(encodeURIComponent(s),"/")},Object(y.c)("and [count] more",{count:n.length}))))};ye.displayName="ProjectList";var ve=Object(p.a)(me.a,{target:"e568jqd0",label:"StyledProjectBadge"})("&:not(:last-child){margin-bottom:",Object(_.a)(.5),";}"),we=Object(p.a)(Oe.b,{target:"e568jqd1",label:"StyledHovercard"})("width:auto;max-width:295px;",Oe.a,"{padding-bottom:0;}"),xe=Object(p.a)("div",{target:"e568jqd2",label:"HovercardContentWrapper"})("display:flex;align-items:center;justify-content:flex-start;flex-wrap:wrap;font-size:",(function(e){return e.theme.fontSizeMedium}),";",ve,"{margin-right:",Object(_.a)(3),";margin-bottom:",Object(_.a)(2),";}"),Se=ye,ke=function(e){var t=e.orgId,r=e.releaseList,n=U()(J()(r.map((function(e){return e.projects.map((function(e){return e.slug}))}))));return Object(fe.f)("div",null,Object(fe.f)(ee.a,{orgId:t,slugs:n},(function(e){var n=e.projects;return r.map((function(e){return Object(fe.f)(ze,{key:e.version},Object(fe.f)(te,null,Object(fe.f)(re,null,Object(fe.f)(Ce,null,Object(fe.f)(Z.a,{version:e.version,preserveGlobalSelection:!0,tooltipRawVersion:!0,truncate:!0})),Object(fe.f)(pe,{orgId:t,release:e})),Object(fe.f)(ae,null,Object(fe.f)(K.a,{release:e})),Object(fe.f)(ne,null,Object(fe.f)(Se,{projects:n.filter((function(t){return e.projects.map((function(e){return e.slug})).includes(t.slug)})),orgId:t,version:e.version})),Object(fe.f)(ie,null,Object(fe.f)(Y.a,{className:"release-count",value:e.newGroups||0})),Object(fe.f)(se,null,e.lastEvent?Object(fe.f)(X.a,{date:e.lastEvent}):Object(fe.f)("span",null,"â€”"))))}))})))};ke.displayName="ReleaseList";var Re=ke,ze=Object(p.a)(O.f,{target:"e1d6bfaw0",label:"ReleasePanelItem"})("align-items:center;padding:",Object(_.a)(1)," ",Object(_.a)(2),";"),Ce=Object(p.a)("div",{target:"e1d6bfaw1",label:"VersionWrapper"})("font-weight:bold;margin-bottom:",Object(_.a)(.25),";",$.a,";display:inline-block;max-width:100%;width:auto;"),Ne=function(){return Object(fe.f)(O.e,null,Object(fe.f)(te,null,Object(fe.f)(re,null,Object(y.b)("Version")),Object(fe.f)(ne,null,Object(y.b)("Project")),Object(fe.f)(ae,null),Object(fe.f)(ie,null,Object(y.b)("New Issues")),Object(fe.f)(se,null,Object(y.b)("Last Event"))))};Ne.displayName="ReleaseListHeader";var Pe=Ne,Ie=r(33),qe=r(1640),De=r(32),Le=r(1858),_e=r(1859),Ae=function(e){return Object(fe.f)(Be,null,Object(fe.f)(Me,{width:e.width}))};Ae.displayName="ProgressBar";var Be=Object(p.a)("div",{target:"e7w233o0",label:"StyledBar"})({name:"x6uaem",styles:"background:#767676;width:100%;height:15px;float:right;margin-right:0px;margin-bottom:10px;border-radius:20px;position:relative;"}),Me=Object(p.a)("div",{target:"e7w233o1",label:"StyledSlider"})("height:100%;width:",(function(e){return e.width?e.width:50}),"%;background:#7ccca5;padding-right:0;border-radius:inherit;box-shadow:0 2px 1px rgba(0,0,0,0.08);position:absolute;bottom:0;left:0;"),Ee=Ae;function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var We={tag:{desc:Object(y.b)("Tag an error"),url:"configure-sdk",msg:"knowing which errors were introduced in a release, "},repo:{desc:Object(y.b)("Link to a repo"),url:"link-repository",msg:"determining which commit caused an error, "},commit:{desc:Object(y.b)("Associate commits"),url:"associate-commits-with-a-release",msg:"determining which commit caused an error, "},deploy:{desc:Object(y.b)("Tell sentry about a deploy"),url:"create-deploy",msg:"receiving notifications when your code gets deployed, "}},Ve=function(e){o()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(Te()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){return a()(this,n),r.apply(this,arguments)}return s()(n,[{key:"getEndpoints",value:function(){var e=this.props,t=e.project,r=e.organization;return[["promptsActivity","/promptsactivity/",{data:{organization_id:r.id,project_id:t.id,feature:"releases"}}],["setupStatus","/projects/".concat(r.slug,"/").concat(t.slug,"/releases/completion/")]]}},{key:"onRequestSuccess",value:function(e){var t=e.stateKey,r=e.data;"promptsActivity"===t?this.showBar(r):"setupStatus"===t&&this.getRemainingSteps(r)}},{key:"buildMessage",value:function(e){var t=e.map((function(e){return e.step})),r="You're missing out on ";t.includes("tag")&&(r+=We.tag.msg),(t.includes("repo")||t.includes("commit"))&&(r+=We.repo.msg),t.includes("deploy")&&(r+=We.deploy.msg),r+="and more!",this.setState({message:r})}},{key:"getRemainingSteps",value:function(e){var t;if(e){var r=(t=e.filter((function(e){return!1===e.complete})))[0]&&We[t[0].step];this.buildMessage(t),this.setState({remainingSteps:Object.keys(t).length,nextStep:r}),this.recordAnalytics("viewed",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){B()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({steps:e},r&&{cta:r.desc}))}}},{key:"showBar",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.data;e=r&&r.snoozed_ts?Object(_e.a)(r.snoozed_ts)>7:!r||!r.dismissed_ts,this.setState({showBar:e})}},{key:"handleClick",value:function(e){var t=this.props,r=t.project,n=t.organization,a={projectId:r.id,organizationId:n.id,feature:"releases",status:e};Object(Le.a)(this.api,a).then(this.setState({showBar:!1})),this.recordAnalytics("closed",{action:e})}},{key:"recordAnalytics",value:function(e,t){var r=this.props,n=r.project,a=r.organization;t.org_id=parseInt(a.id,10),t.project_id=parseInt(n.id,10),"next"===e?Object(Ie.a)("releases.progress_bar_clicked_next",t):"closed"===e?Object(Ie.a)("releases.progress_bar_closed",t):"viewed"===e&&Object(Ie.a)("releases.progress_bar_viewed",t)}},{key:"getWidth",value:function(){var e=this.state.remainingSteps,t=100*(Object.keys(We).length-e)/Object.keys(We).length;return 0===t?25:t}},{key:"renderBody",value:function(){var e=this,t=this.state,r=t.remainingSteps,n=t.showBar,a=t.nextStep,i=t.message;return r&&0!==r&&n?Object(fe.f)(O.f,null,Object(fe.f)("div",{className:"col-sm-8"},Object(fe.f)("div",null,Object(fe.f)(He,{className:"row"},Object(fe.f)("span",{className:"pull-right"},Object(y.b)("Next step: "),Object(fe.f)("a",{href:"https://docs.sentry.io/workflow/releases/#".concat(a.url),onClick:function(){return e.recordAnalytics("next",{cta:a.desc})}},Object(y.b)("".concat(a.desc)))),Object(fe.f)("h4",{className:"text-light"}," ",Object(y.b)("Releases aren't 100% set up"))),Object(fe.f)("div",{className:"row"},Object(fe.f)(Ee,{width:this.getWidth()}),Object(fe.f)("p",null,Object(y.b)("".concat(i)))))),Object(fe.f)("div",{className:"col-sm-4"},Object(fe.f)("div",{className:"pull-right"},Object(fe.f)(Fe,{className:"text-light",onClick:function(){return e.handleClick("dismissed")},"data-test-id":"dismissed"},Object(y.b)("Dismiss")),Object(fe.f)(Fe,{className:"text-light",onClick:function(){return e.handleClick("snoozed")},"data-test-id":"snoozed"},Object(y.b)("Remind Me Later"))))):null}}]),n}(qe.a),Fe=Object(p.a)(De.a,{target:"ewm5q2t0",label:"StyledButton"})({name:"1522hk",styles:"margin:5px;"}),He=Object(p.a)("div",{target:"ewm5q2t1",label:"StyledDiv"})({name:"1r2f04i",styles:"margin-bottom:10px;"}),Ue=Object(I.a)(Ve);function Ge(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Je=function(e){return Object(fe.f)(g.a.Fragment,null,Object(fe.f)(x.a,null,Object(fe.f)(Ye,e)))};Je.displayName="ReleasesContainer";var Ye=function(e){o()(n,e);var t,r=(t=n,function(){var e,r=d()(t);if(Ge()){var n=d()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){var e;a()(this,n);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(e=r.call.apply(r,[this].concat(i))).onSearch=function(t){var r=V(e.props.location).query;r.query=t;var n=e.props.params.orgId;b.browserHistory.push({pathname:"/organizations/".concat(n,"/releases/"),query:r})},e}return s()(n,[{key:"getTitle",value:function(){return"".concat(Object(y.b)("Releases")," - ").concat(this.props.organization.slug)}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,r=e.location.query,n=V(r);return Object(L.c)(r.start)||Object(L.c)(r.end)||(n.statsPeriod=r.statsPeriod||"14d"),[["releaseList","/organizations/".concat(t.slug,"/releases/"),{query:n}]]}},{key:"hasAnyRelease",value:function(){var e=this.props,t=e.organization.projects,r=e.selection;if(!t)return!0;var n=new Set(r.projects.length>0?r.projects:t.filter((function(e){return e.isMember})).map((function(e){return parseInt(e.id,10)})));return t.filter((function(e){return n.has(parseInt(e.id,10))})).some((function(e){return!!e.latestRelease}))}},{key:"renderStreamBody",value:function(){var e=this.props.organization,t=this.state,r=t.loading,n=t.releaseList;return r?Object(fe.f)(S.default,null):0===n.length?this.hasAnyRelease()?this.renderNoQueryResults():this.renderLanding():Object(fe.f)(g.a.Fragment,null,this.renderReleaseProgress(),Object(fe.f)(Re,{releaseList:n,orgId:e.slug}))}},{key:"renderReleaseProgress",value:function(){var e,t=this.props,r=t.organization,n=t.selection,a=null==r?void 0:null===(e=r.projects)||void 0===e?void 0:e.filter((function(e){return e.hasAccess}));if(!a)return null;if(!(1===n.projects.length||0===n.projects.length&&1===a.length))return null;var i=a[0];return n.projects.length&&n.projects[0]!==m.a&&(i=a.find((function(e){return parseInt(e.id,10)===n.projects[0]}))),Object(fe.f)(Ue,{project:i})}},{key:"renderNoQueryResults",value:function(){return Object(fe.f)(g.a.Fragment,null,this.renderReleaseProgress(),Object(fe.f)(w.a,null,Object(fe.f)("p",null,Object(y.b)("Sorry, no releases match your filters."))))}},{key:"renderLanding",value:function(){return Object(fe.f)(F.a,null)}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderBody",value:function(){var e=this.props,t=e.location,r=e.organization;return Object(fe.f)(j.b,null,Object(fe.f)(k.a,{organization:r},Object(fe.f)(j.c,null,Object(fe.f)(R.a,null,Object(y.b)("Releases")),Object(fe.f)(Ke,null,Object(fe.f)(q.a,{features:["releases-v2"],organization:r},Object(fe.f)(D.a,{version:"2",orgId:r.id})),Object(fe.f)(C.a,{defaultQuery:"",placeholder:Object(y.b)("Search for a release"),query:t.query.query,onSearch:this.onSearch}))),Object(fe.f)("div",null,Object(fe.f)(O.a,null,Object(fe.f)(Pe,null),Object(fe.f)(O.c,null,this.renderStreamBody())),Object(fe.f)(z.a,{pageLinks:this.state.releaseListPageLinks}))))}}]),n}(v.a),Ke=Object(p.a)("div",{target:"e1rcjkrr0",label:"Wrapper"})("display:grid;grid-gap:",Object(_.a)(1),";margin-left:",Object(_.a)(2),";grid-template-columns:auto auto;");t.default=Object(I.a)(Object(P.a)(Object(N.a)(Je)))}}]);
//# sourceMappingURL=Releases.js.map