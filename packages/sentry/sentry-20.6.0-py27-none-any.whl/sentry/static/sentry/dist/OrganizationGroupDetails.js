(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[108],{1648:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(641),a=n.n(r),i=n(493);function o(e,t){var n,r,o,s,c=t.routes,l=t.params,u=t.location,f=t.stepBack,p=c.map((function(e){return e.path||""}));"string"!=typeof e?(s=c.indexOf(e)+1,o=a()(p.slice(0,s),(function(e){return"/"===e[0]}))):o=a()(p,(function(e){return"/"===e[0]}));var d=p.slice(o,s);void 0!==f&&(d=d.slice(0,f));var b=null!==(n=null==u?void 0:u.search)&&void 0!==n?n:"",h=null!==(r=null==u?void 0:u.hash)&&void 0!==r?r:"",g="".concat(d.join("")).concat("string"!=typeof e?"":e).concat(b).concat(h);return Object(i.a)(g,l)}},1662:function(e,t,n){"use strict";var r=n(5),a=n.n(r),i=n(15),o=n.n(i),s=(n(2),n(45)),c=n.n(s),l=n(0);function u(e){var t=e.underlined,n=e.className,r=o()(e,["underlined","className"]),i=c()("nav nav-tabs",n,{"border-bottom":t});return Object(l.f)("ul",a()({className:i},r))}u.displayName="NavTabs",t.a=u},1673:function(e,t,n){"use strict";var r=n(5),a=n.n(r),i=n(8),o=n.n(i),s=n(9),c=n.n(s),l=n(11),u=n.n(l),f=n(12),p=n.n(f),d=n(6),b=n.n(d),h=n(1),g=n.n(h),v=n(2),m=n.n(v),j=n(186),y=n.n(j),O=n(7),x=n(45),k=n.n(x),w=n(0);function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var D=function(e){u()(r,e);var t,n=(t=r,function(){var e,n=b()(t);if(S()){var r=b()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return p()(this,e)});function r(){var e;o()(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).isActive=function(){var t=e.props,n=t.isActive,r=t.to,a=t.query,i=t.index;return(n||e.context.router.isActive)({pathname:r,query:a},i)},e.getClassName=function(){var t={},n=e.props,r=n.className,a=n.activeClassName;return r&&(t[r]=!0),e.isActive()&&(t[a]=!0),k()(t)},e}return c()(r,[{key:"render",value:function(){var e=this.props,t=e.index,n=e.children,r=y()(this.props,"activeClassName","isActive","index");return Object(w.f)("li",{className:this.getClassName()},Object(w.f)(O.Link,a()({},r,{onlyActiveOnIndex:t}),n))}}]),r}(m.a.Component);D.displayName="ListLink",D.displayName="ListLink",D.contextTypes={router:g.a.object.isRequired},D.defaultProps={activeClassName:"active",index:!1},t.a=D},1684:function(e,t,n){"use strict";var r=n(5),a=n.n(r),i=n(15),o=n.n(i),s=n(8),c=n.n(s),l=n(9),u=n.n(l),f=n(11),p=n.n(f),d=n(12),b=n.n(d),h=n(6),g=n.n(h),v=n(2),m=n.n(v),j=n(45),y=n.n(j),O=n(284),x=n(0);function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=function(e){p()(r,e);var t,n=(t=r,function(){var e,n=g()(t);if(k()){var r=g()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return b()(this,e)});function r(){return c()(this,r),n.apply(this,arguments)}return u()(r,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabled,r=e.title,i=e.children,s=o()(e,["className","disabled","title","children"]);return Object(x.f)(O.a,a()({},s,{disabled:n}),Object(x.f)("a",{href:"#",className:y()(t||"",{disabled:n}),title:r},i))}}]),r}(m.a.PureComponent);w.displayName="LinkWithConfirmation",t.a=w},1730:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return O}));var r=n(8),a=n.n(r),i=n(9),o=n.n(i),s=n(11),c=n.n(s),l=n(12),u=n.n(l),f=n(6),p=n.n(f),d=n(4),b=n(2),h=n.n(b),g=n(0),v=n(189),m=n(38);function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){c()(r,e);var t,n=(t=r,function(){var e,n=p()(t);if(j()){var r=p()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return u()(this,e)});function r(){return a()(this,r),n.apply(this,arguments)}return o()(r,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.users,r=e.avatarSize,a=e.maxVisibleAvatars,i=e.renderTooltip,o=e.typeMembers,s=e.tooltipOptions,c=n.slice(0,a),l=n.length-c.length;return s.position||(s.position="top"),Object(g.f)(O,{className:t},!!l&&Object(g.f)(m.a,{title:"".concat(l," other ").concat(o)},Object(g.f)(w,{size:r},l<99&&Object(g.f)(S,null,"+"),l)),c.map((function(e){return Object(g.f)(k,{key:"".concat(e.id,"-").concat(e.email),user:e,size:r,renderTooltip:i,tooltipOptions:s,hasTooltip:!0})})))}}]),r}(h.a.Component);y.displayName="AvatarList",y.defaultProps={avatarSize:28,maxVisibleAvatars:5,typeMembers:"users",tooltipOptions:{}};var O=Object(d.a)("div",{target:"e1mtf41h0",label:"AvatarListWrapper"})({name:"l256j9",styles:"display:flex;flex-direction:row-reverse;"}),x={name:"1truf70-Circle",styles:"border-radius:50%;border:2px solid white;margin-left:-8px;cursor:default;&:hover{z-index:1;};label:Circle;"},k=Object(d.a)(v.a,{target:"e1mtf41h1",label:"StyledAvatar"})("overflow:hidden;",x,";"),w=Object(d.a)("div",{target:"e1mtf41h2",label:"CollapsedUsers"})("display:flex;align-items:center;justify-content:center;position:relative;text-align:center;font-weight:600;background-color:",(function(e){return e.theme.borderLight}),";color:",(function(e){return e.theme.gray500}),";font-size:",(function(e){return Math.floor(e.size/2.3)}),"px;width:",(function(e){return e.size}),"px;height:",(function(e){return e.size}),"px;",x,";"),S=Object(d.a)("span",{target:"e1mtf41h3",label:"Plus"})({name:"3427wc",styles:"font-size:10px;margin-left:1px;margin-right:-1px;"})},1731:function(e,t,n){"use strict";var r=n(5),a=n.n(r),i=n(4),o=n(2),s=n.n(o),c=n(0),l=function(e){var t=e.forwardRef,n=e.size,r=void 0===n?"sm":n,a=e.isActive,i=e.isLoading,o=e.isDisabled,s=e.toggle,l=e.id,u=e.name,f=e.className;return Object(c.f)(b,{ref:t,id:l,name:u,type:"button",className:f,onClick:o?void 0:s,role:"checkbox","aria-checked":a,isLoading:i,isDisabled:o,isActive:a,size:r,"data-test-id":"switch"},Object(c.f)(h,{isDisabled:o,isActive:a,size:r}))};l.displayName="Switch";var u=function(e){return"sm"===e.size?16:24},f=function(e){return u(e)-("sm"===e.size?6:10)},p=function(e){return"sm"===e.size?2:4},d=function(e){return e.isActive?p(e)+u(e):p(e)},b=Object(i.a)("button",{target:"ezmyi9u0",label:"SwitchButton"})("display:inline-block;background:none;padding:0;border:1px solid ",(function(e){return e.isActive?e.theme.borderDark:e.theme.borderLight}),";position:relative;box-shadow:inset 0 1px 1px rgba(0,0,0,0.04);transition:0.15s border ease;cursor:",(function(e){return e.isLoading||e.isDisabled?"not-allowed":"pointer"}),";pointer-events:",(function(e){return e.isLoading||e.isDisabled?"none":null}),";height:",u,"px;width:",(function(e){return 2*u(e)}),"px;border-radius:",u,"px;&:hover,&:focus{outline:none;border-color:",(function(e){return e.theme.borderDark}),";}&:focus,&.focus-visible{outline:none;box-shadow:rgba(209,202,216,0.5) 0 0 0 3px;}"),h=Object(i.a)("span",{target:"ezmyi9u1",label:"Toggle"})("display:block;position:absolute;border-radius:50%;transition:0.25s all ease;top:",p,"px;transform:translateX(",d,"px);width:",f,"px;height:",f,"px;background:",(function(e){return e.isActive?e.theme.green400:e.theme.gray400}),";opacity:",(function(e){return e.isDisabled?.4:null}),";");t.a=s.a.forwardRef((function(e,t){return Object(c.f)(l,a()({},e,{forwardRef:t}))}))},1741:function(e,t,n){"use strict";var r=n(15),a=n.n(r),i=n(4),o=n(1),s=n.n(o),c=(n(2),n(10)),l=n(26),u=n(0),f={new:l.a.red,strong:l.a.blue400,highlight:l.a.green400},p=Object(i.a)((function(e){e.priority;var t=e.text,n=a()(e,["priority","text"]);return Object(u.f)("span",n,t)}),{target:"eee69uk0",label:"Badge"})("display:inline-block;height:20px;min-width:20px;line-height:20px;border-radius:20px;padding:0 5px;margin-left:",Object(c.a)(.5),";font-size:75%;font-weight:600;text-align:center;color:#fff;background:",(function(e){return e.priority?f[e.priority]:l.a.gray400}),";transition:background 100ms linear;position:relative;top:-1px;");p.propTypes={text:s.a.oneOfType([s.a.string,s.a.number]),priority:s.a.oneOf(["strong","new","highlight"])},t.a=p},1783:function(e,t,n){"use strict";var r=n(4);function a(e){var t=e.level,n=void 0===t?"":t,r=e.theme,a={error:r.orange,info:r.blue400,warning:r.yellowOrange,fatal:r.red,sample:r.purple};return"background-color: ".concat(a[n]||r.orange,";")}var i=Object(r.a)("span",{target:"e142pgwl0",label:"ErrorLevel"})("padding:0;position:relative;width:",(function(e){return e.size||"13px"}),";height:",(function(e){return e.size||"13px"}),";text-indent:-9999em;display:inline-block;border-radius:50%;flex-shrink:0;",a);t.a=i},1891:function(e,t,n){"use strict";var r=n(5),a=n.n(r),i=n(15),o=n.n(i),s=(n(2),n(45)),c=n.n(s),l=n(0),u=function(e){var t=e.responsive,n=void 0!==t&&t,r=e.center,i=void 0===r||r,s=e.children,u=e.className,f=o()(e,["responsive","center","children","className"]),p=c()("spread-layout",u,{center:i,"allow-responsive":n});return Object(l.f)("div",a()({},f,{className:p}),s)};u.displayName="SpreadLayout",t.a=u},1941:function(e,t,n){"use strict";var r=n(4),a=(n(2),n(1783)),i=n(86),o=n(10),s=n(0),c=function(e){var t=e.className,n=e.level,r=e.levelIndicatorSize,a=e.message,i=e.annotations;return Object(s.f)("div",{className:t},n&&Object(s.f)(u,{size:r,level:n},n),a&&Object(s.f)(f,null,a),i)};c.displayName="EventMessage";var l=Object(r.a)(c,{target:"e1vuddz00",label:"StyledEventMessage"})("display:flex;align-items:center;position:relative;line-height:1.2;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){margin-bottom:",Object(o.a)(2),";}"),u=Object(r.a)(a.a,{target:"e1vuddz01",label:"StyledErrorLevel"})("margin-right:",Object(o.a)(1),";"),f=Object(r.a)("span",{target:"e1vuddz02",label:"Message"})(i.a," width:auto;max-height:38px;");t.a=l},1946:function(e,t,n){"use strict";var r=n(4),a=n(2),i=n.n(a),o=n(45),s=n.n(o),c=n(47),l=n.n(c),u=n(3),f=n(122),p=n(1730),d=n(36),b=n(38),h=n(0),g=function(e){var t=e.avatarSize,n=void 0===t?28:t,r=e.seenBy,a=void 0===r?[]:r,o=e.iconTooltip,c=void 0===o?Object(u.b)("People who have viewed this"):o,g=e.maxVisibleAvatars,y=void 0===g?10:g,O=e.iconPosition,x=void 0===O?"left":O,k=e.className,w=d.default.get("user"),S=a.filter((function(e){return w.id!==e.id}));return 0===S.length?null:Object(h.f)(v,{iconPosition:x,className:s()("seen-by",k)},Object(h.f)(p.b,{users:S,avatarSize:n,maxVisibleAvatars:y,renderTooltip:function(e){return Object(h.f)(i.a.Fragment,null,Object(f.g)(e),Object(h.f)("br",null),l()(e.lastSeen).format("LL"))}}),Object(h.f)(m,{iconPosition:x},Object(h.f)(b.a,{title:c},Object(h.f)(j,{className:"icon-eye"}))))};g.displayName="SeenByList";var v=Object(r.a)("div",{target:"e13v00xx0",label:"SeenByWrapper"})("display:flex;margin-top:15px;float:right;",(function(e){return"left"===e.iconPosition?"flex-direction: row-reverse":""}),";"),m=Object(r.a)("div",{target:"e13v00xx1",label:"IconWrapper"})("background-color:transparent;color:",(function(e){return e.theme.gray700}),";height:28px;width:28px;line-height:26px;text-align:center;",(function(e){return"left"===e.iconPosition?"margin-right: 10px":""}),";"),j=Object(r.a)("span",{target:"e13v00xx2",label:"EyeIcon"})({name:"die450",styles:"opacity:0.4;position:relative;top:2px;"});t.a=g},1947:function(e,t,n){"use strict";var r=n(4),a=n(1),i=n.n(a),o=Object(r.a)("div",{target:"e1uibv5p0",label:"FlowLayout"})("display:flex;flex:1;align-items:center;flex-direction:",(function(e){return e.vertical?"column":null}),";justify-content:",(function(e){return e.center?"center":null}),";overflow:",(function(e){return e.truncate?"hidden":null}),";");o.propTypes={center:i.a.bool,vertical:i.a.bool,truncate:i.a.bool},o.defaultProps={truncate:!0},t.a=o},2869:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),i=n(15),o=n.n(i),s=n(8),c=n.n(s),l=n(9),u=n.n(l),f=n(11),p=n.n(f),d=n(12),b=n.n(d),h=n(6),g=n.n(h),v=n(2),m=n.n(v),j=n(33),y=n(389),O=n(81),x=n(20),k=n.n(x),w=n(17),S=n.n(w),D=n(28),N=n.n(D),R=n(283),C=n.n(R),z=n(1),P=n.n(z),A=n(7),I=n(49),L=n(224),T=n(62),U=n(3),M=n(643),E=n(66),B=n(187),q=n(50),_=n(290),F=n(166),G=n(1648),W=n(58),H=n(296),V="GROUP_NOT_FOUND",J=n(4),Y=n(186),Q=n.n(Y),X=n(496),Z=n(836),$=n(385),K=n(692),ee=n(1941),te=n(693),ne=n(251),re=n(1673),ae=n(1662),ie=n(394),oe=n(1946),se=n(678),ce=n(38),le=n(1741),ue=n(10),fe=n(30),pe=n.n(fe),de=n(31),be=n(108),he=n(175),ge=n(32),ve=n(153),me=n(1668),je=n(188),ye=n(648),Oe=n(89),xe=n(846),ke=n(104),we=n(1684),Se=n(77),De=n(848),Ne=n(39),Re=n.n(Ne),Ce=n(45),ze=n.n(Ce),Pe=n(387),Ae=n(657),Ie=n(636),Le=n(284),Te=n(1947),Ue=n(1891),Me=n(1731),Ee=n(27),Be=n(0);function qe(e){return function(){var t,n=g()(e);if(_e()){var r=g()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return b()(this,t)}}function _e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Fe=function(e){p()(n,e);var t=qe(n);function n(){var e;c()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleCopyClick=function(){e.urlRef&&Object(Pe.a)(Re.a.findDOMNode(e.urlRef))},e.handleUrlMount=function(t){e.urlRef=t,e.urlRef&&Object(Pe.a)(Re.a.findDOMNode(e.urlRef))},e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.isSharing,n=e.busy,r=e.shareUrl,a=e.onConfirming,i=e.onCancel,o=e.onShare,s=!n&&t?r:"Not shared";return Object(Be.f)(Te.a,{style:{flex:"none",alignItems:"stretch",border:"1px solid ".concat("#dad5df"),borderRadius:4}},Object(Be.f)("div",{style:{position:"relative",display:"flex",flex:1,backgroundColor:t?"transparent":"#f9f7f9",borderRight:"1px solid ".concat("#dad5df"),maxWidth:288}},Object(Be.f)(Ae.a,{ref:this.handleUrlMount,style:{flex:1,border:"none",padding:"4px 6px 4px 10px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},s)),Object(Be.f)(Te.a,{style:{alignItems:"stretch"}},Object(Be.f)(Ie.a,{hideUnsupported:!0,value:s},Object(Be.f)(ge.a,{borderless:!0,size:"xsmall",onClick:this.handleCopyClick,style:{borderRadius:0,borderRight:"1px solid ".concat("#dad5df")}},Object(Be.f)(Ee.p,null))),Object(Be.f)(Le.a,{message:Object(U.b)("You are about to regenerate a new shared URL. Your previously shared URL will no longer work. Do you want to continue?"),onCancel:i,onConfirming:a,onConfirm:o},Object(Be.f)(ge.a,{borderless:!0,size:"xsmall"},Object(Be.f)(Ee.Z,null)))))}}]),n}(m.a.Component);Fe.displayName="ShareUrlContainer";var Ge=function(e){var t=e.children,n=o()(e,["children"]);return Object(Be.f)("h6",a()({},n,{style:{margin:0,paddingRight:30,whiteSpace:"nowrap"}}),t)};Ge.displayName="SmallHeading";var We=function(e){var t=e.active;return Object(Be.f)("span",{style:{display:"inline-block",marginRight:4,borderRadius:"50%",width:10,height:10,background:t?"#57be8c":"#dfdbe4"}})};We.displayName="IndicatorDot";var He=function(e){p()(n,e);var t=qe(n);function n(e){var r;return c()(this,n),(r=t.call(this,e)).handleToggleShare=function(e){e.preventDefault(),r.setState({busy:!0},(function(){return r.props.onToggle()}))},r.handleShare=function(){var e=r.props.onShare;r.setState({busy:!0},(function(){return e()})),r.hasConfirmModal=!1},r.handleOpen=function(){r.props.isSharing||r.handleShare()},r.handleConfirmCancel=function(){return r.hasConfirmModal=!1},r.handleConfirmReshare=function(){return r.hasConfirmModal=!0},r.hasConfirmModal=!1,r.state={busy:!1},r}return u()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.state.busy||this.props.shareUrl===e.shareUrl&&this.props.isSharing===e.isSharing||this.setState({busy:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.isSharing,i=this.state.busy,o=ze()("share-issue btn-sm btn btn-default",n),s=Object(Be.f)("div",{style:{marginRight:4}},Object(Be.f)(Te.a,{center:!0},Object(Be.f)(We,{active:r}),"Share"));return Object(Be.f)(ve.a,{className:o,shouldIgnoreClickOutside:function(){return e.hasConfirmModal},title:s,onOpen:this.handleOpen,keepMenuOpen:!0},Object(Be.f)("li",{style:{padding:"12px 18px"},ref:function(t){return e.container=t}},Object(Be.f)(Ue.a,{style:{marginBottom:i||r?12:void 0}},Object(Be.f)(Ge,null,Object(U.b)("Enable public share link")),Object(Be.f)(Me.a,{isActive:r,size:"sm",toggle:this.handleToggleShare})),i&&Object(Be.f)(Te.a,{center:!0},Object(Be.f)(q.default,{mini:!0})),!i&&r&&Object(Be.f)(Fe,a()({},this.props,{onCancel:this.handleConfirmCancel,onConfirming:this.handleConfirmReshare,onShare:this.handleShare}))))}}]),n}(m.a.Component);He.displayName="ShareIssue";var Ve=He;function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Xe=function(e){p()(r,e);var t,n=(t=r,function(){var e,n=g()(t);if(Qe()){var r=g()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return b()(this,e)});function r(){var e;c()(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).renderDiscardDisabled=function(e){return(0,e.children)(Ye({},o()(e,["children"]),{renderDisabled:function(e){var t=e.features;return Object(Be.f)(ye.a,{alert:!0,featureName:"Discard and Delete",features:t})}}))},e.renderDiscardModal=function(t){var n=t.Body,r=t.closeModal;return Object(Be.f)(je.a,{features:["projects:discard-groups"],hookName:"feature-disabled:discard-groups",organization:e.props.organization,project:e.props.project,renderDisabled:e.renderDiscardDisabled},(function(t){var a=t.hasFeature,i=t.renderDisabled,s=o()(t,["hasFeature","renderDisabled"]);return Object(Be.f)(m.a.Fragment,null,Object(Be.f)(n,null,!a&&i(Ye({hasFeature:a},s)),Object(U.b)("Discarding this event will result in the deletion of most data associated with this issue and future events being discarded before reaching your stream. Are you sure you wish to continue?")),Object(Be.f)("div",{className:"modal-footer"},Object(Be.f)(ge.a,{onClick:r},Object(U.b)("Cancel")),Object(Be.f)(ge.a,{style:{marginLeft:Object(ue.a)(1)},priority:"primary",onClick:e.props.onDiscard,disabled:!a},Object(U.b)("Discard Future Events"))))}))},e.openDiscardModal=function(){Object(be.i)(e.renderDiscardModal),Object(j.a)("feature.discard_group.modal_opened",{org_id:parseInt(e.props.organization.id,10)})},e}return u()(r,[{key:"render",value:function(){return Object(Be.f)("div",{className:"btn-group"},Object(Be.f)(we.a,{className:"group-remove btn btn-default btn-sm",title:Object(U.b)("Delete"),message:Object(U.b)("Deleting this issue is permanent. Are you sure you wish to continue?"),onConfirm:this.props.onDelete},Object(Be.f)("span",{className:"icon-trash"})),Object(Be.f)(ve.a,{caret:!0,className:"group-delete btn btn-default btn-sm"},Object(Be.f)(Se.a,{onClick:this.openDiscardModal},Object(Be.f)("span",null,Object(U.b)("Delete and discard future events")))))}}]),r}(m.a.Component);Xe.displayName="DeleteActions";var Ze=pe()({displayName:"GroupDetailsActions",getInitialState:function(){return{ignoreModal:null,shareBusy:!1}},getShareUrl:function(e,t){if(!e)return"";var n="/share/issue/".concat(e,"/");if(!t)return n;var r=window.location,a=r.host,i=r.protocol;return"".concat(i,"//").concat(a).concat(n)},getDiscoverUrl:function(){var e=this.props,t=e.group,n=e.project,r=e.organization,a={id:void 0,name:t.title||t.type,fields:["title","release","environment","user","timestamp"],orderby:"-timestamp",query:"issue.id:".concat(t.id),projects:[n.id],version:2,range:"90d"};return me.a.fromSavedQuery(a).getResultsViewUrlTarget(r.slug)},onDelete:function(){var e=this.props,t=e.group,n=e.project,r=e.organization;Object(de.b)(Object(U.b)("Delete event..")),this.props.api.bulkDelete({orgId:r.slug,projectId:n.slug,itemIds:[t.id]},{complete:function(){Object(de.e)(),A.browserHistory.push("/".concat(r.slug,"/").concat(n.slug,"/"))}})},onUpdate:function(e){var t=this.props,n=t.group,r=t.project,a=t.organization;Object(de.b)(Object(U.b)("Saving changes..")),this.props.api.bulkUpdate({orgId:a.slug,projectId:r.slug,itemIds:[n.id],data:e},{complete:function(){Object(de.e)()}})},onShare:function(e){var t=this,n=this.props,r=n.group,a=n.project,i=n.organization;this.setState({shareBusy:!0}),this.props.api.bulkUpdate({orgId:i.slug,projectId:a.slug,itemIds:[r.id],data:{isPublic:e}},{error:function(){Object(de.a)(Object(U.b)("Error sharing"))},complete:function(){t.setState({shareBusy:!1})}})},onToggleShare:function(){this.onShare(!this.props.group.isPublic)},onToggleBookmark:function(){this.onUpdate({isBookmarked:!this.props.group.isBookmarked})},onDiscard:function(){var e=this.props,t=e.group,n=e.project,r=e.organization,a=Object(he.a)();Object(de.b)(Object(U.b)("Discarding event..")),Oe.a.discard(a,t.id),this.props.api.request("/issues/".concat(t.id,"/"),{method:"PUT",data:{discard:!0},success:function(e){Oe.a.discardSuccess(a,t.id,e),A.browserHistory.push("/".concat(r.slug,"/").concat(n.slug,"/"))},error:function(e){Oe.a.discardError(a,t.id,e)},complete:function(){Object(de.e)()}})},render:function(){var e=this,t=this.props,n=t.group,r=t.project,a=t.organization,i=new Set(a.features),o="group-bookmark ".concat("btn btn-default btn-sm");n.isBookmarked&&(o+=" active");var s=new Set(r.features).has("releases"),c="resolved"===n.status,l="ignored"===n.status;return Object(Be.f)("div",{className:"group-actions"},Object(Be.f)(ne.a,{target:"resolve",position:"bottom",offset:Object(ue.a)(3)},Object(Be.f)(De.a,{hasRelease:s,latestRelease:r.latestRelease,onUpdate:this.onUpdate,orgId:a.slug,projectId:r.slug,isResolved:c,isAutoResolved:c&&n.statusDetails.autoResolved})),Object(Be.f)(ne.a,{target:"ignore_delete_discard",position:"bottom",offset:Object(ue.a)(3)},Object(Be.f)(xe.a,{isIgnored:l,onUpdate:this.onUpdate})),Object(Be.f)("div",{className:"btn-group"},Object(Be.f)("div",{className:o,title:Object(U.b)("Bookmark"),onClick:this.onToggleBookmark},Object(Be.f)("span",{className:"icon-star-solid"}))),Object(Be.f)(Xe,{organization:a,project:r,onDelete:this.onDelete,onDiscard:this.onDiscard}),i.has("shared-issues")&&Object(Be.f)("div",{className:"btn-group"},Object(Be.f)(Ve,{shareUrl:this.getShareUrl(n.shareId,!0),isSharing:n.isPublic,group:n,onToggle:this.onToggleShare,onShare:function(){return e.onShare(!0)},busy:this.state.shareBusy})),i.has("discover-basic")&&Object(Be.f)("div",{className:"btn-group"},Object(Be.f)(ke.a,{className:"btn btn-default btn-sm",title:Object(U.b)("Open in Discover"),to:this.getDiscoverUrl()},Object(U.b)("Open in Discover"))))}}),$e=Object(W.a)(Object(O.a)(Ze));function Ke(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var et=function(e){p()(r,e);var t,n=(t=r,function(){var e,n=g()(t);if(Ke()){var r=g()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return b()(this,e)});function r(){var e;c()(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).state={memberList:null},e}return u()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.context.organization,n=this.props.group.project;Object(X.a)(this.props.api,t.slug,n.id).then((function(t){var n=t.map((function(e){return e.user}));e.setState({memberList:n})}))}},{key:"getMessage",value:function(){var e=this.props.group,t=e.metadata;switch(e.type){case"error":return t.value;case"csp":return t.message;default:return this.props.group.culprit||""}}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.group,r=this.context,a=r.organization,i=r.location,o=new Set(t?t.features:[]),s=new Set(a?a.features:[]),c=n.userCount,l="group-detail";n.isBookmarked&&(l+=" isBookmarked"),n.hasSeen&&(l+=" hasSeen"),"resolved"===n.status&&(l+=" isResolved");var u=this.state.memberList,f=n.id,p=a.slug,d=this.getMessage(),b=o.has("similarity-view"),h=s.has("event-attachments"),g="/organizations/".concat(p,"/issues/"),v=Q()(i.query,"query"),j={pathname:"".concat(g).concat(f,"/events/"),query:v};return Object(Be.f)("div",{className:l},Object(Be.f)("div",{className:"row"},Object(Be.f)("div",{className:"col-sm-7"},Object(Be.f)("h3",null,Object(Be.f)(te.a,{hasGuideAnchor:!0,data:n})),Object(Be.f)(ee.a,{message:d,level:n.level,annotations:Object(Be.f)(m.a.Fragment,null,n.logger&&Object(Be.f)(nt,null,Object(Be.f)(A.Link,{to:{pathname:g,query:{query:"logger:"+n.logger}}},n.logger)),n.annotations.map((function(e,t){return Object(Be.f)(nt,{key:t,dangerouslySetInnerHTML:{__html:e}})})))})),Object(Be.f)("div",{className:"col-sm-5 stats"},Object(Be.f)("div",{className:"flex flex-justify-right"},n.shortId&&Object(Be.f)(ne.a,{target:"issue_number",position:"bottom"},Object(Be.f)("div",{className:"short-id-box count align-right"},Object(Be.f)("h6",{className:"nav-header"},Object(Be.f)(ce.a,{title:Object(U.b)("This identifier is unique across your organization, and can be used to reference an issue in various places, like commit messages."),position:"bottom"},Object(Be.f)("a",{className:"help-link",href:"https://docs.sentry.io/learn/releases/#resolving-issues-via-commits"},Object(U.b)("Issue #")))),Object(Be.f)(se.a,{shortId:n.shortId,avatar:Object(Be.f)(tt,{project:t,avatarSize:20,hideName:!0})}))),Object(Be.f)("div",{className:"count align-right m-l-1"},Object(Be.f)("h6",{className:"nav-header"},Object(U.b)("Events")),Object(Be.f)(A.Link,{to:j},Object(Be.f)($.a,{className:"count",value:n.count}))),Object(Be.f)("div",{className:"count align-right m-l-1"},Object(Be.f)("h6",{className:"nav-header"},Object(U.b)("Users")),0!==c?Object(Be.f)(A.Link,{to:"".concat(g).concat(f,"/tags/user/").concat(i.search)},Object(Be.f)($.a,{className:"count",value:c})):Object(Be.f)("span",null,"0")),Object(Be.f)("div",{className:"assigned-to m-l-1"},Object(Be.f)("h6",{className:"nav-header"},Object(U.b)("Assignee")),Object(Be.f)(Z.a,{id:n.id,memberList:u}))))),Object(Be.f)(oe.a,{seenBy:n.seenBy,iconTooltip:Object(U.b)("People who have viewed this issue")}),Object(Be.f)($e,{group:n,project:t}),Object(Be.f)(ae.a,null,Object(Be.f)(re.a,{to:"".concat(g).concat(f,"/").concat(i.search),isActive:function(){var e="".concat(g).concat(f,"/"),t=i.pathname;return t===e||/events\/\w+\/$/.test(t)}},Object(U.b)("Details")),Object(Be.f)(re.a,{to:"".concat(g).concat(f,"/activity/").concat(i.search),isActive:function(){return i.pathname.includes("/activity/")}},Object(U.b)("Comments")," ",Object(Be.f)(le.a,{text:n.numComments})),Object(Be.f)(re.a,{to:"".concat(g).concat(f,"/feedback/").concat(i.search),isActive:function(){return i.pathname.includes("/feedback/")}},Object(U.b)("User Feedback")," ",Object(Be.f)(le.a,{text:n.userReportCount})),h&&Object(Be.f)(re.a,{to:"".concat(g).concat(f,"/attachments/").concat(i.search),isActive:function(){return i.pathname.includes("/attachments/")}},Object(U.b)("Attachments")),Object(Be.f)(re.a,{to:"".concat(g).concat(f,"/tags/").concat(i.search),isActive:function(){return i.pathname.includes("/tags/")}},Object(U.b)("Tags")),Object(Be.f)(re.a,{to:j,isActive:function(){return i.pathname.endsWith("/events/")}},Object(U.b)("Events")),Object(Be.f)(re.a,{to:"".concat(g).concat(f,"/merged/").concat(i.search),isActive:function(){return i.pathname.includes("/merged/")}},Object(U.b)("Merged")),b&&Object(Be.f)(re.a,{to:"".concat(g).concat(f,"/similar/").concat(i.search),isActive:function(){return i.pathname.includes("/similar/")}},Object(U.b)("Similar Issues"))))}}]),r}(m.a.Component);et.displayName="GroupHeader",et.contextTypes={location:P.a.object,organization:F.a.Organization};var tt=Object(J.a)(ie.a,{target:"e13kvrof0",label:"StyledProjectBadge"})({name:"6su6fj",styles:"flex-shrink:0;"}),nt=Object(J.a)(K.a,{target:"e13kvrof1",label:"EventAnnotationWithSpace"})("margin-left:",Object(ue.a)(1),";"),rt=Object(W.a)(et);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var st=function(e){p()(a,e);var t,n,r=(t=a,function(){var e,n=g()(t);if(ot()){var r=g()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return b()(this,e)});function a(){var e;c()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).state=e.initialState,e.remountComponent=function(){e.setState(e.initialState),e.fetchData()},e.listener=E.a.listen((function(t){return e.onGroupChange(t)})),e}return u()(a,[{key:"getChildContext",value:function(){return{group:this.state.group,location:this.props.location}}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e,t){t.loading&&!this.state.loading&&Object(T.a)(this.props.finishProfile),e.isGlobalSelectionReady!==this.props.isGlobalSelectionReady&&this.fetchData()}},{key:"componentWillUnmount",value:function(){Object(T.a)(this.listener)}},{key:"fetchData",value:(n=N()(k.a.mark((function e(){var t,n,r,a,i,o,s,c,l,u,f;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.environments,r=t.api,t.isGlobalSelectionReady){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,r.requestPromise(this.groupDetailsEndpoint,{query:it({},n?{environment:n}:{})});case 6:if(a=e.sent,this.props.params.groupId===a.id){e.next=11;break}return i=this.props,o=i.routes,s=i.params,c=i.location,A.browserHistory.push(Object(G.a)("",{routes:o,location:c,params:it({},s,{groupId:a.id})})),e.abrupt("return");case 11:(l=a.project)?(void 0===(u=it({},this.props.location)).query.project&&void 0===u.query._allp&&(u.query.project=l.id),delete u.query._allp,A.browserHistory.replace(u)):I.m((function(){I.c(new Error("Project not found"))})),this.setState({error:!1,loading:!1,errorType:null,project:l}),E.a.loadInitialData([a]),e.next=26;break;case 17:e.prev=17,e.t0=e.catch(3),f=null,e.t1=null===e.t0||void 0===e.t0?void 0:e.t0.status,e.next=404===e.t1?23:25;break;case 23:return f=V,e.abrupt("break",25);case 25:this.setState({loading:!1,error:!0,errorType:f});case 26:case"end":return e.stop()}}),e,this,[[3,17]])}))),function(){return n.apply(this,arguments)})},{key:"onGroupChange",value:function(e){var t=this.props.params.groupId;if(e.has(t)){var n=E.a.get(t);if(n){if(n.stale)return void this.fetchData();this.setState({group:n})}}}},{key:"getTitle",value:function(){var e=this.state.group;if(!e)return"Sentry";switch(e.type){case"error":return e.metadata.type&&e.metadata.value?"".concat(e.metadata.type,": ").concat(e.metadata.value):e.metadata.type||e.metadata.value||"Sentry";case"csp":return e.metadata.message||"Sentry";case"expectct":case"expectstaple":case"hpkp":return e.metadata.message||"Sentry";case"default":return e.metadata.title||"Sentry";default:return""}}},{key:"renderContent",value:function(e){var t=this.props,n=t.children,r=t.environments,a=this.state.group;return Object(Be.f)(m.a.Fragment,null,Object(Be.f)(rt,{project:e,group:a}),m.a.isValidElement(n)?m.a.cloneElement(n,{environments:r,group:a,project:e}):n)}},{key:"renderError",value:function(){if(!this.state.error)return null;switch(this.state.errorType){case V:return Object(Be.f)(B.a,{message:Object(U.b)("The issue you were looking for was not found.")});default:return Object(Be.f)(B.a,{onRetry:this.remountComponent})}}},{key:"render",value:function(){var e=this,t=this.props.organization,n=this.state,r=n.error,a=n.group,i=n.project,o=r,s=n.loading||!a&&!o;return Object(Be.f)(C.a,{title:this.getTitle()},Object(Be.f)(m.a.Fragment,null,Object(Be.f)(M.a,{skipLoadLastUsed:!0,forceProject:i,showDateSelector:!1,shouldForceProject:!0,lockedMessageSubject:Object(U.b)("issue"),showIssueStreamLink:!0,showProjectSettingsLink:!0},Object(Be.f)(L.b,null,s?Object(Be.f)(q.default,null):o?this.renderError():Object(Be.f)(_.a,{orgId:t.slug,slugs:[i.slug]},(function(t){var n=t.projects,r=t.initiallyLoaded,a=t.fetchError;return r?a?Object(Be.f)(B.a,{message:Object(U.b)("Error loading the specified project")}):e.renderContent(n[0]):Object(Be.f)(q.default,null)}))))))}},{key:"initialState",get:function(){return{group:null,loading:!0,error:!1,errorType:null,project:null}}},{key:"groupDetailsEndpoint",get:function(){return"/issues/".concat(this.props.params.groupId,"/")}}]),a}(m.a.Component);st.displayName="GroupDetails",st.childContextTypes={group:F.a.Group,location:P.a.object};var ct=Object(W.a)(Object(H.a)(st));function lt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ut=function(e){p()(r,e);var t,n=(t=r,function(){var e,n=g()(t);if(lt()){var r=g()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return b()(this,e)});function r(e){var t;return c()(this,r),(t=n.call(this,e)).startMetricCollection(),t}return u()(r,[{key:"componentDidMount",value:function(){Object(j.a)("issue_page.viewed",{group_id:parseInt(this.props.params.groupId,10),org_id:parseInt(this.props.organization.id,10)})}},{key:"startMetricCollection",value:function(){var e=Object(O.b)(this.props.organization)?"cold-start":"warm-start";j.c.mark({name:"page-issue-details-start",data:{start_type:e}})}},{key:"render",value:function(){var e=this.props,t=e.selection,n=o()(e,["selection"]);return Object(Be.f)(ct,a()({key:"".concat(this.props.params.groupId,"-envs:").concat(t.environments.join(",")),environments:t.environments},n))}}]),r}(m.a.Component);ut.displayName="OrganizationGroupDetails";t.default=Object(O.a)(Object(y.a)(ut))}}]);
//# sourceMappingURL=OrganizationGroupDetails.js.map