(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[104],{1639:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(8),i=n.n(r),a=n(9),o=n.n(a),c=n(11),s=n.n(c),u=n(12),l=n.n(u),f=n(6),d=n.n(f),p=n(283),b=n.n(p),y=(n(2),n(1640)),v=n(0);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var g=function(e){s()(r,e);var t,n=(t=r,function(){var e,n=d()(t);if(h()){var r=d()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l()(this,e)});function r(){return i()(this,r),n.apply(this,arguments)}return o()(r,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(v.f)(b.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),r}(y.a);g.displayName="AsyncView"},1641:function(e,t,n){"use strict";var r=n(15),i=n.n(r),a=n(8),o=n.n(a),c=n(9),s=n.n(c),u=n(11),l=n.n(u),f=n(12),d=n.n(f),p=n(6),b=n.n(p),y=n(4),v=n(2),h=n.n(v),g=n(10),O=n(224),j=n(0);function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var S=function(e){l()(r,e);var t,n=(t=r,function(){var e,n=b()(t);if(m()){var r=b()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return d()(this,e)});function r(){return o()(this,r),n.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.action,a=e.tabs,o=e.noTitleStyles,c=i()(e,["icon","title","action","tabs","noTitleStyles"]);return Object(j.f)("div",c,Object(j.f)(k,null,t&&Object(j.f)(P,null,t),n&&Object(j.f)(w,{tabs:a,styled:o},Object(j.f)(O.a,null,n)),r&&Object(j.f)(R,{tabs:a},r)),a&&Object(j.f)("div",null,a))}}]),r}(h.a.Component);S.displayName="SettingsPageHeading",S.defaultProps={noTitleStyles:!1};var k=Object(y.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),w=Object(y.a)("div",{target:"e1uay4fd1",label:"Title"})((function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),";margin:",(function(e){return e.tabs?"".concat(Object(g.a)(4)," 0 ").concat(Object(g.a)(2)):"".concat(Object(g.a)(4)," 0")}),";flex:1;"),P=Object(y.a)("div",{target:"e1uay4fd2",label:"Icon"})("margin-right:",Object(g.a)(1),";"),R=Object(y.a)("div",{target:"e1uay4fd3",label:"Action"})((function(e){return e.tabs?"margin-top: ".concat(Object(g.a)(2)):null}),";"),x=Object(y.a)(S,{target:"e1uay4fd4",label:"StyledSettingsPageHeading"})("font-size:14px;margin-top:-",Object(g.a)(4),";");t.a=x},1645:function(e,t,n){"use strict";t.a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="".concat(e," - ").concat(t);return n?"".concat(r," - Sentry"):r}},1926:function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(15),o=n.n(a),c=(n(2),n(3)),s=n(384),u=n(90),l=n(27),f=n(0),d=function(e){var t=e.access,n=void 0===t?["org:write"]:t,r=o()(e,["access"]);return Object(f.f)(s.a,{access:n},(function(e){return!e.hasAccess&&Object(f.f)(u.b,i()({type:"warning",icon:Object(f.f)(l.tb,{size:"sm"})},r),Object(c.b)("These settings can only be edited by users with the organization owner or manager role."))}))};d.displayName="PermissionAlert",t.a=d},2899:function(e,t,n){"use strict";n.r(t);var r=n(8),i=n.n(r),a=n(9),o=n.n(a),c=n(11),s=n.n(c),u=n(12),l=n.n(u),f=n(6),d=n.n(f),p=n(2),b=n.n(p),y=n(31),v=n(3),h=n(1639),g=n(166),O=n(1645),j=n(34),m=n(205),S=n(25),k=n(631),w=n(85),P=n(1926),R=n(1641),x=n(696),z=n(5),D=n.n(z),A=n(17),N=n.n(A),C=n(15),T=n.n(C),I=n(4),F=n(10),q=n(384),L=n(32),B=n(188),E=n(648),H=n(340),_=n(642),W=n(0);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var G=function(e){s()(r,e);var t,n=(t=r,function(){var e,n=d()(t);if(U()){var r=d()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l()(this,e)});function r(){var e;i()(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).handleConfigure=function(t){e.props.onConfigure(e.props.provider.key,t)},e.renderDisabledLock=function(e){return Object(W.f)($,{provider:e.provider,features:e.features})},e.renderInstallButton=function(t){var n=t.provider,r=t.hasFeature;return Object(W.f)(q.a,{access:["org:write"]},(function(t){var i=t.hasAccess;return Object(W.f)(L.a,{type:"submit",name:"provider",size:"small",value:n.key,disabled:!r||!i,onClick:e.handleConfigure},Object(v.b)("Configure"))}))},e}return o()(r,[{key:"render",value:function(){var e=this,t=this.props,n=t.provider,r=t.active,i=n.requiredFeature,a=i?{hookName:"feature-disabled:".concat(Object(S.d)(i))}:{};return Object(W.f)(B.a,D()({},a,{features:[i].filter((function(e){return e})),renderDisabled:function(t){return(0,t.children)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){N()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},T()(t,["children"]),{renderDisabled:e.renderDisabledLock}))}}),(function(t){var i=t.hasFeature,a=t.features,o=t.renderDisabled,c=t.renderInstallButton;return Object(W.f)(m.f,{alignItems:"center"},Object(W.f)(V,null,Object(W.f)(K,{className:"provider-logo ".concat(n.name.replace(/\s/g,"").toLowerCase())}),Object(W.f)("div",null,Object(W.f)(M,null,n.name),Object(W.f)(Q,null,Object(v.b)("Enable your organization to sign in with %s.",n.name)))),Object(W.f)(X,null,!i&&o({provider:n,features:a})),Object(W.f)("div",null,r?Object(W.f)(Y,null):(c||e.renderInstallButton)({provider:n,hasFeature:i})))}))}}]),r}(b.a.PureComponent);G.displayName="ProviderItem",G.defaultProps={onConfigure:function(){}};var V=Object(I.a)("div",{target:"ef88lyh0",label:"ProviderInfo"})("flex:1;display:grid;grid-template-columns:max-content 1fr;grid-gap:",Object(F.a)(2),";"),K=Object(I.a)("div",{target:"ef88lyh1",label:"ProviderLogo"})({name:"ipufnr",styles:"height:36px;width:36px;border-radius:3px;margin-right:0;top:auto;"}),M=Object(I.a)("div",{target:"ef88lyh2",label:"ProviderName"})({name:"in3yi3",styles:"font-weight:bold;"}),Q=Object(I.a)("div",{target:"ef88lyh3",label:"ProviderDescription"})({name:"9974hp",styles:"margin-top:6px;font-size:0.8em;"}),X=Object(I.a)("div",{target:"ef88lyh4",label:"FeatureBadge"})({name:"1rr4qq7",styles:"flex:1;"}),Y=Object(I.a)((function(e){return Object(W.f)("div",{className:e.className},Object(v.b)("Active"))}),{target:"ef88lyh5",label:"ActiveIndicator"})("background:",(function(e){return e.theme.green400}),";color:#fff;padding:8px 12px;border-radius:2px;font-size:0.8em;"),Z=Object(I.a)(H.b,{target:"ef88lyh6",label:"DisabledHovercard"})({name:"1ivgbss",styles:"width:350px;"}),$=function(e){var t=e.provider,n=e.features,r=e.className;return Object(W.f)(Z,{containerClassName:r,body:Object(W.f)(E.a,{features:n,hideHelpToggle:!0,message:Object(v.b)("%s SSO is disabled.",t.name),featureName:Object(v.b)("SSO Auth")})},Object(W.f)(_.a,{icon:"icon-lock"},"disabled"))};function ee(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}$.displayName="LockedFeature";var te={google:0,github:1,okta:2,"active-directory":3,saml2:4,onelogin:5,rippling:6,auth0:7},ne=function(e){s()(r,e);var t,n=(t=r,function(){var e,n=d()(t);if(ee()){var r=d()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l()(this,e)});function r(){return i()(this,r),n.apply(this,arguments)}return o()(r,[{key:"render",value:function(){var e=this.props.activeProvider,t=this.context.organization,n=t.features,r=(this.props.providerList||[]).sort((function(e,t){return e.key in te?t.key in te?te[e.key]===te[t.key]?0:te[e.key]>te[t.key]?1:-1:1:-1})).sort((function(e,t){var r=n.includes(Object(S.d)(e.requiredFeature));return r===n.includes(Object(S.d)(t.requiredFeature))?0:r?-1:1})),i=t.require2FA&&r.some((function(e){var t=e.requiredFeature;return n.includes(Object(S.d)(t))}));return Object(W.f)("div",{className:"sso"},Object(W.f)(R.a,{title:"Authentication"}),Object(W.f)(P.a,null),Object(W.f)(m.a,null,Object(W.f)(m.e,null,Object(v.b)("Choose a provider")),Object(W.f)(m.c,null,!e&&Object(W.f)(m.b,{type:"info"},Object(v.c)("Get started with Single Sign-on for your organization by selecting a provider. Read more in our [link:SSO documentation].",{link:Object(W.f)(w.a,{href:"https://docs.sentry.io/learn/sso/"})})),i&&Object(W.f)(m.b,{m:0,mb:0,type:"warning"},Object(v.b)("Require 2FA will be disabled if you enable SSO.")),Object(W.f)("form",{action:"/organizations/".concat(t.slug,"/auth/configure/"),method:"POST"},Object(W.f)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:Object(x.a)(j.i)||""}),Object(W.f)("input",{type:"hidden",name:"init",value:"1"}),r.map((function(t){return Object(W.f)(G,{key:t.key,provider:t,active:e&&t.key===e.key})})),0===r.length&&Object(W.f)(k.a,null,Object(v.b)("No authentication providers are available."))))))}}]),r}(b.a.Component);ne.displayName="OrganizationAuthList",ne.contextTypes={organization:g.a.Organization};var re=ne;function ie(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ae=function(e){s()(r,e);var t,n=(t=r,function(){var e,n=d()(t);if(ie()){var r=d()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l()(this,e)});function r(){var e;i()(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).handleSendReminders=function(t){e.setState({sendRemindersBusy:!0}),e.api.request("/organizations/".concat(e.props.params.orgId,"/auth-provider/send-reminders/"),{method:"POST",data:{},success:function(){return Object(y.d)(Object(v.b)("Sent reminders to members"))},error:function(){return Object(y.a)(Object(v.b)("Failed to send reminders"))},complete:function(){return e.setState({sendRemindersBusy:!1})}})},e.handleConfigure=function(t){e.setState({busy:!0}),e.api.request("/organizations/".concat(e.props.params.orgId,"/auth-provider/"),{method:"POST",data:{provider:t,init:!0},success:function(e){e&&e.auth_url&&(window.location.href=e.auth_url)},error:function(){e.setState({busy:!1})}})},e.handleDisableProvider=function(t){e.setState({disableBusy:!0}),e.api.request("/organizations/".concat(e.props.params.orgId,"/auth-provider/"),{method:"DELETE",data:{provider:t},success:function(){e.setState({provider:null,disableBusy:!1})},error:function(){e.setState({disableBusy:!1})}})},e}return o()(r,[{key:"UNSAFE_componentWillUpdate",value:function(e,t){var n=this.context.organization.access;t.provider&&n.includes("org:write")&&window.location.assign("/organizations/".concat(this.props.params.orgId,"/auth/configure/"))}},{key:"getEndpoints",value:function(){return[["providerList","/organizations/".concat(this.props.params.orgId,"/auth-providers/")],["provider","/organizations/".concat(this.props.params.orgId,"/auth-provider/")]]}},{key:"getTitle",value:function(){return Object(O.a)(Object(v.b)("Auth Settings"),this.context.organization.slug,!1)}},{key:"renderBody",value:function(){var e=this.state,t=e.providerList,n=e.provider;if(this.context.organization.access.includes("org:write")&&n)return this.renderLoading();var r=t.find((function(e){return n&&e.key===n.provider_name}));return Object(W.f)(re,{activeProvider:r,providerList:t,onConfigure:this.handleConfigure})}}]),r}(h.a);ae.contextTypes={organization:g.a.Organization};t.default=ae}}]);
//# sourceMappingURL=OrganizationAuth.js.map