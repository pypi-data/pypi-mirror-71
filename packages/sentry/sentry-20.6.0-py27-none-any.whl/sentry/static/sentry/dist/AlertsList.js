(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[58],{1672:function(t,e,n){"use strict";var r=n(4),a=(n(2),n(10)),i=n(0),c=Object(r.a)((function(t){var e=t.className,n=t.children,r=t.error;return Object(i.f)("div",{"data-test-id":"loading-placeholder",className:e},r||n)}),{target:"e1xygdhp0",label:"Placeholder"})("display:flex;flex-direction:column;flex-shrink:0;justify-content:center;background-color:",(function(t){return t.error?t.theme.red100:t.theme.placeholderBackground}),";",(function(t){return t.error&&"color: ".concat(t.theme.red300,";")})," width:",(function(t){return t.width}),";height:",(function(t){return t.height}),";",(function(t){return"circle"===t.shape?"border-radius: 100%;":""})," ",(function(t){return"number"==typeof t.bottomGutter&&t.bottomGutter>0?"margin-bottom: ".concat(Object(a.a)(t.bottomGutter),";"):""}));c.defaultProps={shape:"rect",bottomGutter:0,width:"100%",height:"60px"},e.a=c},1732:function(t,e,n){"use strict";var r,a,i,c,o,u;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"f",(function(){return c})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return u})),function(t){t[t.INCIDENT=0]="INCIDENT",t[t.RESOLUTION=1]="RESOLUTION"}(r||(r={})),function(t){t[t.ABOVE=0]="ABOVE",t[t.BELOW=1]="BELOW"}(a||(a={})),function(t){t.ERRORS="events",t.TRANSACTIONS="transactions"}(i||(i={})),function(t){t[t.ONE_MINUTE=1]="ONE_MINUTE",t[t.FIVE_MINUTES=5]="FIVE_MINUTES",t[t.TEN_MINUTES=10]="TEN_MINUTES",t[t.FIFTEEN_MINUTES=15]="FIFTEEN_MINUTES",t[t.THIRTY_MINUTES=30]="THIRTY_MINUTES",t[t.ONE_HOUR=60]="ONE_HOUR",t[t.TWO_HOURS=120]="TWO_HOURS",t[t.FOUR_HOURS=240]="FOUR_HOURS",t[t.ONE_DAY=1440]="ONE_DAY"}(c||(c={})),function(t){t.EMAIL="email",t.SLACK="slack",t.PAGER_DUTY="pagerduty"}(o||(o={})),function(t){t.SPECIFIC="specific",t.USER="user",t.TEAM="team"}(u||(u={}))},1751:function(t,e,n){"use strict";function r(t){var e=t.orgSlug,n=t.transaction,r=t.projectID,a=t.query;return{pathname:function(t){var e=t.orgSlug;return"/organizations/".concat(e,"/performance/summary/")}({orgSlug:e}),query:{transaction:n,project:r,environment:a.environment,statsPeriod:a.statsPeriod,start:a.start,end:a.end,query:a.query}}}n.d(e,"a",(function(){return r}))},1767:function(t,e,n){"use strict";var r,a,i,c,o;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return o})),function(t){t[t.DETECTED=0]="DETECTED",t[t.CREATED=1]="CREATED",t[t.TRIGGERED=2]="TRIGGERED"}(r||(r={})),function(t){t[t.CREATED=0]="CREATED",t[t.DETECTED=1]="DETECTED",t[t.STATUS_CHANGE=2]="STATUS_CHANGE",t[t.COMMENT=3]="COMMENT"}(a||(a={})),function(t){t[t.OPENED=1]="OPENED",t[t.CLOSED=2]="CLOSED",t[t.WARNING=10]="WARNING",t[t.CRITICAL=20]="CRITICAL"}(i||(i={})),function(t){t[t.MANUAL=1]="MANUAL",t[t.RULE_UPDATED=2]="RULE_UPDATED",t[t.RULE_TRIGGERED=3]="RULE_TRIGGERED"}(c||(c={})),function(t){t[t.PENDING=0]="PENDING",t[t.SNAPSHOT=4]="SNAPSHOT"}(o||(o={}))},1807:function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return j})),n.d(e,"h",(function(){return g})),n.d(e,"g",(function(){return v})),n.d(e,"f",(function(){return h})),n.d(e,"d",(function(){return y})),n.d(e,"e",(function(){return m})),n.d(e,"c",(function(){return S}));var r=n(15),a=n.n(r),i=n(17),c=n.n(i),o=n(113),u=n(55),s=n(1668),l=n(1732),d=n(1851),f=n(1767);function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return t.requestPromise("/organizations/".concat(e,"/incidents/").concat(n,"/"))}function j(t,e,n){return t.requestPromise("/organizations/".concat(e,"/incidents/").concat(n,"/stats/"))}function g(t,e,n,r){var a=r?"POST":"DELETE";return t.requestPromise("/organizations/".concat(e,"/incidents/").concat(n,"/subscriptions/"),{method:a})}function v(t,e,n,r){return t.requestPromise("/organizations/".concat(e,"/incidents/").concat(n,"/"),{method:"PUT",data:{status:r}})}function h(t){switch(t.status){case f.c.CLOSED:return!1;default:return!0}}function y(t){var e,n,r=null==t?void 0:t.alertRule,a=null!==(e=null==r?void 0:r.aggregate)&&void 0!==e?e:"",i=null!==(n=null==r?void 0:r.dataset)&&void 0!==n?n:l.d.ERRORS;return d.a.find((function(t){return t.validDataset.includes(i)&&t.match.test(a)}))}function m(t){return{start:Object(u.j)(1e3*t.eventStats.data[0][0]),end:Object(u.j)(1e3*t.eventStats.data[t.eventStats.data.length-1][0])}}function S(t){var e,n=t.orgSlug,r=t.projects,i=t.incident,c=t.stats,u=t.extraQueryParams;if(!(r&&r.length&&i&&c))return"";var d="".concat(i.alertRule.timeWindow,"m"),f=m(c),b=f.start,O=f.end,j=p({id:void 0,name:i&&i.title||"",orderby:"-".concat(Object(o.h)(i.alertRule.aggregate)),yAxis:i.alertRule.aggregate,query:null!==(e=null==i?void 0:i.discoverQuery)&&void 0!==e?e:"",projects:r.filter((function(t){var e=t.slug;return i.projects.includes(e)})).map((function(t){var e=t.id;return Number(e)})),version:2,fields:i.alertRule.dataset===l.d.ERRORS?["issue","count()","count_unique(user)"]:["transaction",i.alertRule.aggregate],start:b,end:O},u),g=s.a.fromSavedQuery(j).getResultsViewUrlTarget(n),v=g.query,h=a()(g,["query"]);return p({query:p({},v,{interval:d})},h)}},1851:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return j}));var r=n(29),a=n.n(r),i=n(17),c=n.n(i),o=n(3),u=n(341),s=n(1751),l=n(1807),d=n(1732);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p=[{name:Object(o.b)("Error count"),match:/^count\(\)/,validDataset:[d.d.ERRORS],default:"count()",makeCtaParams:j},{name:Object(o.b)("Users affected"),match:/^count_unique\(tags\[sentry:user\]\)/,validDataset:[d.d.ERRORS],default:"count_unique(tags[sentry:user])",makeCtaParams:j},{name:Object(o.b)("Latency"),match:/^(p[0-9]{2,3}|percentile\(transaction\.duration,[^)]+\)|avg\([^)]+\))/,validDataset:[d.d.TRANSACTIONS],default:"percentile(transaction.duration, 0.95)",makeCtaParams:function(t){return O({opts:t,tooltip:Object(o.b)("Latency by Transaction")})}},{name:Object(o.b)("Apdex"),match:/^apdex\([0-9.]+\)/,validDataset:[d.d.TRANSACTIONS],default:"apdex(300)",makeCtaParams:function(t){return O({opts:t,tooltip:Object(o.b)("Apdex by Transaction")})}},{name:Object(o.b)("Transaction Count"),match:/^count\(\)/,validDataset:[d.d.TRANSACTIONS],default:"count()",makeCtaParams:function(t){return O({opts:t})}},{name:Object(o.b)("Failure rate"),match:/^failure_rate\(\)/,validDataset:[d.d.TRANSACTIONS],default:"failure_rate()",makeCtaParams:function(t){var e,n,r=t.orgSlug,a=t.incident,i=t.projects,c=t.stats;if(!a||!c)return{to:"",buttonText:Object(o.b)("Incident details")};var s=Object(u.b)(null!==(e=a.discoverQuery)&&void 0!==e?e:""),d=null===(n=s.transaction)||void 0===n?void 0:n.find((function(t){return!t.includes("*")})),f=void 0!==d?{fields:["transaction.status","count()"],orderby:"-count",display:"top5"}:{fields:["transaction","failure_rate()"],orderby:"-failure_rate",display:"top5"};return{to:Object(l.c)({orgSlug:r,projects:i,incident:a,stats:c,extraQueryParams:f}),buttonText:Object(o.b)("Open in Discover"),title:void 0===d?Object(o.b)("Failure rate by transaction"):void 0}}}];function O(t){var e,n,r=t.opts,i=r.orgSlug,c=r.projects,d=r.incident,f=r.stats,p=t.tooltip;if(!d||!f)return{to:"",buttonText:Object(o.b)("Incident details")};var O=null===(n=Object(u.b)(null!==(e=d.discoverQuery)&&void 0!==e?e:"").transaction)||void 0===n?void 0:n.find((function(t){return!t.includes("*")}));if(void 0!==O){var j=Object(l.e)(f);return{to:Object(s.a)({orgSlug:i,transaction:O,query:b({},j)}),buttonText:Object(o.b)("View Transaction Summary"),title:O}}var g={fields:a()(new Set(["transaction","count()",d.alertRule.aggregate])),orderby:"-count",display:"top5"};return{to:Object(l.c)({orgSlug:i,projects:c,incident:d,stats:f,extraQueryParams:g}),buttonText:Object(o.b)("Open in Discover"),title:p}}function j(t){var e=t.orgSlug,n=t.projects,r=t.incident,a=t.stats;return{buttonText:Object(o.b)("Open in Discover"),to:Object(l.c)({orgSlug:e,projects:n,incident:r,stats:a})}}},2878:function(t,e,n){"use strict";n.r(e);var r=n(20),a=n.n(r),i=n(28),c=n.n(i),o=n(17),u=n.n(o),s=n(8),l=n.n(s),d=n(9),f=n.n(d),b=n(11),p=n.n(b),O=n(12),j=n.n(O),g=n(6),v=n.n(g),h=n(4),y=n(283),m=n.n(y),S=n(2),E=n.n(S),R=n(882),T=n.n(R),A=n(186),D=n.n(A),k=n(27),P=n(224),I=n(205),N=n(465),w=n(3),C=n(33),L=n(90),x=n(1640),_=n(395),U=n(32),q=n(190),z=n(286),G=n(85),M=n(50),F=n(388),H=n(632),W=n(290),B=n(10),V=n(81),Q=n(384),Y=n(36),K=n(643),J=Object(h.a)("div",{target:"e1k7qk1w0",label:"TableLayout"})("display:grid;grid-template-columns:",(function(t){return"open"===t.status?"4fr 1fr 2fr":"3fr 2fr 2fr 1fr 2fr"}),";grid-column-gap:",Object(B.a)(1.5),";width:100%;align-items:center;"),X=Object(h.a)("div",{target:"e1k7qk1w1",label:"TitleAndSparkLine"})("display:",(function(t){return"open"===t.status?"grid":"flex"}),";grid-gap:",Object(B.a)(1),";grid-template-columns:auto 120px;align-items:center;padding-right:",Object(B.a)(2),";overflow:hidden;"),Z=n(498),$=n.n(Z),tt=n(47),et=n.n(tt),nt=n(1649),rt=n(655),at=n(285),it=n(288),ct=n(104),ot=n(26),ut=n(250),st=n(38),lt=n(336),dt=n(86),ft=n(1767),bt=n(1807),pt=n(43),Ot=n.n(pt),jt=n(1672),gt=n(0);function vt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ht=E.a.lazy((function(){return Promise.all([n.e(15),n.e(192)]).then(n.bind(null,2849))})),yt=E.a.lazy((function(){return Promise.all([n.e(15),n.e(193)]).then(n.bind(null,2850))})),mt=function(t){p()(r,t);var e,n=(e=r,function(){var t,n=v()(e);if(vt()){var r=v()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return j()(this,t)});function r(){return l()(this,r),n.apply(this,arguments)}return f()(r,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.error,r=t.eventStats;if(n)return Object(gt.f)(Rt,{error:n});if(!r)return Object(gt.f)(Et,null);var a=r.data.map((function(t){var e=Ot()(t,2)[1];return e&&Array.isArray(e)&&e.length&&e[0].count||0}));return Object(gt.f)(E.a.Suspense,{fallback:Object(gt.f)(Et,null)},Object(gt.f)("div",{"data-test-id":"incident-sparkline",className:e},Object(gt.f)(ht,{data:a,width:100,height:32},Object(gt.f)(yt,{style:{stroke:ot.a.gray500,fill:"none",strokeWidth:2}}))))}}]),r}(E.a.Component);mt.displayName="SparkLine";var St=Object(h.a)(mt,{target:"e1ut8dj0",label:"StyledSparkLine"})("flex-shrink:0;width:100%;height:",38,"px;"),Et=Object(h.a)(jt.a,{target:"e1ut8dj1",label:"SparkLinePlaceholder"})("height:",38,"px;"),Rt=Object(h.a)(Et,{target:"e1ut8dj2",label:"SparklineError"})({name:"mp4ek8",styles:"align-items:center;line-height:1;"}),Tt=St;function At(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Dt=function(t){p()(r,t);var e,n=(e=r,function(){var t,n=v()(e);if(At()){var r=v()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return j()(this,t)});function r(){var t;l()(this,r);for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))).getProject=$()((function(t,e){return e.find((function(e){return e.slug===t}))})),t}return f()(r,[{key:"getEndpoints",value:function(){var t=this.props,e=t.orgId,n=t.incident;return"open"===t.filteredStatus?[["stats","/organizations/".concat(e,"/incidents/").concat(n.identifier,"/stats/")]]:[]}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderError",value:function(){return this.renderBody()}},{key:"renderTimeSince",value:function(t){return Object(gt.f)(Pt,null,Object(gt.f)(ut.a,{date:t}),Object(gt.f)("br",null),Object(gt.f)(It,{date:t,utc:!1}))}},{key:"renderStatusIndicator",value:function(){var t=this.props.incident.status,e=t===ft.c.CLOSED,n=t===ft.c.WARNING,r=e?ot.a.gray400:n?ot.a.orange300:ot.a.red300,a=e?Object(w.b)("Resolved"):n?Object(w.b)("Warning"):Object(w.b)("Critical");return Object(gt.f)(st.a,{title:Object(w.c)("Status: [text]",{text:a})},Object(gt.f)(wt,{color:r}))}},{key:"renderBody",value:function(){var t=this.props,e=t.incident,n=t.orgId,r=t.projectsLoaded,a=t.projects,i=t.filteredStatus,c=this.state,o=c.error,u=c.stats,s=et()(e.dateStarted),l=et.a.duration(et()(e.dateClosed||new Date).diff(s)).as("seconds"),d=e.projects[0];return Object(gt.f)(at.a,null,Object(gt.f)(xt,null,Object(gt.f)(J,{status:i},Object(gt.f)(X,{status:i},Object(gt.f)(Ct,null,this.renderStatusIndicator(),Object(gt.f)(Lt,{to:"/organizations/".concat(n,"/alerts/").concat(e.identifier,"/")},"#",e.id),e.title),"open"===i&&Object(gt.f)(Tt,{error:o&&Object(gt.f)(kt,null),eventStats:null==u?void 0:u.eventStats})),Object(gt.f)(Nt,{avatarSize:18,project:r?this.getProject(d,a):{slug:d}}),this.renderTimeSince(e.dateStarted),"closed"===i&&Object(gt.f)(rt.a,{seconds:Object(lt.a)({value:l,fixed:1200})}),"closed"===i&&e.dateClosed&&this.renderTimeSince(e.dateClosed))))}},{key:"metricPreset",get:function(){var t=this.props.incident;return t?Object(bt.d)(t):void 0}}]),r}(x.a);function kt(){return Object(gt.f)(st.a,{title:Object(w.b)("Error loading alert stats")},Object(gt.f)(k.tb,null))}kt.displayName="ErrorLoadingStatsIcon";var Pt=Object(h.a)("div",{target:"e12tl7g20",label:"CreatedResolvedTime"})(dt.a," line-height:1.4;"),It=Object(h.a)(nt.a,{target:"e12tl7g21",label:"StyledDateTime"})("font-size:",(function(t){return t.theme.fontSizeSmall}),";color:",(function(t){return t.theme.gray500}),";"),Nt=Object(h.a)(it.a,{target:"e12tl7g22",label:"ProjectBadge"})({name:"6su6fj",styles:"flex-shrink:0;"}),wt=Object(h.a)("div",{target:"e12tl7g23",label:"StatusIndicator"})("width:10px;height:12px;background:",(function(t){return t.color}),";display:inline-block;border-top-right-radius:40%;border-bottom-right-radius:40%;margin-bottom:-1px;"),Ct=Object(h.a)("span",{target:"e12tl7g24",label:"Title"})(dt.a),Lt=Object(h.a)(ct.a,{target:"e12tl7g25",label:"IncidentLink"})("padding:0 ",Object(B.a)(1),";"),xt=Object(h.a)(I.f,{target:"e12tl7g26",label:"IncidentPanelItem"})("font-size:",(function(t){return t.theme.fontSizeMedium}),";padding:",Object(B.a)(1.5)," ",Object(B.a)(2)," ",Object(B.a)(1.5)," 0;"),_t=Dt;function Ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zt(t){return function(){var e,n=v()(t);if(Gt()){var r=v()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return j()(this,e)}}function Gt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Mt(t){return["open","closed"].includes(t)?t:"open"}var Ft=function(t){p()(r,t);var e,n=zt(r);function r(){var t;l()(this,r);for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))).handleAddAlertRule=function(e){var n=t.props,r=n.router,a=n.params;e.preventDefault(),Object(N.a)("/settings/".concat(a.orgId,"/projects/:projectId/alerts/new/"),r)},t}return f()(r,[{key:"getEndpoints",value:function(){var t=this.props,e=t.params,n=t.location.query,r=Mt(n.status);return[["incidentList","/organizations/".concat(e&&e.orgId,"/incidents/"),{query:qt({},n,{status:r})}]]}},{key:"onLoadAllEndpointsSuccess",value:(e=c()(a.a.mark((function t(){var e,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this.state.incidentList.length){t.next=3;break}return t.abrupt("return");case 3:return e=this.props.params,t.prev=4,t.next=7,this.api.requestPromise("/organizations/".concat(e&&e.orgId,"/alert-rules/"),{method:"GET"});case 7:n=t.sent,this.setState({hasAlertRule:n.length>0}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),this.setState({hasAlertRule:!0});case 14:case"end":return t.stop()}}),t,this,[[4,11]])}))),function(){return e.apply(this,arguments)})},{key:"renderEmpty",value:function(){var t=Mt(this.props.location.query.status),e=!!this.state.hasAlertRule&&this.state.hasAlertRule;return Object(gt.f)(z.a,null,Object(gt.f)("p",null,Object(gt.f)(E.a.Fragment,null,Object(w.c)("No [status] metric alerts. ",{status:"open"===t?"active":"resolved"})),Object(gt.f)(E.a.Fragment,null,e?"":Object(w.c)("Start by [link:creating your first rule].",{link:Object(gt.f)(G.a,{onClick:this.handleAddAlertRule})}))))}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderBody",value:function(){var t=this.state,e=t.loading,n=t.incidentList,r=t.incidentListPageLinks,a=t.hasAlertRule,i=this.props.params.orgId,c=new Set(T()(null==n?void 0:n.map((function(t){return t.projects})))),o=!(!n||0!==n.length||void 0!==a),u=e||o,s=Mt(this.props.location.query.status);return Object(gt.f)(E.a.Fragment,null,Object(gt.f)(I.a,null,Object(gt.f)(Vt,null,Object(gt.f)(J,{status:s},Object(gt.f)(Bt,{status:s},Object(gt.f)("div",null,Object(w.b)("Alert")),"open"===s&&Object(gt.f)("div",null,Object(w.b)("Graph"))),Object(gt.f)("div",null,Object(w.b)("Project")),Object(gt.f)("div",null,Object(w.b)("Triggered")),"closed"===s&&Object(gt.f)("div",null,Object(w.b)("Duration")),"closed"===s&&Object(gt.f)("div",null,Object(w.b)("Resolved")))),Object(gt.f)(I.c,null,u&&Object(gt.f)(M.default,null),!u&&Object(gt.f)(E.a.Fragment,null,0===n.length&&this.renderEmpty(),Object(gt.f)(W.a,{orgId:i,slugs:Array.from(c)},(function(t){var e=t.initiallyLoaded,r=t.projects;return n.map((function(t){return Object(gt.f)(_t,{key:t.id,projectsLoaded:e,projects:r,incident:t,orgId:i,filteredStatus:s})}))}))))),Object(gt.f)(H.a,{pageLinks:r}))}}]),r}(x.a),Ht=function(t){p()(n,t);var e=zt(n);function n(){var t;l()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).handleAddAlertRule=function(e){var n=t.props,r=n.router,a=n.params;e.preventDefault(),Object(N.a)("/settings/".concat(a.orgId,"/projects/:projectId/alerts/new/"),r)},t.handleNavigateToSettings=function(e){var n=t.props,r=n.router,a=n.params;e.preventDefault(),Object(N.a)("/settings/".concat(a.orgId,"/projects/:projectId/alerts/"),r)},t}return f()(n,[{key:"componentDidMount",value:function(){this.trackView()}},{key:"componentDidUpdate",value:function(t){var e,n;(null===(e=t.location.query)||void 0===e?void 0:e.status)!==(null===(n=this.props.location.query)||void 0===n?void 0:n.status)&&this.trackView()}},{key:"trackView",value:function(){var t=this.props,e=t.location,n=t.organization,r=Mt(e.query.status);Object(C.e)({eventKey:"alert_stream.viewed",eventName:"Alert Stream: Viewed",organization_id:n.id,status:r})}},{key:"render",value:function(){var t=this,e=this.props,n=e.params,r=e.location,a=e.organization,i=r.pathname,c=r.query,o=n.orgId,u=D()(qt({},c,{status:"open"}),"cursor"),s=D()(qt({},c,{status:"closed"}),"cursor"),l=Mt(c.status);return Object(gt.f)(m.a,{title:"Alerts- ".concat(o," - Sentry")},Object(gt.f)(K.a,{organization:a,showDateSelector:!1},Object(gt.f)(P.b,null,Object(gt.f)(P.c,null,Object(gt.f)(Wt,null,Object(w.b)("Alerts")," ",Object(gt.f)(_.a,{type:"beta"})),Object(gt.f)(Qt,null,Object(gt.f)(Q.a,{organization:a,access:["project:write"]},(function(e){var n=e.hasAccess;return Object(gt.f)(U.a,{disabled:!n,title:n?void 0:Object(w.b)("Users with admin permission or higher can create alert rules."),onClick:t.handleAddAlertRule,priority:"primary",href:"#",size:"small",icon:Object(gt.f)(k.b,{isCircled:!0,size:"xs"})},Object(w.b)("Add Alert Rule"))})),Object(gt.f)(U.a,{onClick:this.handleNavigateToSettings,href:"#",size:"small",icon:Object(gt.f)(k.eb,{size:"xs"})},Object(w.b)("View Rules")),Object(gt.f)(q.a,{merged:!0,active:l},Object(gt.f)(U.a,{to:{pathname:i,query:u},barId:"open",size:"small"},Object(w.b)("Active")),Object(gt.f)(U.a,{to:{pathname:i,query:s},barId:"closed",size:"small"},Object(w.b)("Resolved"))))),Object(gt.f)(L.b,{type:"info",icon:"icon-circle-info"},Object(w.c)("This page is in beta and currently only shows [link:metric alerts]. ",{link:Object(gt.f)(G.a,{onClick:function(){return t=a,Object(C.e)({eventKey:"alert_stream.documentation_clicked",eventName:"Alert Stream: Documentation Clicked",organization_id:t.id,user_id:Y.default.get("user").id});var t},href:"https://docs.sentry.io/workflow/alerts-notifications/alerts/"})}),Object(gt.f)(G.a,{href:"mailto:alerting-feedback@sentry.io"},Object(w.b)("Please contact us if you have any feedback."))),Object(gt.f)(Ft,this.props))))}}]),n}(E.a.Component);Ht.displayName="IncidentsListContainer";var Wt=Object(h.a)(F.a,{target:"ebw9n8a0",label:"StyledPageHeading"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),Bt=Object(h.a)(X,{target:"ebw9n8a1",label:"PaddedTitleAndSparkLine"})("padding-left:",Object(B.a)(2),";"),Vt=Object(h.a)(I.e,{target:"ebw9n8a2",label:"StyledPanelHeader"})("padding:",Object(B.a)(1.5)," ",Object(B.a)(2)," ",Object(B.a)(1.5)," 0;"),Qt=Object(h.a)("div",{target:"ebw9n8a3",label:"Actions"})("display:grid;align-items:center;grid-gap:",Object(B.a)(1),";grid-auto-flow:column;");e.default=Object(V.a)(Ht)}}]);
//# sourceMappingURL=AlertsList.js.map