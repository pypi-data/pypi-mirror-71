(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[79],{1639:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(8),a=r.n(n),o=r(9),i=r.n(o),s=r(11),c=r.n(s),u=r(12),l=r.n(u),p=r(6),f=r.n(p),d=r(283),v=r.n(d),h=(r(2),r(1640)),g=r(0);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(e){c()(n,e);var t,r=(t=n,function(){var e,r=f()(t);if(y()){var n=f()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return l()(this,e)});function n(){return a()(this,n),r.apply(this,arguments)}return i()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(g.f)(v.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(h.a);b.displayName="AsyncView"},1649:function(e,t,r){"use strict";var n=r(15),a=r.n(n),o=r(8),i=r.n(o),s=r(9),c=r.n(s),u=r(11),l=r.n(u),p=r(12),f=r.n(p),d=r(6),v=r.n(d),h=r(2),g=r.n(h),y=r(118),b=r.n(y),m=r(36),j=r(0);function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var D=function(e){l()(n,e);var t,r=(t=n,function(){var e,r=v()(t);if(O()){var n=v()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return f()(this,e)});function n(){var e;i()(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).getFormat=function(t){var r=t.clock24Hours,n=e.props,a=n.dateOnly,o=n.timeOnly,i=n.seconds,s=n.shortDate;return a?"LL":o?"LT":s?"MM/DD/YYYY":r?"MMMM D YYYY HH:mm:ss z":i?"ll LTS z":"lll"},e}return c()(n,[{key:"render",value:function(){var e,t=this.props,r=t.date,n=t.utc,o=(t.seconds,t.shortDate,t.dateOnly,t.timeOnly,a()(t,["date","utc","seconds","shortDate","dateOnly","timeOnly"])),i=m.default.get("user"),s=null==i?void 0:i.options,c=this.getFormat(s);return Object(j.f)("time",o,n?b.a.utc(r).format(c):b.a.tz(r,null!==(e=null==s?void 0:s.timezone)&&void 0!==e?e:"").format(c))}}]),n}(g.a.Component);D.displayName="DateTime",D.defaultProps={seconds:!0},t.a=D},1672:function(e,t,r){"use strict";var n=r(4),a=(r(2),r(10)),o=r(0),i=Object(n.a)((function(e){var t=e.className,r=e.children,n=e.error;return Object(o.f)("div",{"data-test-id":"loading-placeholder",className:t},n||r)}),{target:"e1xygdhp0",label:"Placeholder"})("display:flex;flex-direction:column;flex-shrink:0;justify-content:center;background-color:",(function(e){return e.error?e.theme.red100:e.theme.placeholderBackground}),";",(function(e){return e.error&&"color: ".concat(e.theme.red300,";")})," width:",(function(e){return e.width}),";height:",(function(e){return e.height}),";",(function(e){return"circle"===e.shape?"border-radius: 100%;":""})," ",(function(e){return"number"==typeof e.bottomGutter&&e.bottomGutter>0?"margin-bottom: ".concat(Object(a.a)(e.bottomGutter),";"):""}));i.defaultProps={shape:"rect",bottomGutter:0,width:"100%",height:"60px"},t.a=i},1733:function(e,t,r){"use strict";var n=r(15),a=r.n(n),o=r(4),i=(r(2),r(1744)),s=r(0),c=Object(o.a)((function(e){e.height;var t=a()(e,["height"]);return Object(s.f)("div",t,Object(s.f)(i.a,null))}),{target:"e1ply9d40",label:"LoadingPanel"})("flex:1;flex-shrink:0;overflow:hidden;height:",(function(e){return e.height}),";position:relative;border-color:transparent;margin-bottom:0;");c.defaultProps={height:"200px"},t.a=c},1738:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return O}));var n=r(20),a=r.n(n),o=r(28),i=r.n(o),s=r(17),c=r.n(s),u=r(43),l=r.n(u),p=r(337),f=r.n(p),d=r(74),v=r(1674),h=r(1779);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(e,t){var r=t.organization,n=t.project,a=t.environment,o=t.period,i=t.start,s=t.end,c=t.interval,u=t.includePrevious,p=t.query,f=t.yAxis,d=t.field,g=t.referenceEvent,b=t.keyTransactions,m=t.topEvents,j=t.orderby,O=Object(v.a)(u,o),D=Object.fromEntries(Object.entries({interval:c,project:n,environment:a,query:p,yAxis:f,field:d,referenceEvent:g,topEvents:m,orderby:j}).filter((function(e){return void 0!==l()(e,2)[1]}))),P=Object(h.a)({period:o,start:i,end:s},{shouldDoublePeriod:O});return e.requestPromise("".concat(function(e,t){return"/organizations/".concat(e.slug,t?"/key-transactions-stats/":"/events-stats/")}(r,b)),{query:y({},D,{},P)})};function m(e,t,r){return j.apply(this,arguments)}function j(){return(j=i()(a.a.mark((function e(t,r,n){var o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=f()(n,Object.values(d.e)),i=y({},o,{query:n.query}),e.abrupt("return",t.requestPromise("/organizations/".concat(r,"/events-facets/"),{query:i}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,r){return D.apply(this,arguments)}function D(){return(D=i()(a.a.mark((function e(t,r,n){var o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=f()(n,Object.values(d.e)),i=y({},o,{query:n.query}),e.abrupt("return",t.requestPromise("/organizations/".concat(r,"/events-meta/"),{query:i}).then((function(e){return e.count})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1749:function(e,t,r){"use strict";var n=r(17),a=r.n(n),o=r(43),i=r.n(o),s=r(20),c=r.n(s),u=r(15),l=r.n(u),p=r(28),f=r.n(p),d=r(8),v=r.n(d),h=r(9),g=r.n(h),y=r(11),b=r.n(y),m=r(12),j=r.n(m),O=r(6),D=r.n(O),P=r(59),k=r.n(P),w=r(1754),R=r.n(w),S=r(2),x=r.n(S),z=r(1733),T=r(1738),E=r(1674),N=r(31),q=r(3),C=r(0);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var U=["api","children","organization","loading"],Y=function(e){return R()(e,(function(e,t){return U.includes(t)}))};var H=function(e){b()(n,e);var t,r=(t=n,function(){var e,r=D()(t);if(M()){var n=D()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return j()(this,e)});function n(){var e;v()(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).state={reloading:!!e.props.loading,errored:!1,timeseriesData:null},e.unmounting=!1,e.fetchData=f()(c.a.mark((function t(){var r,n,a,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,n=r.api,a=l()(r,["api"]),o=null,e.setState((function(e){return{reloading:null!==e.timeseriesData,errored:!1}})),t.prev=3,t.next=6,Object(T.a)(n,a);case 6:o=t.sent,t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),t.t0&&t.t0.responseJSON&&t.t0.responseJSON.detail?Object(N.a)(t.t0.responseJSON.detail):Object(N.a)(Object(q.b)("Error loading chart data")),e.setState({errored:!0});case 13:if(!e.unmounting){t.next=15;break}return t.abrupt("return");case 15:e.setState({reloading:!1,timeseriesData:o});case 16:case"end":return t.stop()}}),t,null,[[3,9]])}))),e.getData=function(t){var r=e.props,n=r.period,a=r.includePrevious,o=Object(E.a)(a,n),i=Math.floor(t.length/2);return{current:o?t.slice(i):t,previous:o?t.slice(0,i):null}},e}return g()(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){k()(Y(e),Y(this.props))||this.fetchData()}},{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"calculateTotalsPerTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 1e3*e};return e.map((function(e,r){var n=i()(e,2),a=n[0],o=n[1];return{name:t(a,o,r),value:o.reduce((function(e,t){return e+t.count}),0)}}))}},{key:"transformPreviousPeriodData",value:function(e,t){var r;return t?{seriesName:null!==(r=this.props.previousSeriesName)&&void 0!==r?r:"Previous",data:this.calculateTotalsPerTimestamp(t,(function(t,r,n){return 1e3*e[n][0]}))}:null}},{key:"transformAggregatedTimeseries",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{seriesName:t,data:this.calculateTotalsPerTimestamp(e)}}},{key:"transformTimeseriesData",value:function(e,t){return[{seriesName:t||"Current",data:e.map((function(e){var t=i()(e,2);return{name:1e3*t[0],value:t[1].reduce((function(e,t){return e+t.count}),0)}}))}]}},{key:"processData",value:function(e){if(!e)return{};var t=e.data,r=e.totals,n=this.props,a=n.includeTransformedData,o=n.includeTimeAggregation,i=n.timeAggregationSeriesName,s=this.getData(t),c=s.current,u=s.previous;return{data:a?this.transformTimeseriesData(c,this.props.currentSeriesName):[],allData:t,originalData:c,totals:r,originalPreviousData:u,previousData:a?this.transformPreviousPeriodData(c,u):null,timeAggregatedData:o?this.transformAggregatedTimeseries(c,i||""):{}}}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.children,a=r.showLoading,o=l()(r,["children","showLoading"]),i=this.state,s=i.timeseriesData,c=i.reloading,u=i.errored,p=this.props.loading||null===s;if(a&&p)return Object(C.f)(z.a,{"data-test-id":"events-request-loading"});if(null!==(e=s)&&void 0===e.data&&void 0===e.totals)return n(A({loading:p,reloading:c,errored:u,results:Object.keys(s).map((function(e){var r=s[e],n=t.transformTimeseriesData(r.data,e)[0];return[r.order||0,n]})).sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}))},o));var f=this.processData(s);return n(A({loading:p,reloading:c,errored:u,timeseriesData:f.data,allTimeseriesData:f.allData,originalTimeseriesData:f.originalData,timeseriesTotals:f.totals,originalPreviousTimeseriesData:f.originalPreviousData,previousTimeseriesData:f.previousData,timeAggregatedData:f.timeAggregatedData},o))}}]),n}(x.a.PureComponent);H.displayName="EventsRequest",H.defaultProps={period:void 0,start:null,end:null,interval:"1d",limit:15,query:"",includePrevious:!0,includeTransformedData:!0},t.a=H},1754:function(e,t,r){var n=r(225),a=r(1759),o=r(252);e.exports=function(e,t){return o(e,a(n(t)))}},1759:function(e,t){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},1784:function(e,t,r){"use strict";var n=r(4),a=Object(n.a)("div",{target:"esa86kh0",label:"ErrorPanel"})({name:"195kgij",styles:"display:flex;justify-content:center;align-items:center;flex:1;flex-shrink:0;overflow:hidden;height:200px;position:relative;border-color:transparent;margin-bottom:0;"});t.a=a},1822:function(e,t,r){"use strict";var n=r(8),a=r.n(n),o=r(9),i=r.n(o),s=r(11),c=r.n(s),u=r(12),l=r.n(u),p=r(6),f=r.n(p),d=r(7),v=r(2),h=r.n(v),g=r(59),y=r.n(g),b=r(31),m=r(55),j=r(3),O=r(1862),D=r(26),P=r(58),k=r(81),w=r(25),R=r(122);function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var x=function(e){c()(n,e);var t,r=(t=n,function(){var e,r=f()(t);if(S()){var n=f()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return l()(this,e)});function n(){var e;a()(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=r.call.apply(r,[this].concat(o))).state={releases:null,releaseSeries:[]},e.getReleaseSeries=function(t){var r=e.props,n=r.organization,a=r.router,o=r.tooltip;return{seriesName:"Releases",data:[],markLine:Object(O.a)({lineStyle:{normal:{color:D.a.purpleLight,opacity:.3,type:"solid"}},tooltip:o||{formatter:function(t){var r=t.data,n=Object(m.d)(r.value,"MMM D, YYYY LT",{local:!e.props.utc}),a=Object(w.e)(Object(R.d)(r.name,!0));return['<div class="tooltip-series">','<div><span class="tooltip-label"><strong>'.concat(Object(j.b)("Release"),"</strong></span> ").concat(a,"</div>"),"</div>",'<div class="tooltip-date">',n,"</div>","</div>",'<div class="tooltip-arrow"></div>'].join("")}},label:{show:!1},data:t.map((function(e){return{xAxis:+new Date(e.dateCreated),name:Object(R.d)(e.version,!0),value:Object(R.d)(e.version,!0),onClick:function(){a.push({pathname:"/organizations/".concat(n.slug,"/releases/").concat(e.version,"/"),query:new Set(n.features).has("global-views")?void 0:{project:a.location.query.project}})},label:{formatter:function(){return Object(R.d)(e.version,!0)}}}}))})}},e}return i()(n,[{key:"componentDidMount",value:function(){var e=this.props.releases;e?this.setReleasesWithSeries(e):this.fetchData()}},{key:"componentDidUpdate",value:function(e){y()(e.projects,this.props.projects)||this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=this.props,r=t.api,n=t.organization,a=t.projects,o=t.period;(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={};return Object.keys(r).forEach((function(e){r[e]&&(n[e]=r[e])})),e.requestPromise("/organizations/".concat(t.slug,"/releases/"),{method:"GET",query:n})})(r,n,{start:t.start,end:t.end,project:a,statsPeriod:o}).then((function(t){e.setReleasesWithSeries(t)})).catch((function(){Object(b.a)(Object(j.b)("Error fetching releases"))}))}},{key:"setReleasesWithSeries",value:function(e){this.setState({releases:e,releaseSeries:[this.getReleaseSeries(e)]})}},{key:"render",value:function(){return(0,this.props.children)({releases:this.state.releases,releaseSeries:this.state.releaseSeries})}}]),n}(h.a.Component);x.displayName="ReleaseSeries",t.a=Object(d.withRouter)(Object(k.a)(Object(P.a)(x)))},1823:function(e,t,r){"use strict";var n=r(8),a=r.n(n),o=r(9),i=r.n(o),s=r(11),c=r.n(s),u=r(12),l=r.n(u),p=r(6),f=r.n(p),d=r(2),v=r.n(d),h=r(1733),g=r(0);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(e){c()(n,e);var t,r=(t=n,function(){var e,r=f()(t);if(y()){var n=f()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return l()(this,e)});function n(){var e;a()(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=r.call.apply(r,[this].concat(o))).state={prevReloading:e.props.reloading,prevLoading:e.props.loading,key:1},e}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.height,r=e.loading,n=e.reloading;return r&&!n?Object(g.f)(h.a,{height:t,"data-test-id":"events-request-loading"}):Object(g.f)(v.a.Fragment,{key:String(this.state.key)},this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.prevReloading,n=e.reloading,a=t.prevLoading,o=e.loading;return a!==o?{prevReloading:n,prevLoading:o,key:t.key+1}:o?{prevReloading:n,prevLoading:o,key:t.key}:r&&!n?{prevReloading:n,prevLoading:o,key:t.key+1}:{prevReloading:n,prevLoading:o,key:t.key}}}]),n}(v.a.Component);b.displayName="TransitionChart",b.defaultProps={height:"200px"},t.a=b},1824:function(e,t,r){"use strict";var n=r(4),a=r(1744),o=Object(n.a)(a.a,{target:"ecv1fy50",label:"TransparentLoadingMask"})((function(e){return!e.visible&&"display: none;"}),";opacity:0.4;z-index:1;");t.a=o},1950:function(e,t,r){"use strict";var n=r(17),a=r.n(n),o=r(5),i=r.n(o),s=r(29),c=r.n(s),u=r(15),l=r.n(u),p=r(8),f=r.n(p),d=r(9),v=r.n(d),h=r(11),g=r.n(h),y=r(12),b=r.n(y),m=r(6),j=r.n(m),O=r(2),D=r.n(O),P=r(59),k=r.n(P),w=r(3),R=r(1674),S=r(1839),x=r(1773),z=r(1871),T=r(1755),E=r(1823),N=r(1822),q=r(27),C=r(26),L=r(1824),A=r(1784),M=r(122),U=r(113),Y=r(1749),H=r(0);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e){return function(){var t,r=j()(e);if(B()){var n=j()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return b()(this,t)}}function B(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var G=function(e){g()(r,e);var t=J(r);function r(){return f()(this,r),t.apply(this,arguments)}return v()(r,[{key:"shouldComponentUpdate",value:function(e){return!(e.reloading||!e.timeseriesData)&&!(k()(this.props.timeseriesData,e.timeseriesData)&&k()(this.props.releaseSeries,e.releaseSeries)&&k()(this.props.previousTimeseriesData,e.previousTimeseriesData))}},{key:"getChartComponent",value:function(){var e=this.props,t=e.showDaily,r=e.timeseriesData,n=e.yAxis;if(t)return z.a;if(r.length>1)switch(Object(U.d)(n)){case"line":return T.a;case"area":return x.a;default:throw new Error("Unknown multi plot type for ".concat(n))}return x.a}},{key:"render",value:function(){var e=this.props,t=(e.loading,e.reloading,e.yAxis,e.releaseSeries),r=e.zoomRenderProps,n=e.timeseriesData,a=e.previousTimeseriesData,o=e.showLegend,s=e.currentSeriesName,u=e.previousSeriesName,p=l()(e,["loading","reloading","yAxis","releaseSeries","zoomRenderProps","timeseriesData","previousTimeseriesData","showLegend","currentSeriesName","previousSeriesName"]),f=o&&{right:16,top:12,selectedMode:!1,icon:"circle",itemHeight:8,itemWidth:8,itemGap:12,align:"left",textStyle:{verticalAlign:"top",fontSize:11,fontFamily:"Rubik"},data:[null!=s?s:Object(w.b)("Current"),null!=u?u:Object(w.b)("Previous"),""]},d=C.a.charts.getColorPalette(n.length-2),v=this.getChartComponent(),h=Array.isArray(t)?[].concat(c()(n),c()(t)):n;return Object(H.f)(v,i()({},p,r,{legend:f,series:h,seriesOptions:{showSymbol:!1},previousPeriod:a?[a]:null,colors:d,grid:{left:"24px",right:"24px",top:"32px",bottom:"12px"}}))}}]),r}(D.a.Component);G.displayName="Chart";var I=function(e){g()(r,e);var t=J(r);function r(){return f()(this,r),t.apply(this,arguments)}return v()(r,[{key:"render",value:function(){var e=this.props,t=e.api,r=e.period,n=e.utc,a=e.query,o=e.router,s=e.start,c=e.end,u=e.projects,p=e.environments,f=e.showLegend,d=e.yAxis,v=e.disablePrevious,h=e.disableReleases,g=e.currentSeriesName,y=e.previousSeriesName,b=e.field,m=e.interval,j=e.showDaily,O=e.topEvents,D=e.orderby,P=l()(e,["api","period","utc","query","router","start","end","projects","environments","showLegend","yAxis","disablePrevious","disableReleases","currentSeriesName","previousSeriesName","field","interval","showDaily","topEvents","orderby"]),k=!v&&!s&&!c,x=(null!=y?y:d)?Object(w.b)("previous %s",d):void 0,z=null!=g?g:d,T={truncate:80,valueFormatter:function(e){switch(Object(U.e)(d)){case"integer":case"number":return e.toLocaleString();case"percentage":return Object(M.c)(e,2);case"duration":return Object(M.e)(e/1e3,2);default:return e}}},C=j?"1d":m||Object(R.c)(this.props,!0),W=function(e){var t=e.zoomRenderProps,r=e.releaseSeries,a=e.errored,o=e.loading,s=e.reloading,c=e.results,u=e.timeseriesData,l=e.previousTimeseriesData;if(a)return Object(H.f)(A.a,null,Object(H.f)(q.tb,{color:"gray500",size:"lg"}));var p=c||u;return Object(H.f)(E.a,{loading:o,reloading:s},Object(H.f)(L.a,{visible:s}),Object(H.f)(G,i()({},t,{tooltip:T,loading:o,reloading:s,utc:n,showLegend:f,releaseSeries:r||[],timeseriesData:p,previousTimeseriesData:l,currentSeriesName:z,previousSeriesName:x,stacked:"number"==typeof O&&O>0,yAxis:d,showDaily:j})))};if(!h){var J=W;W=function(e){return Object(H.f)(N.a,{utc:n,period:r,start:s,end:c,api:t,projects:u},(function(t){var r=t.releaseSeries;return J(F({},e,{releaseSeries:r}))}))}}return Object(H.f)(S.a,i()({router:o,period:r,utc:n,projects:u,environments:p},P),(function(e){return Object(H.f)(Y.a,i()({},P,{api:t,period:r,project:u,environment:p,start:s,end:c,interval:C,query:a,includePrevious:k,currentSeriesName:z,previousSeriesName:x,yAxis:d,field:b,orderby:D,topEvents:O}),(function(t){return W(F({},t,{zoomRenderProps:e}))}))}))}}]),r}(D.a.Component);I.displayName="EventsChart",t.a=I},2891:function(e,t,r){"use strict";r.r(t),r.d(t,"Events",(function(){return je})),r.d(t,"parseRowFromLinks",(function(){return be}));var n=r(20),a=r.n(n),o=r(28),i=r.n(o),s=r(143),c=r.n(s),u=r(17),l=r.n(u),p=r(15),f=r.n(p),d=r(8),v=r.n(d),h=r(9),g=r.n(h),y=r(11),b=r.n(y),m=r(12),j=r.n(m),O=r(6),D=r.n(O),P=r(4),k=r(7),w=r(59),R=r.n(w),S=r(2),x=r.n(S),z=r(49),T=r(205),E=r(31),N=r(3),q=r(1640),C=r(1639),L=r(188),A=r(632),M=r(215),U=r(81),Y=r(206),H=r(1649),W=r(286),F=r(288),J=r(50),B=r(1672),G=r(86),I=r(10),X=r(287),Z=r(0);function K(e){return function(){var t,r=D()(e);if(V()){var n=D()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return j()(this,t)}}function V(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Q=function(e){b()(r,e);var t=K(r);function r(){return v()(this,r),t.apply(this,arguments)}return g()(r,[{key:"render",value:function(){var e=this.props,t=e.events,r=e.organization,n=e.utc,a=e.projectsMap;return t.map((function(e,t){var o=a.get(e.projectID),i=e.title||e.message.split("\n")[0].substr(0,100),s=o?"/organizations/".concat(r.slug,"/projects/").concat(null==o?void 0:o.slug,"/events/").concat(e.eventID,"/"):"";return Object(Z.f)(ne,{key:"".concat(null==o?void 0:o.slug,"-").concat(e.eventID),first:0===t},Object(Z.f)(ae,null,Object(Z.f)(oe,null,o?Object(Z.f)(k.Link,{to:s},i):i)),Object(Z.f)(ae,null,e["event.type"]),Object(Z.f)(ae,null,o?Object(Z.f)(F.a,{project:o,avatarSize:16,displayName:Object(Z.f)("span",null,null==o?void 0:o.slug),avatarProps:{consistentWidth:!0}}):Object(Z.f)(B.a,{height:"16px",width:"50px"})),Object(Z.f)(ae,null,e&&e.user&&Object(Z.f)(F.a,{user:e.user,hideEmail:!0,avatarSize:16})),Object(Z.f)(ae,null,Object(Z.f)(ie,{utc:n,date:new Date(e.dateCreated)})))}))}}]),r}(x.a.PureComponent);Q.displayName="EventsTableBody";var $=function(e){b()(r,e);var t=K(r);function r(){return v()(this,r),t.apply(this,arguments)}return g()(r,[{key:"shouldComponentUpdate",value:function(e){return this.props.reloading!==e.reloading||this.props.zoomChanged!==e.zoomChanged||this.props.loading!==e.loading||this.props.loadingProjects!==e.loadingProjects||(this.props.organization!==e.organization||this.props.events!==e.events)}},{key:"componentDidUpdate",value:function(e){this.props.onUpdateComplete&&e.zoomChanged&&this.props.reloading&&this.props.onUpdateComplete()}},{key:"render",value:function(){var e=this.props,t=e.events,r=e.organization,n=e.loading,a=e.reloading,o=e.zoomChanged,i=e.utc,s=t&&!!t.length;return Object(Z.f)(T.a,null,Object(Z.f)(T.e,null,Object(Z.f)(te,null,Object(Z.f)("div",null,Object(N.b)("Event")),Object(Z.f)("div",null,Object(N.b)("Event Type")),Object(Z.f)("div",null,Object(N.b)("Project")),Object(Z.f)("div",null,Object(N.b)("User")),Object(Z.f)("div",null,Object(N.b)("Time")))),n&&Object(Z.f)(J.default,null),!n&&!s&&Object(Z.f)(W.a,null,Object(Z.f)("p",null,Object(N.b)("No events"))),s&&Object(Z.f)(ee,null,(a||o)&&Object(Z.f)(re,{overlay:!0}),Object(Z.f)(Q,{projectsMap:this.projectsMap,events:t,organization:r,utc:i})))}},{key:"projectsMap",get:function(){var e=this.props,t=e.organization,r=e.loadingProjects,n=e.projects,a=!r&&n||t.projects||[];return new Map(a.map((function(e){return[e.id,e]})))}}]),r}(x.a.Component);$.displayName="EventsTable";var _=Object(X.a)(Object(k.withRouter)($)),ee=Object(P.a)(T.c,{target:"e1n2302f0",label:"StyledPanelBody"})({name:"1npn4o",styles:"overflow-x:auto;padding:0;"}),te=Object(P.a)("div",{target:"e1n2302f1",label:"TableLayout"})("display:grid;grid-template-columns:0.8fr 0.15fr 0.15fr 0.25fr 200px;grid-column-gap:",Object(I.a)(1.5),";width:100%;"),re=Object(P.a)(J.default,{target:"e1n2302f2",label:"StyledLoadingIndicator"})({name:"mycoky",styles:"padding-top:10vh;z-index:1;&.loading.overlay{align-items:flex-start;}"}),ne=Object(P.a)(te,{target:"e1n2302f3",label:"TableRow"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";border-top:1px solid ",(function(e){return e.first?"transparent":e.theme.borderLight}),";align-items:center;padding:",Object(I.a)(1)," ",Object(I.a)(2),";"),ae=Object(P.a)("div",{target:"e1n2302f4",label:"TableData"})({name:"i6bazn",styles:"overflow:hidden;"}),oe=Object(P.a)(ae,{target:"e1n2302f5",label:"EventTitle"})("padding-right:",Object(I.a)(2),";",G.a,";"),ie=Object(P.a)(H.a,{target:"e1n2302f6",label:"StyledDateTime"})("color:",(function(e){return e.theme.gray500}),";",G.a,";"),se=r(5),ce=r.n(se),ue=r(1950),le=r(58),pe=r(389);function fe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var de=Object(pe.a)(Object(le.a)(function(e){b()(n,e);var t,r=(t=n,function(){var e,r=D()(t);if(fe()){var n=D()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return j()(this,e)});function n(){return v()(this,n),r.apply(this,arguments)}return g()(n,[{key:"render",value:function(){var e=this.props,t=e.selection,r=f()(e,["selection"]),n=t.datetime,a=t.projects,o=t.environments;return Object(Z.f)(ue.a,ce()({},n,{projects:a||[],environments:o||[]},r))}}]),n}(x.a.Component)));function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e){return function(){var t,r=D()(e);if(ye()){var n=D()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return j()(this,t)}}function ye(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var be=function(e,t){if(!(e=Object(M.a)(e)).previous.results)return"1-".concat(t);var r=(Number(e.previous.cursor.split(":")[1])+Number(e.next.cursor.split(":")[1]))/2+1;return"".concat(r,"-").concat(r+t-1)},me=function(e){b()(r,e);var t=ge(r);function r(){return v()(this,r),t.apply(this,arguments)}return g()(r,[{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,r=e.location.query,n=r.statsPeriod,a=f()(r,["statsPeriod"]);return[["eventsMeta","/organizations/".concat(t.slug,"/events-meta/"),{query:Object(Y.a)(he({statsPeriod:n},a))}]]}},{key:"onRequestError",value:function(){z.c(new Error('Unable to fetch "total event count"'))}},{key:"renderError",value:function(){return null}},{key:"renderBody",value:function(){var e=this.state.eventsMeta,t=this.props,r=t.isAllResults,n=t.numRows,a=r?n:e.count;return Object(N.b)(" of ".concat(a.toLocaleString()).concat(r?"":" (estimated)"))}}]),r}(q.a),je=function(e){b()(n,e);var t,r=ge(n);function n(){var e;v()(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).shouldReload=!0,e.handleZoom=function(){return e.setState({zoomed:!0})},e.handleTableUpdateComplete=function(){return e.setState({zoomed:!1})},e}return g()(n,[{key:"shouldComponentUpdate",value:function(e,t){var r=this;return this.state!==t||!!["path","search"].find((function(t){return!R()(r.props.location[t],e.location[t])}))}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,r=e.location.query,n=r.statsPeriod,a=f()(r,["statsPeriod"]);return[["events","/organizations/".concat(t.slug,"/events/"),{query:Object(Y.a)(he({statsPeriod:n},a))}]]}},{key:"getTitle",value:function(){return"Events - ".concat(this.props.organization.slug)}},{key:"handleRequestSuccess",value:(t=i()(a.a.mark((function e(t){var r,o,i,s,u,l,p,f,d,v,h,g=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.stateKey,i=t.data,"1"!==(s=t.jqXHR).getResponseHeader("X-Sentry-Direct-Hit")){e.next=11;break}return u=this.props.organization,l=i[0],e.next=6,this.api.requestPromise("/organizations/".concat(u.slug,"/projects/"),{query:{query:"id:".concat(l.projectID)}});case 6:if(!((p=e.sent)&&p.length>0)){e.next=11;break}return f=p[0],k.browserHistory.replace("/organizations/".concat(u.slug,"/projects/").concat(f.slug,"/events/").concat(l.eventID,"/")),e.abrupt("return");case 11:for(d=g.length,v=new Array(d>1?d-1:0),h=1;h<d;h++)v[h-1]=g[h];(r=c()(D()(n.prototype),"handleRequestSuccess",this)).call.apply(r,[this,{stateKey:o,data:i,jqXHR:s}].concat(v));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onRequestError",value:function(e){e&&e.responseJSON&&e.responseJSON.detail&&Object(E.a)(e.responseJSON.detail)}},{key:"renderRowCounts",value:function(){var e=this.state,t=e.events,r=e.eventsPageLinks;return r?be(r,t.length):null}},{key:"renderError",value:function(){return this.renderBody()}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderBody",value:function(){var e=this.props,t=e.organization,r=e.location,a=e.router,o=this.state,i=o.error,s=o.loading,u=o.reloading,l=o.events,p=o.eventsPageLinks,f=s||i||!p?{}:Object(M.a)(p);return Object(Z.f)(x.a.Fragment,null,i&&c()(D()(n.prototype),"renderError",this).call(this,new Error("Unable to load all required endpoints"),!1,!0),Object(Z.f)(T.a,null,Object(Z.f)(de,{router:a,query:r.query.query,organization:t,onZoom:this.handleZoom})),Object(Z.f)(_,{loading:!u&&s,reloading:u,zoomChanged:this.state.zoomed,events:l,organization:t,onUpdateComplete:this.handleTableUpdateComplete}),!s&&!u&&!i&&Object(Z.f)(De,null,Object(Z.f)(Pe,null,l.length?Object(N.b)("Results ".concat(this.renderRowCounts())):Object(N.b)("No Results"),!!l.length&&p&&Object(Z.f)(L.a,{features:["internal-catchall"]},Object(Z.f)(me,{organization:t,location:r,isAllResults:!f.previous.results&&!f.next.results,numRows:l.length}))),Object(Z.f)(Oe,{pageLinks:p})))}}]),n}(C.a),Oe=Object(P.a)(A.a,{target:"e1nvp54h0",label:"PaginationNoMargin"})({name:"1uk1gs8",styles:"margin:0;"}),De=Object(P.a)("div",{target:"e1nvp54h1",label:"PaginationWrapper"})({name:"1lekzkb",styles:"display:flex;align-items:center;justify-content:space-between;"}),Pe=Object(P.a)("div",{target:"e1nvp54h2",label:"RowDisplay"})("color:",(function(e){return e.theme.gray400}),";");t.default=Object(U.a)(je)}}]);
//# sourceMappingURL=Events.js.map