{"version":3,"sources":["webpack:///./app/views/asyncView.tsx","webpack:///./app/utils/routeTitle.tsx","webpack:///./app/components/avatar/avatarList.tsx","webpack:///./app/components/well.tsx","webpack:///./app/views/releasesV2/detail/utils.tsx","webpack:///./app/views/releasesV2/detail/releaseNoCommitData.tsx","webpack:///./app/components/listGroup.tsx","webpack:///./app/components/fileIcon.tsx","webpack:///./app/components/fileChange.tsx","webpack:///./app/components/repositoryFileSummary.jsx","webpack:///./app/views/releasesV2/detail/filesChanged/index.tsx"],"names":["AsyncView","title","this","getTitle","renderComponent","AsyncComponent","routeTitleGen","routeName","orgSlug","withSentry","tmpl","AvatarList","props","className","users","avatarSize","maxVisibleAvatars","renderTooltip","typeMembers","tooltipOptions","visibleUsers","slice","numCollapsedUsers","length","position","AvatarListWrapper","CollapsedUsers","size","Plus","map","user","StyledAvatar","key","id","email","hasTooltip","React","Component","defaultProps","Circle","UserAvatar","p","theme","borderLight","gray500","Math","floor","Well","gray100","hasImage","centered","propTypes","PropTypes","bool","deleteRelease","orgId","version","Client","requestPromise","encodeURIComponent","method","getFilesByRepository","fileList","reduce","filesByRepository","file","filename","repoName","author","type","hasOwnProperty","authors","types","Set","add","getCommitsByRepository","commitList","commitsByRepository","commit","repositoryName","repository","name","t","push","ReleaseNoCommitData","StyledWell","priority","to","white","space","ListGroupItem","borderRadius","ListGroup","striped","FILE_EXTENSION_TO_ICON","jsx","tsx","js","ts","php","py","vue","go","java","perl","rb","rs","rlib","swift","h","m","mm","M","cs","ex","exs","FileIcon","fileName","providedSize","fileExtension","split","pop","iconName","iconSizes","src","require","width","height","FileChange","FileItem","Filename","StyledFileIcon","fontSizeMedium","gray400","Collapsed","onClick","tn","count","RepositoryFileSummary","args","onCollapseToggle","setState","collapsed","state","loading","fileChangeSummary","collapsable","maxWhenCollapsed","files","Object","keys","fileCount","sort","numCollapsed","canCollapse","Container","values","FilesChanged","params","organization","formatVersion","release","slug","repos","ContentBox","small","gray600","withOrganization"],"mappings":"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","file":"ReleasesV2DetailFilesChanged.js","sourcesContent":["import DocumentTitle from 'react-document-title';\nimport React from 'react';\n\nimport AsyncComponent from 'app/components/asyncComponent';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    const title = this.getTitle();\n    return (\n      <DocumentTitle title={`${title ? `${title} - ` : ''}Sentry`}>\n        {this.renderComponent()}\n      </DocumentTitle>\n    );\n  }\n}\n","function routeTitleGen(\n  routeName: string,\n  orgSlug: string,\n  withSentry: boolean = true\n): string {\n  const tmpl = `${routeName} - ${orgSlug}`;\n  return withSentry ? `${tmpl} - Sentry` : tmpl;\n}\n\nexport default routeTitleGen;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from '@emotion/styled';\nimport {css} from '@emotion/core';\n\nimport {AvatarUser} from 'app/types';\nimport SentryTypes from 'app/sentryTypes';\nimport UserAvatar from 'app/components/avatar/userAvatar';\nimport Tooltip from 'app/components/tooltip';\n\nconst defaultProps = {\n  avatarSize: 28,\n  maxVisibleAvatars: 5,\n  typeMembers: 'users',\n  tooltipOptions: {},\n};\n\ntype DefaultProps = Readonly<typeof defaultProps>;\ntype Mutable<T> = {-readonly [P in keyof T]: T[P]};\n\ntype Props = {\n  className?: string;\n  users: AvatarUser[];\n  renderTooltip?: UserAvatar['props']['renderTooltip'];\n  tooltipOptions: Mutable<UserAvatar['props']['tooltipOptions']>;\n} & DefaultProps;\n\nexport default class AvatarList extends React.Component<Props> {\n  static propTypes = {\n    users: PropTypes.arrayOf(SentryTypes.User).isRequired,\n    avatarSize: PropTypes.number,\n    maxVisibleAvatars: PropTypes.number,\n    renderTooltip: PropTypes.func,\n    tooltipOptions: PropTypes.object,\n    typeMembers: PropTypes.string,\n  };\n\n  static defaultProps = defaultProps;\n\n  render() {\n    const {\n      className,\n      users,\n      avatarSize,\n      maxVisibleAvatars,\n      renderTooltip,\n      typeMembers,\n      tooltipOptions,\n    } = this.props;\n\n    const visibleUsers = users.slice(0, maxVisibleAvatars);\n    const numCollapsedUsers = users.length - visibleUsers.length;\n\n    if (!tooltipOptions.position) {\n      tooltipOptions.position = 'top';\n    }\n\n    return (\n      <AvatarListWrapper className={className}>\n        {!!numCollapsedUsers && (\n          <Tooltip title={`${numCollapsedUsers} other ${typeMembers}`}>\n            <CollapsedUsers size={avatarSize}>\n              {numCollapsedUsers < 99 && <Plus>+</Plus>}\n              {numCollapsedUsers}\n            </CollapsedUsers>\n          </Tooltip>\n        )}\n        {visibleUsers.map(user => (\n          <StyledAvatar\n            key={`${user.id}-${user.email}`}\n            user={user}\n            size={avatarSize}\n            renderTooltip={renderTooltip}\n            tooltipOptions={tooltipOptions}\n            hasTooltip\n          />\n        ))}\n      </AvatarListWrapper>\n    );\n  }\n}\n\n// used in releases list page to do some alignment\nexport const AvatarListWrapper = styled('div')`\n  display: flex;\n  flex-direction: row-reverse;\n`;\n\nconst Circle = css`\n  border-radius: 50%;\n  border: 2px solid white;\n  margin-left: -8px;\n  cursor: default;\n\n  &:hover {\n    z-index: 1;\n  }\n`;\n\nconst StyledAvatar = styled(UserAvatar)`\n  overflow: hidden;\n  ${Circle};\n`;\n\nconst CollapsedUsers = styled('div')<{size: number}>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  text-align: center;\n  font-weight: 600;\n  background-color: ${p => p.theme.borderLight};\n  color: ${p => p.theme.gray500};\n  font-size: ${p => Math.floor(p.size / 2.3)}px;\n  width: ${p => p.size}px;\n  height: ${p => p.size}px;\n  ${Circle};\n`;\n\nconst Plus = styled('span')`\n  font-size: 10px;\n  margin-left: 1px;\n  margin-right: -1px;\n`;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport PropTypes from 'prop-types';\n\ntype Props = {\n  hasImage?: boolean;\n  centered?: boolean;\n  children: React.ReactNode;\n  theme?: any;\n};\n\ntype WellProps = Omit<React.HTMLProps<HTMLDivElement>, keyof Props> & Props;\n\nconst Well = styled('div')<WellProps>`\n  border: 1px solid ${p => p.theme.borderLight};\n  box-shadow: none;\n  background: ${p => p.theme.gray100};\n  padding: ${p => (p.hasImage ? '80px 30px' : '15px 20px')};\n  margin-bottom: 20px;\n  border-radius: 3px;\n  ${p => p.centered && 'text-align: center'};\n`;\n\nWell.propTypes = {\n  hasImage: PropTypes.bool,\n  centered: PropTypes.bool,\n};\n\nexport default Well;\n","import {Client} from 'app/api';\nimport {CommitFile, Commit} from 'app/types';\nimport {t} from 'app/locale';\n\nexport type CommitsByRepository = {\n  [key: string]: Commit[];\n};\n\nexport const deleteRelease = (orgId: string, version: string) => {\n  const api = new Client();\n\n  return api.requestPromise(\n    `/organizations/${orgId}/releases/${encodeURIComponent(version)}/`,\n    {\n      method: 'DELETE',\n    }\n  );\n};\n\n/**\n * Convert list of individual file changes into a per-file summary grouped by repository\n */\nexport function getFilesByRepository(fileList: CommitFile[]) {\n  return fileList.reduce((filesByRepository, file) => {\n    const {filename, repoName, author, type} = file;\n\n    if (!filesByRepository.hasOwnProperty(repoName)) {\n      filesByRepository[repoName] = {};\n    }\n\n    if (!filesByRepository[repoName].hasOwnProperty(filename)) {\n      filesByRepository[repoName][filename] = {\n        authors: {},\n        types: new Set(),\n      };\n    }\n\n    filesByRepository[repoName][filename].authors[author.email] = author;\n    filesByRepository[repoName][filename].types.add(type);\n\n    return filesByRepository;\n  }, {});\n}\n\n/**\n * Convert list of individual commits into a summary grouped by repository\n */\nexport function getCommitsByRepository(commitList: Commit[]): CommitsByRepository {\n  return commitList.reduce((commitsByRepository, commit) => {\n    const repositoryName = commit.repository?.name ?? t('unknown');\n\n    if (!commitsByRepository.hasOwnProperty(repositoryName)) {\n      commitsByRepository[repositoryName] = [];\n    }\n\n    commitsByRepository[repositoryName].push(commit);\n\n    return commitsByRepository;\n  }, {});\n}\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport Button from 'app/components/button';\nimport Well from 'app/components/well';\nimport {IconCommit} from 'app/icons';\n\ntype Props = {\n  orgId: string;\n};\n\nconst ReleaseNoCommitData = ({orgId}: Props) => (\n  <StyledWell centered>\n    <IconCommit size=\"xl\" />\n    <h5>{t('Releases are better with commit data!')}</h5>\n    <p>\n      {t(\n        'Connect a repository to see commit info, files changed, and authors involved in future releases.'\n      )}\n    </p>\n    <Button priority=\"primary\" to={`/settings/${orgId}/repos/`}>\n      {t('Connect a repository')}\n    </Button>\n  </StyledWell>\n);\n\nconst StyledWell = styled(Well)`\n  background-color: ${p => p.theme.white};\n  padding-top: ${space(2)};\n  padding-bottom: ${space(4)};\n`;\n\nexport default ReleaseNoCommitData;\n","import styled from '@emotion/styled';\n\nimport space from 'app/styles/space';\n\ntype ListGroupProps = {\n  striped?: boolean;\n};\n\ntype ListGroupItemProps = {\n  centered?: boolean;\n};\n\nconst ListGroupItem = styled('li')<ListGroupItemProps>`\n  position: relative;\n  display: block;\n  min-height: 36px;\n  border: 1px solid ${p => p.theme.borderLight};\n\n  padding: ${space(0.5)} ${space(1.5)};\n\n  margin-bottom: -1px;\n  ${p => (p.centered ? 'text-align: center;' : '')}\n\n  &:first-child {\n    border-top-left-radius: ${p => p.theme.borderRadius};\n    border-top-right-radius: ${p => p.theme.borderRadius};\n  }\n  &:last-child {\n    border-bottom-left-radius: ${p => p.theme.borderRadius};\n    border-bottom-right-radius: ${p => p.theme.borderRadius};\n  }\n`;\n\nconst ListGroup = styled('ul')<ListGroupProps>`\n  box-shadow: 0 1px 0px rgba(0, 0, 0, 0.03);\n  background: ${p => p.theme.white};\n  padding: 0;\n  margin: 0;\n\n  ${p =>\n    p.striped\n      ? `\n    & > li:nth-child(odd) {\n      background: ${p.theme.gray100};\n    }\n  `\n      : ''}\n`;\n\nexport {ListGroup, ListGroupItem};\n","import React from 'react';\n\nimport {IconFile} from 'app/icons';\nimport theme from 'app/utils/theme';\n\nconst FILE_EXTENSION_TO_ICON = {\n  jsx: 'react',\n  tsx: 'react',\n  js: 'javascript',\n  ts: 'javascript',\n  php: 'php',\n  py: 'python',\n  vue: 'vue',\n  go: 'go',\n  java: 'java',\n  perl: 'perl',\n  rb: 'ruby',\n  rs: 'rust',\n  rlib: 'rust',\n  swift: 'swift',\n  h: 'apple',\n  m: 'apple',\n  mm: 'apple',\n  M: 'apple',\n  cs: 'csharp',\n  ex: 'elixir',\n  exs: 'elixir',\n};\n\ntype Props = {\n  fileName: string;\n  size?: string;\n  className?: string;\n};\n\nconst FileIcon = ({fileName, size: providedSize = 'sm', className}: Props) => {\n  const fileExtension = fileName.split('.').pop();\n  const iconName = fileExtension ? FILE_EXTENSION_TO_ICON[fileExtension] : null;\n  const size = theme.iconSizes[providedSize] ?? providedSize;\n\n  if (!iconName) {\n    return <IconFile size={size} className={className} />;\n  }\n\n  return (\n    <img\n      src={require(`platformicons/svg/${iconName}.svg`)}\n      width={size}\n      height={size}\n      className={className}\n    />\n  );\n};\n\nexport default FileIcon;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from '@emotion/styled';\n\nimport {ListGroupItem} from 'app/components/listGroup';\nimport space from 'app/styles/space';\nimport {AvatarUser} from 'app/types';\nimport AvatarList from 'app/components/avatar/avatarList';\nimport FileIcon from 'app/components/fileIcon';\nimport TextOverflow from 'app/components/textOverflow';\n\ntype Props = {\n  filename: string;\n  authors: AvatarUser[];\n};\n\nconst FileChange = ({filename, authors}: Props) => (\n  <FileItem>\n    <Filename>\n      <StyledFileIcon fileName={filename} />\n      <TextOverflow>{filename}</TextOverflow>\n    </Filename>\n    <div>\n      <AvatarList users={authors} avatarSize={25} typeMembers=\"authors\" />\n    </div>\n  </FileItem>\n);\n\nFileChange.propTypes = {\n  filename: PropTypes.string.isRequired,\n  authors: PropTypes.array.isRequired,\n};\n\nconst FileItem = styled(ListGroupItem)`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst Filename = styled('div')`\n  font-size: ${p => p.theme.fontSizeMedium};\n  display: grid;\n  grid-gap: ${space(1)};\n  margin-right: ${space(3)};\n  align-items: center;\n  grid-template-columns: max-content 1fr;\n`;\n\nconst StyledFileIcon = styled(FileIcon)`\n  color: ${p => p.theme.gray400};\n  border-radius: 3px;\n`;\n\nexport default FileChange;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from '@emotion/styled';\n\nimport {ListGroup, ListGroupItem} from 'app/components/listGroup';\nimport FileChange from 'app/components/fileChange';\nimport {t, tn} from 'app/locale';\nimport space from 'app/styles/space';\n\nfunction Collapsed(props) {\n  return (\n    <ListGroupItem centered>\n      <a onClick={props.onClick}>\n        {tn('Show %s collapsed file', 'Show %s collapsed files', props.count)}\n      </a>\n    </ListGroupItem>\n  );\n}\n\nCollapsed.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  count: PropTypes.number.isRequired,\n};\n\nclass RepositoryFileSummary extends React.Component {\n  static propTypes = {\n    fileChangeSummary: PropTypes.object,\n    repository: PropTypes.string,\n    collapsable: PropTypes.bool,\n    maxWhenCollapsed: PropTypes.number,\n  };\n\n  static defaultProps = {\n    collapsable: true,\n    maxWhenCollapsed: 5,\n  };\n\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: true,\n      collapsed: true,\n    };\n  }\n\n  onCollapseToggle = () => {\n    this.setState({\n      collapsed: !this.state.collapsed,\n    });\n  };\n\n  render() {\n    const {repository, fileChangeSummary, collapsable, maxWhenCollapsed} = this.props;\n    let files = Object.keys(fileChangeSummary);\n    const fileCount = files.length;\n    files.sort();\n    if (this.state.collapsed && collapsable && fileCount > maxWhenCollapsed) {\n      files = files.slice(0, maxWhenCollapsed);\n    }\n    const numCollapsed = fileCount - files.length;\n    const canCollapse = collapsable && fileCount > maxWhenCollapsed;\n    return (\n      <Container>\n        <h5>\n          {tn(\n            '%s file changed in ' + repository,\n            '%s files changed in ' + repository,\n            fileCount\n          )}\n        </h5>\n        <ListGroup striped>\n          {files.map(filename => {\n            const {authors, types} = fileChangeSummary[filename];\n            return (\n              <FileChange\n                key={filename}\n                filename={filename}\n                authors={Object.values(authors)}\n                types={types}\n              />\n            );\n          })}\n          {numCollapsed > 0 && (\n            <Collapsed onClick={this.onCollapseToggle} count={numCollapsed} />\n          )}\n          {numCollapsed === 0 && canCollapse && (\n            <ListGroupItem centered>\n              <a onClick={this.onCollapseToggle}>{t('Collapse')}</a>\n            </ListGroupItem>\n          )}\n        </ListGroup>\n      </Container>\n    );\n  }\n}\n\nconst Container = styled('div')`\n  margin-bottom: ${space(2)};\n`;\n\nexport default RepositoryFileSummary;\n","import React from 'react';\nimport {RouteComponentProps} from 'react-router/lib/Router';\nimport styled from '@emotion/styled';\n\nimport AsyncComponent from 'app/components/asyncComponent';\nimport RepositoryFileSummary from 'app/components/repositoryFileSummary';\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport {CommitFile, Repository, Organization} from 'app/types';\nimport EmptyStateWarning from 'app/components/emptyStateWarning';\nimport AsyncView from 'app/views/asyncView';\nimport withOrganization from 'app/utils/withOrganization';\nimport routeTitleGen from 'app/utils/routeTitle';\nimport {formatVersion} from 'app/utils/formatters';\nimport {Panel, PanelBody} from 'app/components/panels';\n\nimport {getFilesByRepository} from '../utils';\nimport ReleaseNoCommitData from '../releaseNoCommitData';\n\ntype RouteParams = {\n  orgId: string;\n  release: string;\n};\n\ntype Props = RouteComponentProps<RouteParams, {}> & {\n  organization: Organization;\n};\n\ntype State = {\n  fileList: CommitFile[];\n  repos: Repository[];\n} & AsyncComponent['state'];\n\nclass FilesChanged extends AsyncView<Props, State> {\n  getTitle() {\n    const {params, organization} = this.props;\n    return routeTitleGen(\n      t('Files Changed - Release %s', formatVersion(params.release)),\n      organization.slug,\n      false\n    );\n  }\n\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {orgId, release} = this.props.params;\n\n    return [\n      [\n        'fileList',\n        `/organizations/${orgId}/releases/${encodeURIComponent(release)}/commitfiles/`,\n      ],\n      ['repos', `/organizations/${orgId}/repos/`],\n    ];\n  }\n\n  renderBody() {\n    const {orgId} = this.props.params;\n    const {fileList, repos} = this.state;\n    const filesByRepository = getFilesByRepository(fileList);\n\n    if (repos.length === 0) {\n      return <ReleaseNoCommitData orgId={orgId} />;\n    }\n\n    return (\n      <ContentBox>\n        {fileList.length ? (\n          Object.keys(filesByRepository).map(repository => (\n            <RepositoryFileSummary\n              key={repository}\n              repository={repository}\n              fileChangeSummary={filesByRepository[repository]}\n              collapsable={false}\n            />\n          ))\n        ) : (\n          <Panel>\n            <PanelBody>\n              <EmptyStateWarning small>\n                {t('There are no changed files.')}\n              </EmptyStateWarning>\n            </PanelBody>\n          </Panel>\n        )}\n      </ContentBox>\n    );\n  }\n}\n\nconst ContentBox = styled('div')`\n  h5 {\n    color: ${p => p.theme.gray600};\n    font-size: ${p => p.theme.fontSizeMedium};\n    margin-bottom: ${space(1.5)};\n  }\n`;\n\nexport default withOrganization(FilesChanged);\n"],"sourceRoot":""}