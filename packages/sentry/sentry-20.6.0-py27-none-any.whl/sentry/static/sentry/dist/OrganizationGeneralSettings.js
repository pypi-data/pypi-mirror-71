(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[107],{1663:function(e,t,n){"use strict";n(2);var a=n(283),i=n.n(a),r=n(0),o=function(e){var t="".concat(e.title," - ").concat(e.objSlug," - Sentry");return Object(r.f)(i.a,{title:t},e.children)};o.displayName="SentryDocumentTitle",t.a=o},1684:function(e,t,n){"use strict";var a=n(5),i=n.n(a),r=n(15),o=n.n(r),s=n(8),c=n.n(s),l=n(9),u=n.n(l),b=n(11),f=n.n(b),d=n(12),p=n.n(d),h=n(6),m=n.n(h),j=n(2),y=n.n(j),g=n(45),v=n.n(g),O=n(284),w=n(0);function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var R=function(e){f()(a,e);var t,n=(t=a,function(){var e,n=m()(t);if(S()){var a=m()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return p()(this,e)});function a(){return c()(this,a),n.apply(this,arguments)}return u()(a,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabled,a=e.title,r=e.children,s=o()(e,["className","disabled","title","children"]);return Object(w.f)(O.a,i()({},s,{disabled:n}),Object(w.f)("a",{href:"#",className:v()(t||"",{disabled:n}),title:a},r))}}]),a}(y.a.PureComponent);R.displayName="LinkWithConfirmation",t.a=R},1777:function(e,t,n){"use strict";function a(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}n.d(t,"a",(function(){return a}))},1872:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(3);function i(e){return-1===e?Object(a.b)("Unlimited"):0===e?Object(a.b)("Disabled"):Object(a.c)("[value] per issue",{value:e})}var r,o=((r=Array.from(new Array(21),(function(e,t){return t}))).push(-1),r)},1926:function(e,t,n){"use strict";var a=n(5),i=n.n(a),r=n(15),o=n.n(r),s=(n(2),n(3)),c=n(384),l=n(90),u=n(27),b=n(0),f=function(e){var t=e.access,n=void 0===t?["org:write"]:t,a=o()(e,["access"]);return Object(b.f)(c.a,{access:n},(function(e){return!e.hasAccess&&Object(b.f)(l.b,i()({type:"warning",icon:Object(b.f)(u.tb,{size:"sm"})},a),Object(s.b)("These settings can only be edited by users with the organization owner or manager role."))}))};f.displayName="PermissionAlert",t.a=f},2048:function(e,t,n){"use strict";var a=n(25),i=n(3),r=n(1872),o=[{title:Object(i.b)("Security & Privacy"),fields:[{name:"require2FA",type:"boolean",label:Object(i.b)("Require Two-Factor Authentication"),help:Object(i.b)("Require and enforce two-factor authentication for all members"),confirm:{true:Object(i.b)("This will remove all members without two-factor authentication from your organization. It will also send them an email to setup 2FA and reinstate their access and settings. Do you want to continue?"),false:Object(i.b)("Are you sure you want to allow users to access your organization without having two-factor authentication enabled?")}},{name:"allowSharedIssues",type:"boolean",label:Object(i.b)("Allow Shared Issues"),help:Object(i.b)("Enable sharing of limited details on issues to anonymous users"),confirm:{true:Object(i.b)("Are you sure you want to allow sharing issues to anonymous users?")}},{name:"enhancedPrivacy",type:"boolean",label:Object(i.b)("Enhanced Privacy"),help:Object(i.b)("Enable enhanced privacy controls to limit personally identifiable information (PII) as well as source code in things like notifications"),confirm:{false:Object(i.b)("Disabling this can have privacy implications for ALL projects, are you sure you want to continue?")}},{name:"scrapeJavaScript",type:"boolean",confirm:{false:Object(i.b)("Are you sure you want to disable sourcecode fetching for JavaScript events? This will affect Sentry's ability to aggregate issues if you're not already uploading sourcemaps as artifacts.")},label:Object(i.b)("Allow JavaScript Source Fetching"),help:Object(i.b)("Allow Sentry to scrape missing JavaScript source context when possible")},{name:"storeCrashReports",type:"range",label:Object(i.b)("Store Native Crash Reports"),help:Object(i.b)("Store native crash reports such as Minidumps for improved processing and download in issue details"),visible:function(e){return e.features.has("event-attachments")},allowedValues:r.a,formatLabel:r.b},{name:"trustedRelays",type:"string",multiline:!0,autosize:!0,maxRows:10,placeholder:Object(i.b)("Paste the relay public keys here"),label:Object(i.b)("Trusted Relays"),help:Object(i.b)("The list of relay public keys that should be trusted. Any relay in this list will be permitted to access org and project configs. Separate multiple entries with a newline."),getValue:function(e){return Object(a.h)(e)},setValue:function(e){return e&&"function"==typeof e.join&&e.join("\n")||""},visible:function(e){return e.features.has("relay")}},{name:"allowJoinRequests",type:"boolean",label:Object(i.b)("Allow Join Requests"),help:Object(i.b)("Allow users to request to join your organization"),confirm:{true:Object(i.b)("Are you sure you want to allow users to request to join your organization?")},visible:function(e){return!e.hasSsoEnabled}}]},{title:Object(i.b)("Data Scrubbing"),fields:[{name:"dataScrubber",type:"boolean",label:Object(i.b)("Require Data Scrubber"),help:Object(i.b)("Require server-side data scrubbing be enabled for all projects"),confirm:{false:Object(i.b)("Disabling this can have privacy implications for ALL projects, are you sure you want to continue?")}},{name:"dataScrubberDefaults",type:"boolean",label:Object(i.b)("Require Using Default Scrubbers"),help:Object(i.b)("Require the default scrubbers be applied to prevent things like passwords and credit cards from being stored for all projects"),confirm:{false:Object(i.b)("Disabling this can have privacy implications for ALL projects, are you sure you want to continue?")}},{name:"sensitiveFields",type:"string",multiline:!0,autosize:!0,maxRows:10,placeholder:"e.g. email",label:Object(i.b)("Global Sensitive Fields"),help:Object(i.b)("Additional field names to match against when scrubbing data for all projects. Separate multiple entries with a newline."),extraHelp:Object(i.b)("Note: These fields will be used in addition to project specific fields."),getValue:function(e){return Object(a.h)(e)},setValue:function(e){return e&&"function"==typeof e.join&&e.join("\n")||""}},{name:"safeFields",type:"string",multiline:!0,autosize:!0,maxRows:10,placeholder:Object(i.b)("e.g. business-email"),label:Object(i.b)("Global Safe Fields"),help:Object(i.b)("Field names which data scrubbers should ignore. Separate multiple entries with a newline."),extraHelp:Object(i.b)("Note: These fields will be used in addition to project specific fields"),getValue:function(e){return Object(a.h)(e)},setValue:function(e){return e&&"function"==typeof e.join&&e.join("\n")||""}},{name:"scrubIPAddresses",type:"boolean",label:Object(i.b)("Prevent Storing of IP Addresses"),help:Object(i.b)("Preventing IP addresses from being stored for new events on all projects"),confirm:{false:Object(i.b)("Disabling this can have privacy implications for ALL projects, are you sure you want to continue?")}}]}];t.a=o},2885:function(e,t,n){"use strict";n.r(t);var a=n(5),i=n.n(a),r=n(8),o=n.n(r),s=n(9),c=n.n(s),l=n(11),u=n.n(l),b=n(12),f=n.n(b),d=n(6),p=n.n(d),h=n(7),m=n(2),j=n.n(m),y=n(205),g=n(31),v=n(397),O=n(3),w=n(640),S=n(317),R=n(1684),A=n(1926),z=n(1663),D=n(1641),P=n(633),q=n(58),I=n(81),N=n(1640),T=n(2310),F=n(1653),E=n(1654),M=n(1777),L=[{title:Object(O.b)("General"),fields:[{name:"slug",type:"string",required:!0,label:Object(O.b)("Name"),help:Object(O.b)("A unique ID used to identify this organization"),transformInput:M.a,saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:Object(O.b)("You will be redirected to the new organization slug after saving")},{name:"name",type:"string",required:!0,label:Object(O.b)("Display Name"),help:Object(O.b)("This is the name that users will see for the organization")},{name:"isEarlyAdopter",type:"boolean",label:Object(O.b)("Early Adopter"),help:Object(O.b)("Opt-in to new features before they're released to the public")}]},{title:"Membership",fields:[{name:"defaultRole",type:"array",required:!0,label:Object(O.b)("Default Role"),choices:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.initialData;return null!==(e=null==a?void 0:null===(t=a.availableRoles)||void 0===t?void 0:t.map((function(e){return[e.id,e.name]})))&&void 0!==e?e:[]},help:Object(O.b)("The default role new members will receive"),disabled:function(e){return!e.access.has("org:admin")}},{name:"openMembership",type:"boolean",required:!0,label:Object(O.b)("Open Membership"),help:Object(O.b)("Allow organization members to freely join or leave any team")},{name:"eventsMemberAdmin",type:"boolean",label:Object(O.b)("Grant Members Events Admin"),help:Object(O.b)("Allow members to delete events (including the delete & discard action) by granting them the `event:admin` scope.")},{name:"attachmentsRole",type:"array",choices:function(e){var t,n,a=e.initialData,i=void 0===a?{}:a;return null!==(t=null==i?void 0:null===(n=i.availableRoles)||void 0===n?void 0:n.map((function(e){return[e.id,e.name]})))&&void 0!==t?t:[]},label:Object(O.b)("Attachments Access"),help:Object(O.b)("Permissions required to download event attachments, such as native crash reports or log files."),visible:function(e){return e.features.has("event-attachments")}}]}],k=n(104),x=n(631),G=n(2048),J=n(188),C=n(0);function V(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var U=function(e){u()(a,e);var t,n=(t=a,function(){var e,n=p()(t);if(V()){var a=p()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return f()(this,e)});function a(){return o()(this,a),n.apply(this,arguments)}return c()(a,[{key:"getEndpoints",value:function(){var e=this.props.orgId;return[["authProvider","/organizations/".concat(e,"/auth-provider/")]]}},{key:"render",value:function(){var e=this.props,t=e.initialData,n=e.organization,a=e.orgId,r=e.onSave,o=e.access,s=this.state.authProvider,c="/organizations/".concat(a,"/"),l={additionalFieldProps:{hasSsoEnabled:!!s},features:new Set(n.features),access:o,location:this.props.location,disabled:!o.has("org:write")};return Object(C.f)(F.a,{"data-test-id":"organization-settings",apiMethod:"PUT",apiEndpoint:c,saveOnBlur:!0,allowUndo:!0,initialData:t,onSubmitSuccess:function(e,n){"function"==typeof r&&r(t,n.initialData)},onSubmitError:function(){return Object(g.a)("Unable to save change")}},Object(C.f)(E.a,i()({},l,{forms:L})),Object(C.f)(J.a,{features:["datascrubbers-v2"]},(function(e){return e.hasFeature?Object(C.f)(y.a,null,Object(C.f)(y.e,null,Object(O.b)("Security & Privacy")),Object(C.f)(x.a,{title:Object(O.b)("Security & Privacy has moved"),description:Object(C.f)(k.a,{to:"/settings/".concat(a,"/security-and-privacy/")},Object(O.b)("Go to Security & Privacy"))})):Object(C.f)(E.a,i()({},l,{forms:G.a}))})),Object(C.f)(T.a,{type:"organization",allowGravatar:!1,endpoint:"".concat(c,"avatar/"),model:t,onSave:v.h,disabled:!o.has("org:write")}))}}]),a}(N.a);U.displayName="OrganizationSettingsForm";var H=Object(I.a)(U);function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var B=function(e){u()(a,e);var t,n=(t=a,function(){var e,n=p()(t);if(W()){var a=p()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return f()(this,e)});function a(){var e;o()(this,a);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).handleRemoveOrganization=function(){var t=e.props,n=t.api,a=t.organization,i=t.params;a&&(Object(g.b)(),Object(v.e)(n,{orgId:i.orgId,successMessage:"".concat(a.name," is queued for deletion."),errorMessage:"Error removing the ".concat(a.name," organization")}))},e.handleSave=function(e,t){t.slug&&t.slug!==e.slug?(Object(v.a)(e,t),h.browserHistory.replace("/settings/".concat(t.slug,"/"))):Object(v.h)(t)},e}return c()(a,[{key:"render",value:function(){var e=this.props,t=e.organization,n=e.params.orgId,a=new Set(t.access),r=t.projects&&!!t.projects.length;return Object(C.f)(j.a.Fragment,null,Object(C.f)(z.a,{title:Object(O.b)("General Settings"),objSlug:n}),Object(C.f)("div",null,Object(C.f)(D.a,{title:Object(O.b)("Organization Settings")}),Object(C.f)(A.a,null),Object(C.f)(S.a,{name:"settings:organization-general-settings"}),Object(C.f)(H,i()({},this.props,{initialData:t,orgId:n,access:a,onSave:this.handleSave})),a.has("org:admin")&&!t.isDefault&&Object(C.f)(y.a,null,Object(C.f)(y.e,null,Object(O.b)("Remove Organization")),Object(C.f)(w.a,{label:Object(O.b)("Remove Organization"),help:Object(O.b)("Removing this organization will delete all data including projects and their associated events.")},Object(C.f)("div",null,Object(C.f)(R.a,{className:"btn btn-danger",priority:"danger",title:Object(O.b)("Remove %s organization",t&&t.name),message:Object(C.f)("div",null,Object(C.f)(P.a,null,Object(O.c)("Removing the organization, [name] is permanent and cannot be undone! Are you sure you want to continue?",{name:t&&Object(C.f)("strong",null,t.name)})),r&&Object(C.f)("div",null,Object(C.f)(P.a,{noMargin:!0},Object(O.b)("This will also remove the following associated projects:")),Object(C.f)("ul",{className:"ref-projects"},t.projects.map((function(e){return Object(C.f)("li",{key:e.slug},e.slug)}))))),onConfirm:this.handleRemoveOrganization},Object(O.b)("Remove Organization")))))))}}]),a}(j.a.Component);B.displayName="OrganizationGeneralSettings";t.default=Object(q.a)(Object(I.a)(B))}}]);
//# sourceMappingURL=OrganizationGeneralSettings.js.map