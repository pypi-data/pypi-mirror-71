(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[172],{1870:function(e,t,n){"use strict";var r=n(17),a=n.n(r),s=n(59),o=n.n(s),i=n(1),c=n.n(i),u=n(2),p=n.n(u),l=n(21),h=n.n(l),d=n(30),f=n.n(d),b=n(7),g=n(105),m=n.n(g),O=n(205),j=n(496),y=n(3),w=n(286),v=n(66),P=n(187),x=n(50),q=n(672),C=n(669),I=n(58),L=n(632),S=n(173),D=n(0),N=function(e){var t=e.withChart,n=void 0===t||t;return Object(D.f)(O.e,{disablePadding:!0},Object(D.f)(S.Box,{width:[8/12,8/12,.5],mx:2,flex:"1",className:"toolbar-header"},Object(y.b)("Issue")),n&&Object(D.f)(S.Box,{width:160,mx:2,className:"toolbar-header hidden-xs hidden-sm"},Object(y.b)("Last 24 hours")),Object(D.f)(S.Flex,{width:80,mx:2,justifyContent:"flex-end",className:"toolbar-header"},Object(y.b)("events")),Object(D.f)(S.Flex,{width:80,mx:2,justifyContent:"flex-end",className:"toolbar-header"},Object(y.b)("users")),Object(D.f)(S.Flex,{width:80,mx:2,justifyContent:"flex-end",className:"hidden-xs hidden-sm toolbar-header"},Object(y.b)("Assignee")))};N.displayName="GroupListHeader";var G=N;function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=f()({displayName:"GroupList",contextTypes:{location:c.a.object},mixins:[h.a.listenTo(v.a,"onGroupChange")],getInitialState:function(){return{loading:!0,error:!1,groups:[]}},componentWillMount:function(){this._streamManager=new C.a(v.a),this.fetchData()},shouldComponentUpdate:function(e,t){return!o()(this.state,t)||e.endpointPath!==this.props.endpointPath||e.query!==this.props.query||!o()(e.queryParams,this.props.queryParams)},componentDidUpdate:function(e){e.orgId===this.props.orgId&&e.endpointPath===this.props.endpointPath&&e.query===this.props.query&&o()(e.queryParams,this.props.queryParams)||this.fetchData()},componentWillUnmount:function(){v.a.loadInitialData([])},fetchData:function(){var e=this;v.a.loadInitialData([]);var t=this.props,n=t.api,r=t.orgId;this.setState({loading:!0,error:!1}),Object(j.a)(n,r).then((function(t){e.setState({memberList:Object(j.c)(t)})})),n.request(this.getGroupListEndpoint(),{success:function(t,n,r){e._streamManager.push(t),e.setState({error:!1,loading:!1,pageLinks:r.getResponseHeader("Link")})},error:function(){e.setState({error:!0,loading:!1})}})},getGroupListEndpoint:function(){var e=this.props,t=e.orgId,n=e.endpointPath,r=e.queryParams,a=null!=n?n:"/organizations/".concat(t,"/issues/"),s=null!=r?r:this.getQueryParams();return"".concat(a,"?").concat(m.a.stringify(s))},getQueryParams:function(){var e=this.props.query,t=this.context.location.query;return t.limit=50,t.sort="new",t.query=e,t},onCursorChange:function(e,t,n,r){var a=parseInt(n.page,10),s=isNaN(a)?r:a+r;s<=0&&(e=void 0,s=void 0),b.browserHistory.push({pathname:t,query:E({},n,{cursor:e})})},onGroupChange:function(){var e=this._streamManager.getAllItems();o()(e,this.state.groups)||this.setState({groups:e})},render:function(){var e=this.props,t=e.orgId,n=e.canSelectGroups,r=e.withChart,a=e.renderEmptyMessage,s=e.withPagination,o=this.state,i=o.loading,c=o.error,u=o.groups,l=o.memberList,h=o.pageLinks;return i?Object(D.f)(x.default,null):c?Object(D.f)(P.a,{onRetry:this.fetchData}):0===u.length?"function"==typeof a?a():Object(D.f)(O.a,null,Object(D.f)(O.c,null,Object(D.f)(w.a,null,Object(D.f)("p",null,Object(y.b)("There don't seem to be any events fitting the query."))))):Object(D.f)(p.a.Fragment,null,Object(D.f)(O.a,null,Object(D.f)(G,{withChart:r}),Object(D.f)(O.c,null,u.map((function(e){var a=e.id,s=e.project,o=l&&l.hasOwnProperty(s.slug)?l[s.slug]:null;return Object(D.f)(q.a,{key:a,id:a,orgId:t,canSelect:n,withChart:r,memberList:o})})))),s&&Object(D.f)(L.a,{pageLinks:h,onCursor:this.onCursorChange}))}});M.defaultProps={canSelectGroups:!0,withChart:!0,withPagination:!0};t.a=Object(I.a)(M)},2825:function(e,t,n){"use strict";n.r(t);n(2);var r=n(7),a=n(90),s=n(1870),o=n(3),i=n(0),c=function(e){var t=e.release,n=e.params.orgId;return Object(i.f)("div",null,Object(i.f)(a.b,{icon:"icon-open",iconSize:"14px",type:"warning"},Object(i.f)(r.Link,{to:{pathname:"/organizations/".concat(n,"/issues/"),query:{query:"release:"+t.version}}},Object(o.b)("View all issues seen in this release in the stream"))),Object(i.f)(s.a,{orgId:n,query:'release:"'+t.version+'"',canSelectGroups:!1}))};c.displayName="ReleaseAllEvents",t.default=c}}]);
//# sourceMappingURL=ReleaseAllEvents.js.map