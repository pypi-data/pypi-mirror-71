require(["esri/Map","esri/views/MapView","esri/views/SceneView","esri/widgets/Expand","esri/widgets/Home","esri/widgets/Legend","esri/widgets/LayerList","esri/widgets/BasemapGallery","esri/widgets/Fullscreen","esri/widgets/Zoom","esri/layers/MapImageLayer","esri/layers/FeatureLayer","esri/tasks/IdentifyTask","esri/tasks/support/IdentifyParameters","dojo/domReady!"],function(e,i,s,t,a,n,r,o,l,d,p,c,u,v){var m="peta1_legend",w=new e({basemap:"topo"}),y=new s({container:"peta-1",center:[117,-4],zoom:3,map:w});var g;g=new c({title:"COVID19 Indonesia per Provinsi",url:"https://services5.arcgis.com/VS6HdKS0VfIhv8Ct/arcgis/rest/services/COVID19_Indonesia_per_Provinsi/FeatureServer/0",renderer:{type:"simple",symbol:{type:"simple-marker",color:"red",outline:{color:"white",width:1}},visualVariables:[{type:"size",field:"Kasus_Posi",legendOptions:{title:"COVID19 Indonesia per Provinsi"},stops:[{value:50,size:"3px",label:"< 50 kasus"},{value:250,size:"8px",label:"250 kasus"},{value:750,size:"13px",label:"750 kasus"},{value:1e3,size:"28px",label:"1000 kasus"},{value:3e3,size:"40px",label:"3000 kasus"},{value:7e3,size:"65px",label:"> 7000 kasus"}]}]},popupTemplate:{title:"COVID19 Indonesia per Provinsi",content:[{type:"fields",fieldInfos:[{fieldName:"Kode_Provi",label:"Kode Provinsi"},{fieldName:"Provinsi",label:"Provinsi"},{fieldName:"Kasus_Posi",label:"Kasus Positif"},{fieldName:"Kasus_Semb",label:"Kasus Sembuh"},{fieldName:"Kasus_Meni",label:"Kasus Meninggal"}]}]},definitionExpression:"Provinsi <> 'Indonesia'"}),w.layers.add(g),y.ui.components=[];var f=new a({view:y});y.ui.add(f,"top-right");var b=new d({view:y});y.ui.add(b,"bottom-right");var I=new t({expandIconClass:"esri-icon-basemap",expandTooltip:"Expand BasemapGallery",view:y,content:new o({view:y,container:document.createElement("div")}).domNode});y.ui.add(I,"top-right");var h=new r({container:document.createElement("div"),view:y,listItemCreatedFunction:function(e){e.item.actionsSections=[[{title:"URL service information",className:"esri-icon-description",id:"information"}]]}});h.on("trigger-action",function(e){var i=e.action.id;console.log(e.item.layer.url),"information"===i&&window.open(e.item.layer.url)});var x=new t({expandIconClass:"esri-icon-layer-list",expandTooltip:"Expand LayerList",view:y,content:h.domNode});y.ui.add(x,"top-right");var E=document.createElement("div");E.style.width="185px",E.setAttribute("id",m);var L=document.createElement("i");L.classList.add("fa","fa-close","w3-right"),L.style.paddingTop="10px",L.style.paddingRight="10px",L.style.cursor="pointer",E.appendChild(L),L.addEventListener("click",function(e){document.getElementById(m).style.visibility="hidden"});new n({view:y,layerInfos:[{layer:g,title:"COVID19 Indonesia per Provinsi"}],container:E,style:"classic"});y.ui.add(E,"top-left");var P=document.createElement("div");P.classList.add("esri-component","esri-home","esri-widget--button","esri-widget"),P.setAttribute("title","Legend");var k=document.createElement("span");k.classList.add("esri-icon-documentation","toggle-icon"),P.appendChild(k),y.ui.add(P,"top-right"),P.addEventListener("click",function(e){var i;"hidden"===(i=document.getElementById(m)).style.visibility?i.style.visibility="visible":i.style.visibility="hidden"}),fullscreen=new l({view:y}),y.ui.add(fullscreen,"top-right")});