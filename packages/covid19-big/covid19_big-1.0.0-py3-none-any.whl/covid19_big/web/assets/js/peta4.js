require(["esri/Map","esri/views/MapView","esri/widgets/Expand","esri/widgets/Home","esri/widgets/Legend","esri/widgets/LayerList","esri/widgets/BasemapGallery","esri/widgets/Zoom","esri/layers/MapImageLayer","esri/tasks/IdentifyTask","esri/tasks/support/IdentifyParameters","dojo/domReady!"],function(e,t,i,n,a,o,r,s,d,l,c){var p,m,u="peta-4",y='"peta4_legend"',g="https://portal.ina-sdi.or.id/gis/rest/services/KemenkoPMK/LAB_CORONA/MapServer",v=new e({basemap:"gray"}),w=new t({container:u,center:[117,-4],zoom:4,map:v}),h=new d(g,null);v.layers.add(h),w.ui.components=[];var f=new n({view:w});w.ui.add(f,"top-right");var b=new s({view:w});w.ui.add(b,"bottom-right");var E=new r({view:w,container:document.createElement("div")}),L=new i({expandIconClass:"esri-icon-basemap",expandTooltip:"Expand BasemapGallery",view:w,content:E.domNode});w.ui.add(L,"top-right");var x=new o({container:document.createElement("div"),view:w,listItemCreatedFunction:function(e){e.item.actionsSections=[[{title:"URL service information",className:"esri-icon-description",id:"information"}]]}});x.on("trigger-action",function(e){var t=e.action.id;console.log(e.item.layer.url),"information"===t&&window.open(e.item.layer.url)});var I=new i({expandIconClass:"esri-icon-layer-list",expandTooltip:"Expand LayerList",view:w,content:x.domNode});w.ui.add(I,"top-right");var B=document.createElement("div");B.style.width="185px",B.setAttribute("id",y);var k=document.createElement("i");k.classList.add("fa","fa-close","w3-right"),k.style.paddingTop="10px",k.style.paddingRight="10px",k.style.cursor="pointer",B.appendChild(k),k.addEventListener("click",function(e){document.getElementById(y).style.visibility="hidden"});new a({view:w,layerInfos:[{layer:h,title:"LAB_CORONA"}],container:B,style:"classic"});w.ui.add(B,"top-left");var C=document.createElement("div");C.classList.add("esri-component","esri-home","esri-widget--button","esri-widget"),C.setAttribute("title","Legend");var N=document.createElement("span");function A(e){m.geometry=e.mapPoint,m.mapExtent=w.extent,document.getElementById(u).style.cursor="wait",p.execute(m).then(function(e){return e.results.map(function(e){var t=e.feature,i=e.layerName;t.attributes.layerName=i,console.log(t.attributes);var n=document.createElement("div"),a=t.attributes,o="<table>";for(var r in a)console.log(r),console.log(a[r]),o+="<tr><td>"+r+"</td><td>"+a[r]+"</td></tr>";return o+="</table>",n.innerHTML=o,t.popupTemplate={title:i,content:n},t})}).then(function(t){t.length>0&&w.popup.open({features:t,location:e.mapPoint});document.getElementById(u).style.cursor="auto"})}N.classList.add("esri-icon-documentation","toggle-icon"),C.appendChild(N),w.ui.add(C,"top-right"),C.addEventListener("click",function(e){var t;"hidden"===(t=document.getElementById(y)).style.visibility?t.style.visibility="visible":t.style.visibility="hidden"}),w.when(function(){w.on("click",A),p=new l(g),(m=new c).tolerance=3,m.layerIds=[0,1,2],m.layerOption="visible",m.width=w.width,m.height=w.height})});require(["esri/Map","esri/views/MapView","esri/widgets/Expand","esri/widgets/Home","esri/widgets/Legend","esri/widgets/LayerList","esri/widgets/BasemapGallery","esri/widgets/Zoom","esri/layers/MapImageLayer","esri/tasks/IdentifyTask","esri/tasks/support/IdentifyParameters","dojo/domReady!"],function(e,t,i,n,a,o,r,s,d,l,c){var p,m,u="peta-4",y='"peta4_legend"',g="https://portal.ina-sdi.or.id/gis/rest/services/KemenkoPMK/LAB_CORONA/MapServer",v=new e({basemap:"gray"}),w=new t({container:u,center:[117,-4],zoom:4,map:v}),h=new d(g,null);v.layers.add(h),w.ui.components=[];var f=new n({view:w});w.ui.add(f,"top-right");var b=new s({view:w});w.ui.add(b,"bottom-right");var E=new r({view:w,container:document.createElement("div")}),L=new i({expandIconClass:"esri-icon-basemap",expandTooltip:"Expand BasemapGallery",view:w,content:E.domNode});w.ui.add(L,"top-right");var x=new o({container:document.createElement("div"),view:w,listItemCreatedFunction:function(e){e.item.actionsSections=[[{title:"URL service information",className:"esri-icon-description",id:"information"}]]}});x.on("trigger-action",function(e){var t=e.action.id;console.log(e.item.layer.url),"information"===t&&window.open(e.item.layer.url)});var I=new i({expandIconClass:"esri-icon-layer-list",expandTooltip:"Expand LayerList",view:w,content:x.domNode});w.ui.add(I,"top-right");var B=document.createElement("div");B.style.width="185px",B.setAttribute("id",y);var k=document.createElement("i");k.classList.add("fa","fa-close","w3-right"),k.style.paddingTop="10px",k.style.paddingRight="10px",k.style.cursor="pointer",B.appendChild(k),k.addEventListener("click",function(e){document.getElementById(y).style.visibility="hidden"});new a({view:w,layerInfos:[{layer:h,title:"LAB_CORONA"}],container:B,style:"classic"});w.ui.add(B,"top-left");var C=document.createElement("div");C.classList.add("esri-component","esri-home","esri-widget--button","esri-widget"),C.setAttribute("title","Legend");var N=document.createElement("span");function A(e){m.geometry=e.mapPoint,m.mapExtent=w.extent,document.getElementById(u).style.cursor="wait",p.execute(m).then(function(e){return e.results.map(function(e){var t=e.feature,i=e.layerName;t.attributes.layerName=i,console.log(t.attributes);var n=document.createElement("div"),a=t.attributes,o="<table>";for(var r in a)console.log(r),console.log(a[r]),o+="<tr><td>"+r+"</td><td>"+a[r]+"</td></tr>";return o+="</table>",n.innerHTML=o,t.popupTemplate={title:i,content:n},t})}).then(function(t){t.length>0&&w.popup.open({features:t,location:e.mapPoint});document.getElementById(u).style.cursor="auto"})}N.classList.add("esri-icon-documentation","toggle-icon"),C.appendChild(N),w.ui.add(C,"top-right"),C.addEventListener("click",function(e){var t;"hidden"===(t=document.getElementById(y)).style.visibility?t.style.visibility="visible":t.style.visibility="hidden"}),w.when(function(){w.on("click",A),p=new l(g),(m=new c).tolerance=3,m.layerIds=[0,1,2],m.layerOption="visible",m.width=w.width,m.height=w.height})});